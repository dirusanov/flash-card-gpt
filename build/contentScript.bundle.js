(()=>{"use strict";var e={146:(e,t,n)=>{var r=n(363),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?i:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=i;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,r)}var i=u(n);d&&(i=i.concat(d(n)));for(var s=l(t),g=l(n),m=0;m<i.length;++m){var y=i[m];if(!(a[y]||r&&r[y]||g&&g[y]||s&&s[y])){var b=f(n,y);try{c(t,y,b)}catch(e){}}}}return t}},551:(e,t,n)=>{
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r=n(540),o=n(982);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function g(e,t,n,r,o,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,n,r){var o=m.hasOwnProperty(t)?m[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),j=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var F=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function I(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=N&&e[N]||e["@@iterator"])?e:null}var B,L=Object.assign;function z(e){if(void 0===B)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var D=!1;function M(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),a=r.stack.split("\n"),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(1!==i||1!==s)do{if(i--,0>--s||o[i]!==a[s]){var l="\n"+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{D=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1);case 11:return e=M(e.type.render,!1);case 1:return e=M(e.type,!0);default:return""}}function $(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case C:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case T:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:$(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return $(e(t))}catch(e){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function G(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Y(e,t){G(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function Ce(e){if(e=xo(e)){if("function"!=typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function _e(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function je(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ae(e,t){return e(t)}function Oe(){}var Te=!1;function Re(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ae(e,t,n)}finally{Te=!1,(null!==ke||null!==Ee)&&(Oe(),je())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=So(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var Fe=!1;if(u)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ue){Fe=!1}function Ie(e,t,n,r,o,a,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Be=!1,Le=null,ze=!1,De=null,Me={onError:function(e){Be=!0,Le=e}};function Ue(e,t,n,r,o,a,i,s,l){Be=!1,Le=null,Ie.apply(Me,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if($e(e)!==e)throw Error(a(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return He(o),e;if(i===r)return He(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=o.unstable_scheduleCallback,Je=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,Qe=o.unstable_requestPaint,Ge=o.unstable_now,Ye=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~o;0!==s?r=dt(s):0!==(a&=i)&&(r=dt(a))}else 0!==(i=n&~o)?r=dt(i):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&!(t&o)&&((o=r&-r)>=(a=t&-t)||16===o&&4194240&a))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-it(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var vt=0;function xt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var wt,St,kt,Et,Ct,_t=!1,jt=[],At=null,Ot=null,Tt=null,Rt=new Map,Pt=new Map,Ft=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Bt(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=xo(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=vo(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xo(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Dt(e,t,n){zt(e)&&n.delete(t)}function Mt(){_t=!1,null!==At&&zt(At)&&(At=null),null!==Ot&&zt(Ot)&&(Ot=null),null!==Tt&&zt(Tt)&&(Tt=null),Rt.forEach(Dt),Pt.forEach(Dt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Mt)))}function $t(e){function t(t){return Ut(t,e)}if(0<jt.length){Ut(jt[0],e);for(var n=1;n<jt.length;n++){var r=jt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Ut(At,e),null!==Ot&&Ut(Ot,e),null!==Tt&&Ut(Tt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Ft.length;n++)(r=Ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&null===(n=Ft[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ft.shift()}var Wt=x.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var o=vt,a=Wt.transition;Wt.transition=null;try{vt=1,Kt(e,t,n,r)}finally{vt=o,Wt.transition=a}}function qt(e,t,n,r){var o=vt,a=Wt.transition;Wt.transition=null;try{vt=4,Kt(e,t,n,r)}finally{vt=o,Wt.transition=a}}function Kt(e,t,n,r){if(Ht){var o=Xt(e,t,n,r);if(null===o)Hr(e,t,r,Jt,n),It(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return At=Bt(At,e,t,n,r,o),!0;case"dragenter":return Ot=Bt(Ot,e,t,n,r,o),!0;case"mouseover":return Tt=Bt(Tt,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Rt.set(a,Bt(Rt.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Pt.set(a,Bt(Pt.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==o;){var a=xo(o);if(null!==a&&wt(a),null===(a=Xt(e,t,n,r))&&Hr(e,t,r,Jt,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Jt=null;function Xt(e,t,n,r){if(Jt=null,null!==(e=vo(e=we(r))))if(null===(t=$e(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Gt=null,Yt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Yt,r=n.length,o="value"in Gt?Gt.value:Gt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),fn=on(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(pn),gn=on(L({},pn,{dataTransfer:0})),mn=on(L({},dn,{relatedTarget:0})),yn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=on(bn),xn=on(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return En}var _n=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jn=on(_n),An=on(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Tn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Rn),Fn=[9,13,27,32],Nn=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Bn=u&&"TextEvent"in window&&!In,Ln=u&&(!Nn||In&&8<In&&11>=In),zn=String.fromCharCode(32),Dn=!1;function Mn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Vn(e,t,n,r){_e(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Jn(e){zr(e,0)}function Xn(e){if(K(wo(e)))return e}function Qn(e,t){if("change"===e)return t}var Gn=!1;if(u){var Yn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"==typeof er.oninput}Yn=Zn}else Yn=!1;Gn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Kn=qn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];Vn(t,Kn,e,we(e)),Re(Jn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function ar(e,t){if("click"===e)return Xn(t)}function ir(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=void 0===r.end?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=ur(n,a);var i=ur(n,r);o&&i&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,br=null,vr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==mr||mr!==J(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=qr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Er={};function Cr(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var _r=Cr("animationend"),jr=Cr("animationiteration"),Ar=Cr("animationstart"),Or=Cr("transitionend"),Tr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Tr.set(e,t),l(t,[e])}for(var Fr=0;Fr<Rr.length;Fr++){var Nr=Rr[Fr];Pr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Pr(_r,"onAnimationEnd"),Pr(jr,"onAnimationIteration"),Pr(Ar,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,i,s,l,c){if(Ue.apply(this,arguments),Be){if(!Be)throw Error(a(198));var u=Le;Be=!1,Le=null,ze||(ze=!0,De=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break e;Lr(o,s,c),a=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,c=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break e;Lr(o,s,c),a=l}}}if(ze)throw e=De,ze=!1,De=null,e}function Dr(e,t){var n=t[mo];void 0===n&&(n=t[mo]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Mr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[Ur]){e[Ur]=!0,i.forEach((function(t){"selectionchange"!==t&&(Br.has(t)||Mr(t,!1,e),Mr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Mr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Qt(t)){case 1:var o=Vt;break;case 4:o=qt;break;default:o=Kt}n=o.bind(null,t,n,e),o=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;i=i.return}for(;null!==s;){if(null===(i=vo(s)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,o=we(n),i=[];e:{var s=Tr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=jn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case _r:case jr:case Ar:l=yn;break;case Or:l=Tn;break;case"scroll":l=fn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=!!(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var p,h=r;null!==h;){var g=(p=h).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==f&&(null!=(g=Pe(h,f))&&u.push(Vr(h,g,p)))),d)break;h=h.return}0<u.length&&(s=new l(s,c,null,n,o),i.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!vo(c)&&!c[go])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vo(c):null)&&(c!==(d=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=hn,g="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,g="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==l?s:wo(l),p=null==c?s:wo(c),(s=new u(g,h+"leave",l,n,o)).target=d,s.relatedTarget=p,g=null,vo(o)===r&&((u=new u(f,h+"enter",c,n,o)).target=p,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(f=c,h=0,p=u=l;p;p=Kr(p))h++;for(p=0,g=f;g;g=Kr(g))p++;for(;0<h-p;)u=Kr(u),h--;for(;0<p-h;)f=Kr(f),p--;for(;h--;){if(u===f||null!==f&&u===f.alternate)break e;u=Kr(u),f=Kr(f)}u=null}else u=null;null!==l&&Jr(i,s,l,u,!1),null!==c&&null!==d&&Jr(i,d,c,u,!0)}if("select"===(l=(s=r?wo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Qn;else if(Hn(s))if(Gn)m=ir;else{m=or;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Vn(i,m,n,o):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?wo(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,br=null);break;case"focusout":br=yr=mr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,xr(i,n,o);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(i,n,o)}var b;if(Nn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else $n?Mn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Ln&&"ko"!==n.locale&&($n||"onCompositionStart"!==v?"onCompositionEnd"===v&&$n&&(b=en()):(Yt="value"in(Gt=o)?Gt.value:Gt.textContent,$n=!0)),0<(y=qr(r,v)).length&&(v=new xn(v,e,null,n,o),i.push({event:v,listeners:y}),b?v.data=b:null!==(b=Un(n))&&(v.data=b))),(b=Bn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Dn=!0,zn);case"textInput":return(e=t.data)===zn&&Dn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!Nn&&Mn(e,t)?(e=en(),Zt=Yt=Gt=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(o=new xn("onBeforeInput","beforeinput",null,n,o),i.push({event:o,listeners:r}),o.data=b))}zr(i,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Pe(e,n))&&r.unshift(Vr(e,a,o)),null!=(a=Pe(e,t))&&r.push(Vr(e,a,o))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Pe(n,a))&&i.unshift(Vr(n,l,s)):o||null!=(l=Pe(n,a))&&i.push(Vr(n,l,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Xr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Gr(e){return("string"==typeof e?e:""+e).replace(Xr,"\n").replace(Qr,"")}function Yr(e,t,n){if(t=Gr(t),Gr(e)!==t&&n)throw Error(a(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,ao="function"==typeof Promise?Promise:void 0,io="function"==typeof queueMicrotask?queueMicrotask:void 0!==ao?function(e){return ao.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void $t(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);$t(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,ho="__reactProps$"+fo,go="__reactContainer$"+fo,mo="__reactEvents$"+fo,yo="__reactListeners$"+fo,bo="__reactHandles$"+fo;function vo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[go]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function xo(e){return!(e=e[po]||e[go])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function So(e){return e[ho]||null}var ko=[],Eo=-1;function Co(e){return{current:e}}function _o(e){0>Eo||(e.current=ko[Eo],ko[Eo]=null,Eo--)}function jo(e,t){Eo++,ko[Eo]=e.current,e.current=t}var Ao={},Oo=Co(Ao),To=Co(!1),Ro=Ao;function Po(e,t){var n=e.type.contextTypes;if(!n)return Ao;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Fo(e){return null!=(e=e.childContextTypes)}function No(){_o(To),_o(Oo)}function Io(e,t,n){if(Oo.current!==Ao)throw Error(a(168));jo(Oo,t),jo(To,n)}function Bo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,W(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ao,Ro=Oo.current,jo(Oo,e),jo(To,To.current),!0}function zo(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Bo(e,t,Ro),r.__reactInternalMemoizedMergedChildContext=e,_o(To),_o(Oo),jo(Oo,e)):_o(To),jo(To,n)}var Do=null,Mo=!1,Uo=!1;function $o(e){null===Do?Do=[e]:Do.push(e)}function Wo(){if(!Uo&&null!==Do){Uo=!0;var e=0,t=vt;try{var n=Do;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Do=null,Mo=!1}catch(t){throw null!==Do&&(Do=Do.slice(e+1)),Ke(Ze,Wo),t}finally{vt=t,Uo=!1}}return null}var Ho=[],Vo=0,qo=null,Ko=0,Jo=[],Xo=0,Qo=null,Go=1,Yo="";function Zo(e,t){Ho[Vo++]=Ko,Ho[Vo++]=qo,qo=e,Ko=t}function ea(e,t,n){Jo[Xo++]=Go,Jo[Xo++]=Yo,Jo[Xo++]=Qo,Qo=e;var r=Go;e=Yo;var o=32-it(r)-1;r&=~(1<<o),n+=1;var a=32-it(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Go=1<<32-it(t)+o|n<<o|r,Yo=a+e}else Go=1<<a|n<<o|r,Yo=e}function ta(e){null!==e.return&&(Zo(e,1),ea(e,1,0))}function na(e){for(;e===qo;)qo=Ho[--Vo],Ho[Vo]=null,Ko=Ho[--Vo],Ho[Vo]=null;for(;e===Qo;)Qo=Jo[--Xo],Jo[Xo]=null,Yo=Jo[--Xo],Jo[Xo]=null,Go=Jo[--Xo],Jo[Xo]=null}var ra=null,oa=null,aa=!1,ia=null;function sa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function la(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,oa=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qo?{id:Go,overflow:Yo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ra=e,oa=null,!0);default:return!1}}function ca(e){return!(!(1&e.mode)||128&e.flags)}function ua(e){if(aa){var t=oa;if(t){var n=t;if(!la(e,t)){if(ca(e))throw Error(a(418));t=co(n.nextSibling);var r=ra;t&&la(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(ca(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function fa(e){if(e!==ra)return!1;if(!aa)return da(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oa)){if(ca(e))throw pa(),Error(a(418));for(;t;)sa(e,t),t=co(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oa=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oa=null}}else oa=ra?co(e.stateNode.nextSibling):null;return!0}function pa(){for(var e=oa;e;)e=co(e.nextSibling)}function ha(){oa=ra=null,aa=!1}function ga(e){null===ia?ia=[e]:ia.push(e)}var ma=x.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ba=Co(null),va=null,xa=null,wa=null;function Sa(){wa=xa=va=null}function ka(e){var t=ba.current;_o(ba),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ca(e,t){va=e,wa=xa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(xs=!0),e.firstContext=null)}function _a(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===xa){if(null===va)throw Error(a(308));xa=e,va.dependencies={lanes:0,firstContext:e}}else xa=xa.next=e;return t}var ja=null;function Aa(e){null===ja?ja=[e]:ja.push(e)}function Oa(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Aa(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ta(e,r)}function Ta(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Na(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Ol){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ta(e,n)}return null===(o=r.interleaved)?(t.next=t,Aa(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ta(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function za(e,t,n,r){var o=e.updateQueue;Ra=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=o.baseState;for(i=0,u=c=l=null,s=a;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,g=s;switch(f=t,p=n,g.tag){case 1:if("function"==typeof(h=g.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(f="function"==typeof(h=g.payload)?h.call(p,d,f):h))break e;d=L({},d,f);break e;case 2:Ra=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,i|=f;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(f=s).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{i|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);Ll|=i,e.lanes=i,e.memoizedState=d}}function Da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(a(191,o));o.call(r)}}}var Ma=(new r.Component).refs;function Ua(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var $a={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),a=Na(r,o);a.payload=t,null!=n&&(a.callback=n),null!==(t=Ia(e,a,o))&&(rc(t,e,o,r),Ba(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),a=Na(r,o);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=Ia(e,a,o))&&(rc(t,e,o,r),Ba(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),o=Na(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=Ia(e,o,r))&&(rc(t,e,r,n),Ba(t,e,r))}};function Wa(e,t,n,r,o,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,a))}function Ha(e,t,n){var r=!1,o=Ao,a=t.contextType;return"object"==typeof a&&null!==a?a=_a(a):(o=Fo(t)?Ro:Oo.current,a=(r=null!=(r=t.contextTypes))?Po(e,o):Ao),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=$a,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Va(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$a.enqueueReplaceState(t,t.state,null)}function qa(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Ma,Pa(e);var a=t.contextType;"object"==typeof a&&null!==a?o.context=_a(a):(a=Fo(t)?Ro:Oo.current,o.context=Po(e,a)),o.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&$a.enqueueReplaceState(o,o.state,null),za(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=r,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=o.refs;t===Ma&&(t=o.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ja(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xa(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===P&&Xa(a)===t.type)?((r=o(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Bc(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case S:return(t=Dc(t,e.mode,n)).return=e,t;case P:return f(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Bc(t,e.mode,n,null)).return=e,t;Ja(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?c(e,t,n,r):null;case S:return n.key===o?u(e,t,n,r):null;case P:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||I(n))return null!==o?null:d(e,t,n,r,null);Ja(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case P:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||I(r))return d(t,e=e.get(n)||null,r,o,null);Ja(t,r)}return null}function g(o,a,s,l){for(var c=null,u=null,d=a,g=a=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=p(o,d,s[g],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(o,d),a=i(y,a,g),null===u?c=y:u.sibling=y,u=y,d=m}if(g===s.length)return n(o,d),aa&&Zo(o,g),c;if(null===d){for(;g<s.length;g++)null!==(d=f(o,s[g],l))&&(a=i(d,a,g),null===u?c=d:u.sibling=d,u=d);return aa&&Zo(o,g),c}for(d=r(o,d);g<s.length;g++)null!==(m=h(d,o,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),a=i(m,a,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(o,e)})),aa&&Zo(o,g),c}function m(o,s,l,c){var u=I(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,g=s,m=s=0,y=null,b=l.next();null!==g&&!b.done;m++,b=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var v=p(o,g,b.value,c);if(null===v){null===g&&(g=y);break}e&&g&&null===v.alternate&&t(o,g),s=i(v,s,m),null===d?u=v:d.sibling=v,d=v,g=y}if(b.done)return n(o,g),aa&&Zo(o,m),u;if(null===g){for(;!b.done;m++,b=l.next())null!==(b=f(o,b.value,c))&&(s=i(b,s,m),null===d?u=b:d.sibling=b,d=b);return aa&&Zo(o,m),u}for(g=r(o,g);!b.done;m++,b=l.next())null!==(b=h(g,o,m,b.value,c))&&(e&&null!==b.alternate&&g.delete(null===b.key?m:b.key),s=i(b,s,m),null===d?u=b:d.sibling=b,d=b);return e&&g.forEach((function(e){return t(o,e)})),aa&&Zo(o,m),u}return function e(r,a,i,l){if("object"==typeof i&&null!==i&&i.type===k&&null===i.key&&(i=i.props.children),"object"==typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,u=a;null!==u;){if(u.key===c){if((c=i.type)===k){if(7===u.tag){n(r,u.sibling),(a=o(u,i.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===P&&Xa(c)===u.type){n(r,u.sibling),(a=o(u,i.props)).ref=Ka(r,u,i),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===k?((a=Bc(i.props.children,r.mode,l,i.key)).return=r,r=a):((l=Ic(i.type,i.key,i.props,null,r.mode,l)).ref=Ka(r,a,i),l.return=r,r=l)}return s(r);case S:e:{for(u=i.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(r,a.sibling),(a=o(a,i.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Dc(i,r.mode,l)).return=r,r=a}return s(r);case P:return e(r,a,(u=i._init)(i._payload),l)}if(te(i))return g(r,a,i,l);if(I(i))return m(r,a,i,l);Ja(r,i)}return"string"==typeof i&&""!==i||"number"==typeof i?(i=""+i,null!==a&&6===a.tag?(n(r,a.sibling),(a=o(a,i)).return=r,r=a):(n(r,a),(a=zc(i,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var Ga=Qa(!0),Ya=Qa(!1),Za={},ei=Co(Za),ti=Co(Za),ni=Co(Za);function ri(e){if(e===Za)throw Error(a(174));return e}function oi(e,t){switch(jo(ni,t),jo(ti,e),jo(ei,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_o(ei),jo(ei,t)}function ai(){_o(ei),_o(ti),_o(ni)}function ii(e){ri(ni.current);var t=ri(ei.current),n=le(t,e.type);t!==n&&(jo(ti,e),jo(ei,n))}function si(e){ti.current===e&&(_o(ei),_o(ti))}var li=Co(0);function ci(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ui=[];function di(){for(var e=0;e<ui.length;e++)ui[e]._workInProgressVersionPrimary=null;ui.length=0}var fi=x.ReactCurrentDispatcher,pi=x.ReactCurrentBatchConfig,hi=0,gi=null,mi=null,yi=null,bi=!1,vi=!1,xi=0,wi=0;function Si(){throw Error(a(321))}function ki(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ei(e,t,n,r,o,i){if(hi=i,gi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fi.current=null===e||null===e.memoizedState?ss:ls,e=n(r,o),vi){i=0;do{if(vi=!1,xi=0,25<=i)throw Error(a(301));i+=1,yi=mi=null,t.updateQueue=null,fi.current=cs,e=n(r,o)}while(vi)}if(fi.current=is,t=null!==mi&&null!==mi.next,hi=0,yi=mi=gi=null,bi=!1,t)throw Error(a(300));return e}function Ci(){var e=0!==xi;return xi=0,e}function _i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yi?gi.memoizedState=yi=e:yi=yi.next=e,yi}function ji(){if(null===mi){var e=gi.alternate;e=null!==e?e.memoizedState:null}else e=mi.next;var t=null===yi?gi.memoizedState:yi.next;if(null!==t)yi=t,mi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mi=e).memoizedState,baseState:mi.baseState,baseQueue:mi.baseQueue,queue:mi.queue,next:null},null===yi?gi.memoizedState=yi=e:yi=yi.next=e}return yi}function Ai(e,t){return"function"==typeof t?t(e):t}function Oi(e){var t=ji(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mi,o=r.baseQueue,i=n.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(null!==o){i=o.next,r=r.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((hi&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,s=r):c=c.next=f,gi.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==i);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{i=o.lane,gi.lanes|=i,Ll|=i,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ti(e){var t=ji(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);sr(i,t.memoizedState)||(xs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ri(){}function Pi(e,t){var n=gi,r=ji(),o=t(),i=!sr(r.memoizedState,o);if(i&&(r.memoizedState=o,xs=!0),r=r.queue,Hi(Ii.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==yi&&1&yi.memoizedState.tag){if(n.flags|=2048,Di(9,Ni.bind(null,n,r,o,t),void 0,null),null===Tl)throw Error(a(349));30&hi||Fi(n,t,o)}return o}function Fi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gi.updateQueue)?(t={lastEffect:null,stores:null},gi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ni(e,t,n,r){t.value=n,t.getSnapshot=r,Bi(t)&&Li(e)}function Ii(e,t,n){return n((function(){Bi(t)&&Li(e)}))}function Bi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function Li(e){var t=Ta(e,1);null!==t&&rc(t,e,1,-1)}function zi(e){var t=_i();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,gi,e),[t.memoizedState,e]}function Di(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gi.updateQueue)?(t={lastEffect:null,stores:null},gi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Mi(){return ji().memoizedState}function Ui(e,t,n,r){var o=_i();gi.flags|=e,o.memoizedState=Di(1|t,n,void 0,void 0===r?null:r)}function $i(e,t,n,r){var o=ji();r=void 0===r?null:r;var a=void 0;if(null!==mi){var i=mi.memoizedState;if(a=i.destroy,null!==r&&ki(r,i.deps))return void(o.memoizedState=Di(t,n,a,r))}gi.flags|=e,o.memoizedState=Di(1|t,n,a,r)}function Wi(e,t){return Ui(8390656,8,e,t)}function Hi(e,t){return $i(2048,8,e,t)}function Vi(e,t){return $i(4,2,e,t)}function qi(e,t){return $i(4,4,e,t)}function Ki(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ji(e,t,n){return n=null!=n?n.concat([e]):null,$i(4,4,Ki.bind(null,t,e),n)}function Xi(){}function Qi(e,t){var n=ji();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ki(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gi(e,t){var n=ji();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ki(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yi(e,t,n){return 21&hi?(sr(n,t)||(n=gt(),gi.lanes|=n,Ll|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n)}function Zi(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=pi.transition;pi.transition={};try{e(!1),t()}finally{vt=n,pi.transition=r}}function es(){return ji().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))os(t,n);else if(null!==(n=Oa(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))os(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=a(i,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,i)){var l=t.interleaved;return null===l?(o.next=o,Aa(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Oa(e,t,o,r))&&(rc(n,e,r,o=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===gi||null!==t&&t===gi}function os(e,t){vi=bi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var is={readContext:_a,useCallback:Si,useContext:Si,useEffect:Si,useImperativeHandle:Si,useInsertionEffect:Si,useLayoutEffect:Si,useMemo:Si,useReducer:Si,useRef:Si,useState:Si,useDebugValue:Si,useDeferredValue:Si,useTransition:Si,useMutableSource:Si,useSyncExternalStore:Si,useId:Si,unstable_isNewReconciler:!1},ss={readContext:_a,useCallback:function(e,t){return _i().memoizedState=[e,void 0===t?null:t],e},useContext:_a,useEffect:Wi,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ui(4194308,4,Ki.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ui(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ui(4,2,e,t)},useMemo:function(e,t){var n=_i();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_i();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,gi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_i().memoizedState=e},useState:zi,useDebugValue:Xi,useDeferredValue:function(e){return _i().memoizedState=e},useTransition:function(){var e=zi(!1),t=e[0];return e=Zi.bind(null,e[1]),_i().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gi,o=_i();if(aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tl)throw Error(a(349));30&hi||Fi(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Wi(Ii.bind(null,r,i,e),[e]),r.flags|=2048,Di(9,Ni.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=_i(),t=Tl.identifierPrefix;if(aa){var n=Yo;t=":"+t+"R"+(n=(Go&~(1<<32-it(Go)-1)).toString(32)+n),0<(n=xi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:_a,useCallback:Qi,useContext:_a,useEffect:Hi,useImperativeHandle:Ji,useInsertionEffect:Vi,useLayoutEffect:qi,useMemo:Gi,useReducer:Oi,useRef:Mi,useState:function(){return Oi(Ai)},useDebugValue:Xi,useDeferredValue:function(e){return Yi(ji(),mi.memoizedState,e)},useTransition:function(){return[Oi(Ai)[0],ji().memoizedState]},useMutableSource:Ri,useSyncExternalStore:Pi,useId:es,unstable_isNewReconciler:!1},cs={readContext:_a,useCallback:Qi,useContext:_a,useEffect:Hi,useImperativeHandle:Ji,useInsertionEffect:Vi,useLayoutEffect:qi,useMemo:Gi,useReducer:Ti,useRef:Mi,useState:function(){return Ti(Ai)},useDebugValue:Xi,useDeferredValue:function(e){var t=ji();return null===mi?t.memoizedState=e:Yi(t,mi.memoizedState,e)},useTransition:function(){return[Ti(Ai)[0],ji().memoizedState]},useMutableSource:Ri,useSyncExternalStore:Pi,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var ps="function"==typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Na(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,ql=r),fs(0,t)},n}function gs(e,t,n){(n=Na(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!=typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bs(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Na(-1,1)).tag=2,Ia(n,t,1))),n.lanes|=1),e)}var vs=x.ReactCurrentOwner,xs=!1;function ws(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Ga(t,e.child,n,r)}function Ss(e,t,n,r,o){n=n.render;var a=t.ref;return Ca(t,o),r=Ei(e,t,n,r,a,o),n=Ci(),null===e||xs?(aa&&n&&ta(t),t.flags|=1,ws(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vs(e,t,o))}function ks(e,t,n,r,o){if(null===e){var a=n.type;return"function"!=typeof a||Fc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,o))}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Vs(e,t,o)}return t.flags|=1,(e=Nc(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=a,!(e.lanes&o))return t.lanes=e.lanes,Vs(e,t,o);131072&e.flags&&(xs=!0)}}return js(e,t,n,r,o)}function Cs(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,jo(Nl,Fl),Fl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,jo(Nl,Fl),Fl|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},jo(Nl,Fl),Fl|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,jo(Nl,Fl),Fl|=r;return ws(e,t,o,n),t.child}function _s(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function js(e,t,n,r,o){var a=Fo(n)?Ro:Oo.current;return a=Po(t,a),Ca(t,o),n=Ei(e,t,n,r,a,o),r=Ci(),null===e||xs?(aa&&r&&ta(t),t.flags|=1,ws(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vs(e,t,o))}function As(e,t,n,r,o){if(Fo(n)){var a=!0;Lo(t)}else a=!1;if(Ca(t,o),null===t.stateNode)Hs(e,t),Ha(t,n,r),qa(t,n,r,o),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=n.contextType;"object"==typeof c&&null!==c?c=_a(c):c=Po(t,c=Fo(n)?Ro:Oo.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||l!==c)&&Va(t,i,r,c),Ra=!1;var f=t.memoizedState;i.state=f,za(t,r,i,o),l=t.memoizedState,s!==r||f!==l||To.current||Ra?("function"==typeof u&&(Ua(t,n,u,r),l=t.memoizedState),(s=Ra||Wa(t,n,s,r,f,l,c))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=s):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Fa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ya(t.type,s),i.props=c,d=t.pendingProps,f=i.context,"object"==typeof(l=n.contextType)&&null!==l?l=_a(l):l=Po(t,l=Fo(n)?Ro:Oo.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==d||f!==l)&&Va(t,i,r,l),Ra=!1,f=t.memoizedState,i.state=f,za(t,r,i,o);var h=t.memoizedState;s!==d||f!==h||To.current||Ra?("function"==typeof p&&(Ua(t,n,p,r),h=t.memoizedState),(c=Ra||Wa(t,n,c,r,f,h,l)||!1)?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=l,r=c):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,a,o)}function Os(e,t,n,r,o,a){_s(e,t);var i=!!(128&t.flags);if(!r&&!i)return o&&zo(t,n,!1),Vs(e,t,a);r=t.stateNode,vs.current=t;var s=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=Ga(t,e.child,null,a),t.child=Ga(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,o&&zo(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Io(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Io(0,t.context,!1),oi(e,t.containerInfo)}function Rs(e,t,n,r,o){return ha(),ga(o),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Fs,Ns,Is,Bs={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,n){var r,o=t.pendingProps,i=li.current,s=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),jo(li,1&i),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},1&o||null===s?s=Lc(l,o,0,null):(s.childLanes=0,s.pendingProps=l),e=Bc(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Bs,e):Ds(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,o,i,s){if(n)return 256&t.flags?(t.flags&=-257,Ms(e,t,s,r=ds(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Lc({mode:"visible",children:r.children},o,0,null),(i=Bc(i,o,s,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,1&t.mode&&Ga(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Bs,i);if(!(1&t.mode))return Ms(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Ms(e,t,s,r=ds(i=Error(a(419)),r,void 0))}if(l=!!(s&e.childLanes),xs||l){if(null!==(r=Tl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=o&(r.suspendedLanes|s)?0:o)&&o!==i.retryLane&&(i.retryLane=o,Ta(e,o),rc(r,e,o,-1))}return mc(),Ms(e,t,s,r=ds(Error(a(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,oa=co(o.nextSibling),ra=t,aa=!0,ia=null,null!==e&&(Jo[Xo++]=Go,Jo[Xo++]=Yo,Jo[Xo++]=Qo,Go=e.id,Yo=e.overflow,Qo=t),t=Ds(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,i,n);if(s){s=o.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||t.child===i?(o=Nc(i,c)).subtreeFlags=14680064&i.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==r?s=Nc(r,s):(s=Bc(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Bs,o}return e=(s=e.child).sibling,o=Nc(s,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Ds(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ms(e,t,n,r){return null!==r&&ga(r),Ga(t,e.child,null,n),(e=Ds(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function $s(e,t,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Ws(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),2&(r=li.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(jo(li,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ci(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),$s(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ci(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}$s(t,!0,n,null,a);break;case"together":$s(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Hs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Js(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Fo(t.type)&&No(),Ks(t),null;case 3:return r=t.stateNode,ai(),_o(To),_o(Oo),di(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ia&&(sc(ia),ia=null))),Fs(e,t),Ks(t),null;case 5:si(t);var o=ri(ni.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=ri(ei.current),fa(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[po]=t,r[ho]=i,e=!!(1&t.mode),n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(o=0;o<Ir.length;o++)Dr(Ir[o],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":Q(r,i),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Dr("invalid",r);break;case"textarea":oe(r,i),Dr("invalid",r)}for(var l in be(n,i),o=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Yr(r.textContent,c,e),o=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Yr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Dr("scroll",r)}switch(n){case"input":q(r),Z(r,i,!0);break;case"textarea":q(r),ie(r);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[ho]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),o=r;break;case"iframe":case"object":case"embed":Dr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ir.length;o++)Dr(Ir[o],e);o=r;break;case"source":Dr("error",e),o=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),o=r;break;case"details":Dr("toggle",e),o=r;break;case"input":Q(e,r),o=X(e,r),Dr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Dr("invalid",e)}for(i in be(n,o),c=o)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?me(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"==typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"==typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Dr("scroll",e):null!=u&&v(e,i,u,l))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Is(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(n=ri(ni.current),ri(ei.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(i=r.nodeValue!==n)&&null!==(e=ra))switch(e.tag){case 3:Yr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,!!(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Ks(t),null;case 13:if(_o(li),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&1&t.mode&&!(128&t.flags))pa(),ha(),t.flags|=98560,i=!1;else if(i=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[po]=t}else ha(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),i=!1}else null!==ia&&(sc(ia),ia=null),i=!0;if(!i)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&li.current?0===Il&&(Il=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return ai(),Fs(e,t),null===e&&$r(t.stateNode.containerInfo),Ks(t),null;case 10:return ka(t.type._context),Ks(t),null;case 19:if(_o(li),null===(i=t.memoizedState))return Ks(t),null;if(r=!!(128&t.flags),null===(l=i.rendering))if(r)qs(i,!1);else{if(0!==Il||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ci(e))){for(t.flags|=128,qs(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return jo(li,1&li.current|2),t.child}e=e.sibling}null!==i.tail&&Ge()>Wl&&(t.flags|=128,r=!0,qs(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ci(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!aa)return Ks(t),null}else 2*Ge()-i.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,qs(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,n=li.current,jo(li,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Fl)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Xs(e,t){switch(na(t),t.tag){case 1:return Fo(t.type)&&No(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ai(),_o(To),_o(Oo),di(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return si(t),null;case 13:if(_o(li),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _o(li),null;case 4:return ai(),null;case 10:return ka(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fs=function(){},Ns=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ri(ei.current);var a,i=null;switch(n){case"input":o=X(e,o),r=X(e,r),i=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),i=[];break;case"textarea":o=re(e,o),r=re(e,r),i=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(u in be(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Dr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Is=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Gs=!1,Ys="function"==typeof WeakSet?WeakSet:Set,Zs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Cc(e,t,n)}else n.current=null}function tl(e,t,n){try{n()}catch(n){Cc(e,t,n)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&tl(t,n,a)}o=o.next}while(o!==r)}}function ol(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[ho],delete t[mo],delete t[yo],delete t[bo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,fl=!1;function pl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(at&&"function"==typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Gs||el(n,t);case 6:var r=dl,o=fl;dl=null,pl(e,t,n),fl=o,null!==(dl=r)&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(fl?(e=dl,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),$t(e)):lo(dl,n.stateNode));break;case 4:r=dl,o=fl,dl=n.stateNode.containerInfo,fl=!0,pl(e,t,n),dl=r,fl=o;break;case 0:case 11:case 14:case 15:if(!Gs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,void 0!==i&&(2&a||4&a)&&tl(n,t,i),o=o.next}while(o!==r)}pl(e,t,n);break;case 1:if(!Gs&&(el(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Cc(n,t,e)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Gs=(r=Gs)||null!==n.memoizedState,pl(e,t,n),Gs=r):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,fl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,fl=!0;break e}l=l.return}if(null===dl)throw Error(a(160));hl(i,s,o),dl=null,fl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Cc(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),bl(e),4&r){try{rl(3,e,e.return),ol(3,e)}catch(t){Cc(e,e.return,t)}try{rl(5,e,e.return)}catch(t){Cc(e,e.return,t)}}break;case 1:ml(t,e),bl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),bl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(t){Cc(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&G(o,i),ve(l,s);var u=ve(l,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?me(o,f):"dangerouslySetInnerHTML"===d?de(o,f):"children"===d?fe(o,f):v(o,d,f,u)}switch(l){case"input":Y(o,i);break;case"textarea":ae(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?ne(o,!!i.multiple,h,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(o,!!i.multiple,i.defaultValue,!0):ne(o,!!i.multiple,i.multiple?[]:"",!1))}o[ho]=i}catch(t){Cc(e,e.return,t)}}break;case 6:if(ml(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(t){Cc(e,e.return,t)}}break;case 3:if(ml(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{$t(t.containerInfo)}catch(t){Cc(e,e.return,t)}break;case 4:default:ml(t,e),bl(e);break;case 13:ml(t,e),bl(e),8192&(o=e.child).flags&&(i=null!==o.memoizedState,o.stateNode.isHidden=i,!i||null!==o.alternate&&null!==o.alternate.memoizedState||($l=Ge())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Gs=(u=Gs)||d,ml(t,e),Gs=u):ml(t,e),bl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&1&e.mode)for(Zs=e,d=e.child;null!==d;){for(f=Zs=d;null!==Zs;){switch(h=(p=Zs).child,p.tag){case 0:case 11:case 14:case 15:rl(4,p,p.return);break;case 1:el(p,p.return);var g=p.stateNode;if("function"==typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(e){Cc(r,n,e)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){Sl(f);continue}}null!==h?(h.return=p,Zs=h):Sl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,u?"function"==typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=f.stateNode,s=null!=(c=f.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(t){Cc(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(t){Cc(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),bl(e),4&r&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fe(o,""),r.flags&=-33),ul(e,ll(e),o);break;case 3:case 4:var i=r.stateNode.containerInfo;cl(e,ll(e),i);break;default:throw Error(a(161))}}catch(t){Cc(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Zs=e,xl(e,t,n)}function xl(e,t,n){for(var r=!!(1&e.mode);null!==Zs;){var o=Zs,a=o.child;if(22===o.tag&&r){var i=null!==o.memoizedState||Qs;if(!i){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Gs;s=Qs;var c=Gs;if(Qs=i,(Gs=l)&&!c)for(Zs=o;null!==Zs;)l=(i=Zs).child,22===i.tag&&null!==i.memoizedState?kl(o):null!==l?(l.return=i,Zs=l):kl(o);for(;null!==a;)Zs=a,xl(a,t,n),a=a.sibling;Zs=o,Qs=s,Gs=c}wl(e)}else 8772&o.subtreeFlags&&null!==a?(a.return=o,Zs=a):wl(e)}}function wl(e){for(;null!==Zs;){var t=Zs;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Gs||ol(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gs)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Da(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Da(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&$t(f)}}}break;default:throw Error(a(163))}Gs||512&t.flags&&al(t)}catch(e){Cc(t,t.return,e)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function Sl(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function kl(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ol(4,t)}catch(e){Cc(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){Cc(t,o,e)}}var a=t.return;try{al(t)}catch(e){Cc(t,a,e)}break;case 5:var i=t.return;try{al(t)}catch(e){Cc(t,i,e)}}}catch(e){Cc(t,t.return,e)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var El,Cl=Math.ceil,_l=x.ReactCurrentDispatcher,jl=x.ReactCurrentOwner,Al=x.ReactCurrentBatchConfig,Ol=0,Tl=null,Rl=null,Pl=0,Fl=0,Nl=Co(0),Il=0,Bl=null,Ll=0,zl=0,Dl=0,Ml=null,Ul=null,$l=0,Wl=1/0,Hl=null,Vl=!1,ql=null,Kl=null,Jl=!1,Xl=null,Ql=0,Gl=0,Yl=null,Zl=-1,ec=0;function tc(){return 6&Ol?Ge():-1!==Zl?Zl:Zl=Ge()}function nc(e){return 1&e.mode?2&Ol&&0!==Pl?Pl&-Pl:null!==ma.transition?(0===ec&&(ec=gt()),ec):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Qt(e.type):1}function rc(e,t,n,r){if(50<Gl)throw Gl=0,Yl=null,Error(a(185));yt(e,n,r),2&Ol&&e===Tl||(e===Tl&&(!(2&Ol)&&(zl|=n),4===Il&&lc(e,Pl)),oc(e,r),1===n&&0===Ol&&!(1&t.mode)&&(Wl=Ge()+500,Mo&&Wo()))}function oc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),s=1<<i,l=o[i];-1===l?s&n&&!(s&r)||(o[i]=pt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Tl?Pl:0);if(0===r)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Mo=!0,$o(e)}(cc.bind(null,e)):$o(cc.bind(null,e)),io((function(){!(6&Ol)&&Wo()})),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zl=-1,ec=0,6&Ol)throw Error(a(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ft(e,e===Tl?Pl:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=yc(e,r);else{t=r;var o=Ol;Ol|=2;var i=gc();for(Tl===e&&Pl===t||(Hl=null,Wl=Ge()+500,pc(e,t));;)try{vc();break}catch(t){hc(e,t)}Sa(),_l.current=i,Ol=o,null!==Rl?t=0:(Tl=null,Pl=0,t=Il)}if(0!==t){if(2===t&&(0!==(o=ht(e))&&(r=o,t=ic(e,o))),1===t)throw n=Bl,pc(e,0),lc(e,r),oc(e,Ge()),n;if(6===t)lc(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!sr(a(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=yc(e,r),2===t&&(i=ht(e),0!==i&&(r=i,t=ic(e,i))),1!==t)))throw n=Bl,pc(e,0),lc(e,r),oc(e,Ge()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Sc(e,Ul,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=$l+500-Ge())){if(0!==ft(e,0))break;if(((o=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(Sc.bind(null,e,Ul,Hl),t);break}Sc(e,Ul,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-it(r);i=1<<s,(s=t[s])>o&&(o=s),r&=~i}if(r=o,10<(r=(120>(r=Ge()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ro(Sc.bind(null,e,Ul,Hl),r);break}Sc(e,Ul,Hl);break;default:throw Error(a(329))}}}return oc(e,Ge()),e.callbackNode===n?ac.bind(null,e):null}function ic(e,t){var n=Ml;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Ul,Ul=n,null!==t&&sc(t)),e}function sc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function lc(e,t){for(t&=~Dl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(6&Ol)throw Error(a(327));kc();var t=ft(e,0);if(!(1&t))return oc(e,Ge()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Bl,pc(e,0),lc(e,t),oc(e,Ge()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Ul,Hl),oc(e,Ge()),null}function uc(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(Wl=Ge()+500,Mo&&Wo())}}function dc(e){null!==Xl&&0===Xl.tag&&!(6&Ol)&&kc();var t=Ol;Ol|=1;var n=Al.transition,r=vt;try{if(Al.transition=null,vt=1,e)return e()}finally{vt=r,Al.transition=n,!(6&(Ol=t))&&Wo()}}function fc(){Fl=Nl.current,_o(Nl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(na(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&No();break;case 3:ai(),_o(To),_o(Oo),di();break;case 5:si(r);break;case 4:ai();break;case 13:case 19:_o(li);break;case 10:ka(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Tl=e,Rl=e=Nc(e.current,null),Pl=Fl=t,Il=0,Bl=null,Dl=zl=Ll=0,Ul=Ml=null,null!==ja){for(t=0;t<ja.length;t++)if(null!==(r=(n=ja[t]).interleaved)){n.interleaved=null;var o=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=o,r.next=i}n.pending=r}ja=null}return e}function hc(e,t){for(;;){var n=Rl;try{if(Sa(),fi.current=is,bi){for(var r=gi.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}bi=!1}if(hi=0,yi=mi=gi=null,vi=!1,xi=0,jl.current=null,null===n||null===n.return){Il=1,Bl=t,Rl=null;break}e:{var i=e,s=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ys(s);if(null!==h){h.flags&=-257,bs(h,s,l,0,t),1&h.mode&&ms(i,u,t),c=u;var g=(t=h).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(!(1&t)){ms(i,u,t),mc();break e}c=Error(a(426))}else if(aa&&1&l.mode){var y=ys(s);if(null!==y){!(65536&y.flags)&&(y.flags|=256),bs(y,s,l,0,t),ga(us(c,l));break e}}i=c=us(c,l),4!==Il&&(Il=2),null===Ml?Ml=[i]:Ml.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,La(i,hs(0,c,t));break e;case 1:l=c;var b=i.type,v=i.stateNode;if(!(128&i.flags||"function"!=typeof b.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==Kl&&Kl.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,La(i,gs(i,l,t));break e}}i=i.return}while(null!==i)}wc(n)}catch(e){t=e,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function gc(){var e=_l.current;return _l.current=is,null===e?is:e}function mc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Tl||!(268435455&Ll)&&!(268435455&zl)||lc(Tl,Pl)}function yc(e,t){var n=Ol;Ol|=2;var r=gc();for(Tl===e&&Pl===t||(Hl=null,pc(e,t));;)try{bc();break}catch(t){hc(e,t)}if(Sa(),Ol=n,_l.current=r,null!==Rl)throw Error(a(261));return Tl=null,Pl=0,Il}function bc(){for(;null!==Rl;)xc(Rl)}function vc(){for(;null!==Rl&&!Xe();)xc(Rl)}function xc(e){var t=El(e.alternate,e,Fl);e.memoizedProps=e.pendingProps,null===t?wc(e):Rl=t,jl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Il=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Js(n,t,Fl)))return void(Rl=n);if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Il&&(Il=5)}function Sc(e,t,n){var r=vt,o=Al.transition;try{Al.transition=null,vt=1,function(e,t,n,r){do{kc()}while(null!==Xl);if(6&Ol)throw Error(a(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-it(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}(e,i),e===Tl&&(Rl=Tl=null,Pl=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Jl||(Jl=!0,Tc(tt,(function(){return kc(),null}))),i=!!(15990&n.flags),!!(15990&n.subtreeFlags)||i){i=Al.transition,Al.transition=null;var s=vt;vt=1;var l=Ol;Ol|=4,jl.current=null,function(e,t){if(eo=Ht,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==o&&3!==f.nodeType||(l=s+o),f!==i||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===o&&(l=s),p===i&&++d===r&&(c=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,1028&t.subtreeFlags&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var g=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:ya(t.type,m),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(e){Cc(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}g=nl,nl=!1}(e,n),yl(n,e),hr(to),Ht=!!eo,to=eo=null,e.current=n,vl(n,e,o),Qe(),Ol=l,vt=s,Al.transition=i}else e.current=n;if(Jl&&(Jl=!1,Xl=e,Ql=o),i=e.pendingLanes,0===i&&(Kl=null),function(e){if(at&&"function"==typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(ot,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),oc(e,Ge()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Vl)throw Vl=!1,e=ql,ql=null,e;!!(1&Ql)&&0!==e.tag&&kc(),i=e.pendingLanes,1&i?e===Yl?Gl++:(Gl=0,Yl=e):Gl=0,Wo()}(e,t,n,r)}finally{Al.transition=o,vt=r}return null}function kc(){if(null!==Xl){var e=xt(Ql),t=Al.transition,n=vt;try{if(Al.transition=null,vt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Ql=0,6&Ol)throw Error(a(331));var o=Ol;for(Ol|=4,Zs=e.current;null!==Zs;){var i=Zs,s=i.child;if(16&Zs.flags){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zs=u;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:rl(8,d,i)}var f=d.child;if(null!==f)f.return=d,Zs=f;else for(;null!==Zs;){var p=(d=Zs).sibling,h=d.return;if(il(d),d===u){Zs=null;break}if(null!==p){p.return=h,Zs=p;break}Zs=h}}}var g=i.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zs=i}}if(2064&i.subtreeFlags&&null!==s)s.return=i,Zs=s;else e:for(;null!==Zs;){if(2048&(i=Zs).flags)switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,Zs=b;break e}Zs=i.return}}var v=e.current;for(Zs=v;null!==Zs;){var x=(s=Zs).child;if(2064&s.subtreeFlags&&null!==x)x.return=s,Zs=x;else e:for(s=v;null!==Zs;){if(2048&(l=Zs).flags)try{switch(l.tag){case 0:case 11:case 15:ol(9,l)}}catch(e){Cc(l,l.return,e)}if(l===s){Zs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zs=w;break e}Zs=l.return}}if(Ol=o,Wo(),at&&"function"==typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{vt=n,Al.transition=t}}return!1}function Ec(e,t,n){e=Ia(e,t=hs(0,t=us(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),oc(e,t))}function Cc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Ia(t,e=gs(t,e=us(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),oc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Pl&n)===n&&(4===Il||3===Il&&(130023424&Pl)===Pl&&500>Ge()-$l?pc(e,0):Dl|=n),oc(e,t)}function jc(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=tc();null!==(e=Ta(e,t))&&(yt(e,t,n),oc(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),jc(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),jc(e,n)}function Tc(e,t){return Ke(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Rc(e,t,n,r)}function Fc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,o,i){var s=2;if(r=e,"function"==typeof e)Fc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case k:return Bc(n.children,o,i,t);case E:s=8,o|=8;break;case C:return(e=Pc(12,n,t,2|o)).elementType=C,e.lanes=i,e;case O:return(e=Pc(13,n,t,o)).elementType=O,e.lanes=i,e;case T:return(e=Pc(19,n,t,o)).elementType=T,e.lanes=i,e;case F:return Lc(n,o,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case j:s=9;break e;case A:s=11;break e;case R:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function Bc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=F,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Dc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,o,a,i,s,l){return e=new Mc(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function $c(e){if(!e)return Ao;e:{if($e(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Fo(n))return Bo(e,n,t)}return t}function Wc(e,t,n,r,o,a,i,s,l){return(e=Uc(n,r,!0,e,0,a,0,s,l)).context=$c(null),n=e.current,(a=Na(r=tc(),o=nc(n))).callback=null!=t?t:null,Ia(n,a,o),e.current.lanes=o,yt(e,o,r),oc(e,r),e}function Hc(e,t,n,r){var o=t.current,a=tc(),i=nc(o);return n=$c(n),null===t.context?t.context=n:t.pendingContext=n,(t=Na(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ia(o,t,i))&&(rc(e,o,i,a),Ba(e,o,i)),i}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||To.current)xs=!0;else{if(!(e.lanes&n||128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),ha();break;case 5:ii(t);break;case 1:Fo(t.type)&&Lo(t);break;case 4:oi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;jo(ba,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(jo(li,1&li.current),t.flags|=128,null):n&t.child.childLanes?zs(e,t,n):(jo(li,1&li.current),null!==(e=Vs(e,t,n))?e.sibling:null);jo(li,1&li.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),jo(li,li.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Vs(e,t,n)}(e,t,n);xs=!!(131072&e.flags)}else xs=!1,aa&&1048576&t.flags&&ea(t,Ko,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var o=Po(t,Oo.current);Ca(t,n),o=Ei(null,t,r,e,o,n);var i=Ci();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fo(r)?(i=!0,Lo(t)):i=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Pa(t),o.updater=$a,t.stateNode=o,o._reactInternals=t,qa(t,r,e,n),t=Os(null,t,r,!0,i,n)):(t.tag=0,aa&&i&&ta(t),ws(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Fc(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(r),e=ya(r,e),o){case 0:t=js(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=ks(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,js(e,t,r,o=t.elementType===r?o:ya(r,o),n);case 1:return r=t.type,o=t.pendingProps,As(e,t,r,o=t.elementType===r?o:ya(r,o),n);case 3:e:{if(Ts(t),null===e)throw Error(a(387));r=t.pendingProps,o=(i=t.memoizedState).element,Fa(e,t),za(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Rs(e,t,r,n,o=us(Error(a(423)),t));break e}if(r!==o){t=Rs(e,t,r,n,o=us(Error(a(424)),t));break e}for(oa=co(t.stateNode.containerInfo.firstChild),ra=t,aa=!0,ia=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===o){t=Vs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ii(t),null===e&&ua(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==i&&no(r,i)&&(t.flags|=32),_s(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return zs(e,t,n);case 4:return oi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ga(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Ss(e,t,r,o=t.elementType===r?o:ya(r,o),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,jo(ba,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===o.children&&!To.current){t=Vs(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Na(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ea(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ea(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ws(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ca(t,n),r=r(o=_a(o)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return o=ya(r=t.type,t.pendingProps),ks(e,t,r,o=ya(r.type,o),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ya(r,o),Hs(e,t),t.tag=1,Fo(r)?(e=!0,Lo(t)):e=!1,Ca(t,n),Ha(t,r,o),qa(t,r,o,n),Os(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return Cs(e,t,n)}throw Error(a(156,t.tag))};var Jc="function"==typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a;if("function"==typeof o){var s=o;o=function(){var e=Vc(i);s.call(e)}}Hc(t,i,e,o)}else i=function(e,t,n,r,o){if(o){if("function"==typeof r){var a=r;r=function(){var e=Vc(i);a.call(e)}}var i=Wc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=i,e[go]=i.current,$r(8===e.nodeType?e.parentNode:e),dc(),i}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var s=r;r=function(){var e=Vc(l);s.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[go]=l.current,$r(8===e.nodeType?e.parentNode:e),dc((function(){Hc(t,l,n,r)})),l}(n,t,e,o,r);return Vc(i)}Qc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Qc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Hc(null,e,null,null)})),t[go]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ft.length&&0!==t&&t<Ft[n].priority;n++);Ft.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),oc(t,Ge()),!(6&Ol)&&(Wl=Ge()+500,Wo()))}break;case 13:dc((function(){var t=Ta(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Ta(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Ta(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},Et=function(){return vt},Ct=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Se=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(a(90));K(r),Y(r,o)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=uc,Oe=dc;var tu={usingClientEntryPoint:!1,Events:[xo,wo,So,_e,je,uc]},nu={findFiberByHostInstance:vo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{ot=ou.inject(ru),at=ou}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gc(e))throw Error(a(299));var n=!1,r="",o=Jc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,o),e[go]=t.current,$r(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(a(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,o=!1,i="",s=Jc;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,o,0,i,s),e[go]=t.current,$r(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Qc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(a(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[go]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},338:(e,t,n)=>{var r=n(961);t.H=r.createRoot,r.hydrateRoot},961:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(551)},799:(e,t)=>{
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case a:case s:case i:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case m:case g:case l:return e;default:return t}}case o:return t}}}function S(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=g,t.Portal=o,t.Profiler=s,t.StrictMode=i,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===i},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===s||e===i||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===f||e.$$typeof===b||e.$$typeof===v||e.$$typeof===x||e.$$typeof===y)},t.typeOf=w},363:(e,t,n)=>{e.exports=n(799)},989:(e,t)=>{var n,r=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case i:case f:case p:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case g:case h:case l:return e;default:return t}}case o:return t}}}n=Symbol.for("react.module.reference")},737:(e,t,n)=>{n(989)},20:(e,t,n)=>{
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r=n(540),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},287:(e,t)=>{
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var x=v.prototype=new b;x.constructor=v,g(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,a={},i=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)S.call(t,o)&&!E.hasOwnProperty(o)&&(a[o]=t[o]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===a[o]&&(a[o]=l[o]);return{$$typeof:n,type:e,key:i,ref:s,props:a,_owner:k.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,o,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===a?"."+A(l,0):a,w(i)?(o="",null!=e&&(o=e.replace(j,"$&/")+"/"),O(i,t,o,"",(function(e){return e}))):null!=i&&(_(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,o+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(j,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+A(s=e[c],c);l+=O(s,t,o,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=O(s=s.value,t,o,u=a+A(s,c++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],o=0;return O(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},F={transition:null},N={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:F,ReactCurrentOwner:k};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=i,t.PureComponent=v,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=I,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g({},e.props),a=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:a,ref:i,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=F.transition;F.transition={};try{e()}finally{F.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},540:(e,t,n)=>{e.exports=n(287)},848:(e,t,n)=>{e.exports=n(20)},463:(e,t)=>{
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<o&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,p=3,h=!1,g=!1,m=!1,y="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(m=!1,x(e),!g)if(null!==r(c))g=!0,F(S);else{var t=r(u);null!==t&&N(w,t.startTime-e)}}function S(e,n){g=!1,m&&(m=!1,b(_),_=-1),h=!0;var a=p;try{for(x(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!O());){var i=f.callback;if("function"==typeof i){f.callback=null,p=f.priorityLevel;var s=i(f.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?f.callback=s:f===r(c)&&o(c),x(n)}else o(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&N(w,d.startTime-n),l=!1}return l}finally{f=null,p=a,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,C=null,_=-1,j=5,A=-1;function O(){return!(t.unstable_now()-A<j)}function T(){if(null!==C){var e=t.unstable_now();A=e;var n=!0;try{n=C(!0,e)}finally{n?k():(E=!1,C=null)}}else E=!1}if("function"==typeof v)k=function(){v(T)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=T,k=function(){P.postMessage(null)}}else k=function(){y(T,0)};function F(e){C=e,E||(E=!0,k())}function N(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,F(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,a){var i=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(m?(b(_),_=-1):m=!0,N(w,a-i))):(e.sortIndex=s,n(c,e),g||h||(g=!0,F(S))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},982:(e,t,n)=>{e.exports=n(463)},63:(e,t,n)=>{
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r=n(540);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,i=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return s((function(){o.value=n,o.getSnapshot=t,c(o)&&u({inst:o})}),[e,n,t]),i((function(){return c(o)&&u({inst:o}),e((function(){c(o)&&u({inst:o})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},940:(e,t,n)=>{
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r=n(540),o=n(888);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=o.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c((function(){function e(e){if(!l){if(l=!0,i=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return s=t}return s=e}if(t=s,a(i,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(i=e,s=n)}var i,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,o]);var p=i(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=p}),[p]),u(p),p}},888:(e,t,n)=>{e.exports=n(63)},242:(e,t,n)=>{e.exports=n(940)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/";var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>Hi,hasStandardBrowserEnv:()=>qi,hasStandardBrowserWebWorkerEnv:()=>Ki,navigator:()=>Vi,origin:()=>Ji});var o=n(540),a=n(338),i=n(848),s=n(888),l=n(242),c=n(961);let u=function(e){e()};const d=()=>u,f=(0,o.createContext)(null);function p(){return(0,o.useContext)(f)}let h=()=>{throw new Error("uSES not initialized!")};const g=(e,t)=>e===t;function m(e=f){const t=e===f?p:()=>(0,o.useContext)(e);return function(e,n=g){const{store:r,subscription:a,getServerState:i}=t(),s=h(a.addNestedSub,r.getState,i||r.getState,e,n);return(0,o.useDebugValue)(s),s}}const y=m();n(146),n(737);const b={notify(){},get:()=>[]};function v(e,t){let n,r=b;function o(){i.onStateChange&&i.onStateChange()}function a(){n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){const e=d();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}const i={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=b)},getListeners:()=>r};return i}const x=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?o.useLayoutEffect:o.useEffect;let w=null;const S=function({store:e,context:t,children:n,serverState:r}){const a=(0,o.useMemo)((()=>{const t=v(e);return{store:e,subscription:t,getServerState:r?()=>r:void 0}}),[e,r]),i=(0,o.useMemo)((()=>e.getState()),[e]);x((()=>{const{subscription:t}=a;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),i!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[a,i]);const s=t||f;return o.createElement(s.Provider,{value:a},n)};function k(e=f){const t=e===f?p:()=>(0,o.useContext)(e);return function(){const{store:e}=t();return e}}const E=k();function C(e=f){const t=e===f?E:k(e);return function(){return t().dispatch}}const _=C();var j,A;j=l.useSyncExternalStoreWithSelector,h=j,(e=>{w=e})(s.useSyncExternalStore),A=c.unstable_batchedUpdates,u=A;var O,T=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}};!function(e){e.LanguageLearning="language-learning",e.GeneralTopic="general-topic"}(O||(O={}));var R=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},P=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function F(e){var t=e.examples.map((function(t){return function(e,t,n,r){void 0===n&&(n=null),void 0===r&&(r="0.8em");var o=e.replace(t,"<b>".concat(t,"</b>"));if(n){var a=n.split(" ").slice(1).join(" ");return"".concat(o,"<br><span style='font-size: ").concat(r,";'><i>").concat(a,"</i></span>")}return o}(t[0],e.text,t[1])})).join("<br><br>"),n="";if(e.image_base64){var r=e.image_base64;r.startsWith("data:")||(r="data:image/jpeg;base64,".concat(r)),n='<div><img src="'.concat(r,'" style="max-width: 350px; max-height: 350px; margin: 0 auto;"></div>')}return"\n        <b>".concat(e.translation,"</b>\n        <br><br>").concat(t,"<br><br>\n        ").concat(n,"\n    ")}var N=function(e,t,n,r,o,a){return R(void 0,void 0,void 0,(function(){var i,s,l,c,u;return P(this,(function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),i=JSON.stringify({action:"createDeck",version:6,key:n,params:{deck:r}}),[4,fetch(t,{method:"POST",body:i,headers:{"Content-Type":"application/json"}})];case 1:if(!d.sent().ok)throw new Error("Failed to create deck.");return s=a.map((function(t){var n,a,i;return e===O.LanguageLearning&&"translation"in t&&"examples"in t&&"image_base64"in t?n={Front:t.text,Back:F(t)}:e===O.GeneralTopic&&"back"in t&&(n={Front:t.front,Back:(a=t.back,i=a.replace("Key points:","").trim().split("-").map((function(e){return"<li>".concat(e.trim(),"</li>")})).join(""),"\n        <b>Key points:</b>\n        <ul>\n            ".concat(i,"\n        </ul>\n    "))}),{deckName:r,modelName:o,fields:n,options:{allowDuplicate:!1},tags:[]}})),l=JSON.stringify({action:"addNotes",version:6,key:n,params:{notes:s}}),[4,fetch(t,{method:"POST",body:l,headers:{"Content-Type":"application/json"}})];case 2:if(!(c=d.sent()).ok)throw new Error("Failed to add notes.");return[4,c.json()];case 3:if((u=d.sent()).error)throw new Error("Anki error: ".concat(u.error));return[2,u.result];case 4:throw d.sent();case 5:return[2]}}))}))};function I(e){return R(this,void 0,void 0,(function(){return P(this,(function(t){return[2,new Promise((function(t,n){chrome.runtime.sendMessage(e,(function(e){e.status&&void 0!==e.data?t(e.data):(console.error("Error fetching image:",e.error),n(null))}))}))]}))}))}var B=function(e){return R(void 0,void 0,void 0,(function(){var t,n,r;return P(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fetch("http://localhost:8765",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"deckNames",version:6,key:e})})];case 1:if(!(t=o.sent()).ok)throw new Error("HTTP error! Status: ".concat(t.status));return[4,t.json()];case 2:return(n=o.sent()).result?[2,{result:n.result.map((function(e){return{deckId:e,name:e}})),error:n.error}]:[2,n];case 3:throw r=o.sent(),console.error("Error fetching decks:",r),r;case 4:return[2]}}))}))},L=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},z=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},D="SAVE_ANKI_CARDS",M="SET_TEXT",U="SET_TRANSLATION",$="SET_EXAMPLES",W="SET_IMAGE",H="SET_IMAGE_URL",V="SET_BACK",q="SET_FRONT",K="SAVE_CARD_TO_STORAGE",J="LOAD_STORED_CARDS",X="DELETE_STORED_CARD",Q="SET_STORED_CARDS",G="UPDATE_CARD_EXPORT_STATUS",Y="UPDATE_STORED_CARD",Z="SET_CURRENT_CARD_ID",ee=function(e,t,n,r,o,a){return void 0===n&&(n=null),function(i){return L(void 0,void 0,void 0,(function(){var s,l;return z(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,N(e,t,n,r,o,a)];case 1:return s=c.sent(),i({type:D,payload:s}),[3,3];case 2:throw l=c.sent(),console.error("Error saving Anki cards:",l),l;case 3:return[2]}}))}))}},te=function(e){return{type:K,payload:e}},ne=function(){return{type:J}},re=function(e){return{type:M,payload:e}},oe=function(e){return{type:$,payload:e}},ae=function(e){return{type:U,payload:e}},ie=function(e){return{type:W,payload:e}},se=function(e){return{type:H,payload:e}},le=function(e){return{type:V,payload:e}},ce=function(e){return{type:q,payload:e}},ue=function(e,t){return{type:G,payload:{cardId:e,status:t}}},de=function(e){return{type:Y,payload:e}},fe=function(e){return{type:Z,payload:e}},pe=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},he=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},ge=function(e,t,n,r){return void 0===n&&(n="ru"),void 0===r&&(r=""),pe(void 0,void 0,void 0,(function(){var o,a,i,s,l,c,u,d,f;return he(this,(function(p){switch(p.label){case 0:return p.trys.push([0,3,,4]),o="Translate the following text to ".concat(n),a=r?"".concat(o,". ").concat(r):o,i={model:"gpt-4o-mini",messages:[{role:"system",content:a},{role:"user",content:"".concat(t)}],max_tokens:900},[4,fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(i)})];case 1:return[4,p.sent().json()];case 2:return s=p.sent(),[2,null!==(f=null===(d=null===(u=null===(c=s.choices[0])||void 0===c?void 0:c.message)||void 0===u?void 0:u.content)||void 0===d?void 0:d.trim())&&void 0!==f?f:null];case 3:return l=p.sent(),console.error("Error during translation:",l),[2,null];case 4:return[2]}}))}))},me=function(e,t,n,r,o){return void 0===r&&(r=!1),void 0===o&&(o=""),pe(void 0,void 0,void 0,(function(){var a,i,s,l,c,u,d,f,p,h,g,m,y,b,v,x,w;return he(this,(function(S){switch(S.label){case 0:a=o.replace(/\{word\}/g,t),i="Give me three example sentences using the word '".concat(t,"' in the original language (the language of this word). \nEach example should show natural usage of '").concat(t,"' in its native language context.\nReturn ONLY the examples, one per line, without any numbering, explanations, or translations."),s=o?"".concat(i," ").concat(a):i,l=[{role:"system",content:s}],S.label=1;case 1:return S.trys.push([1,9,,10]),c={model:"gpt-4o-mini",messages:l,max_tokens:3500},[4,fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(c)})];case 2:return[4,S.sent().json()];case 3:u=S.sent(),d=null===(x=null===(v=u.choices[0])||void 0===v?void 0:v.message)||void 0===x?void 0:x.content,f=null!==(w=null==d?void 0:d.trim().split("\n"))&&void 0!==w?w:[],p=[],h=0,g=f,S.label=4;case 4:return h<g.length?(m=g[h]).trim()?(y=null,r?[4,ge(e,m,n)]:[3,6]):[3,7]:[3,8];case 5:y=S.sent(),S.label=6;case 6:p.push([m,y]),S.label=7;case 7:return h++,[3,4];case 8:return[2,p];case 9:return b=S.sent(),console.error("Error during getting examples:",b),[2,[]];case 10:return[2]}}))}))},ye=function(e,t){return pe(void 0,void 0,void 0,(function(){var n,r,o,a,i,s,l,c;return he(this,(function(u){switch(u.label){case 0:n=[{role:"system",content:"Is the word '".concat(t,"' an abstract concept or a concrete object? Answer 'abstract' or 'concrete':")}],u.label=1;case 1:return u.trys.push([1,4,,5]),r={model:"gpt-4o-mini",messages:n,max_tokens:900},[4,fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(r)})];case 2:return[4,u.sent().json()];case 3:return o=u.sent(),[2,"abstract"===(null!==(c=null===(l=null===(s=null===(i=o.choices[0])||void 0===i?void 0:i.message)||void 0===s?void 0:s.content)||void 0===l?void 0:l.trim().toLowerCase())&&void 0!==c?c:"")];case 4:return a=u.sent(),console.error("Error during determining abstractness:",a),[2,!1];case 5:return[2]}}))}))},be=function(e,t,n){return void 0===n&&(n=""),pe(void 0,void 0,void 0,(function(){var r,o,a,i,s,l,c,u,d,f;return he(this,(function(p){switch(p.label){case 0:r="Provide a detailed description for an image that represents the concept of '".concat(t,"'"),o=n?"".concat(r,". ").concat(n):r,a=[{role:"system",content:o}],p.label=1;case 1:return p.trys.push([1,4,,5]),i={model:"gpt-4o-mini",messages:a,max_tokens:100},[4,fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(i)})];case 2:return[4,p.sent().json()];case 3:return s=p.sent(),[2,null!==(f=null===(d=null===(u=null===(c=s.choices[0])||void 0===c?void 0:c.message)||void 0===u?void 0:u.content)||void 0===d?void 0:d.trim())&&void 0!==f?f:""];case 4:return l=p.sent(),console.error("Error during getting description image:",l),[2,""];case 5:return[2]}}))}))},ve=function(e,t,n){return void 0===n&&(n=""),pe(void 0,void 0,void 0,(function(){var r,o,a,i,s;return he(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),r=n?"".concat(t,". ").concat(n):t,[4,e.images.generate({prompt:r,n:1,size:"512x512",response_format:"url"})];case 1:return o=l.sent(),[2,null!==(s=null===(i=o.data[0])||void 0===i?void 0:i.url)&&void 0!==s?s:null];case 2:return a=l.sent(),console.error("Error during image generation:",a),[2,null];case 3:return[2]}}))}))},xe=function(e,t,n,r){return void 0===r&&(r=""),pe(void 0,void 0,void 0,(function(){var o,a,i;return he(this,(function(s){switch(s.label){case 0:return s.trys.push([0,7,,8]),[4,ye(t,n)];case 1:return s.sent()?[4,be(t,n,r)]:[3,4];case 2:return o=s.sent(),[4,ve(e,"Create a vivid, high-quality illustration representing the concept of '".concat(o,"'"),r)];case 3:case 5:return[2,s.sent()];case 4:return a="Create a high-quality, photorealistic image of a ".concat(n," with a neutral expression and clear features"),[4,ve(e,a,r)];case 6:return[3,8];case 7:return i=s.sent(),console.error("Error during getting image for word:",i),[2,null];case 8:return[2]}}))}))},we=function(e,t){return pe(void 0,void 0,void 0,(function(){var n,r,o,a,i,s,l;return he(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),n={model:"gpt-4o-mini",messages:[{role:"system",content:"You are langauage expert"},{role:"user",content:"What is the name of this language: ".concat(t,". Give only name of this language in one word")}],max_tokens:600},[4,fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(n)})];case 1:return[4,c.sent().json()];case 2:return r=c.sent(),[2,null!==(l=null===(s=null===(i=null===(a=r.choices[0])||void 0===a?void 0:a.message)||void 0===i?void 0:i.content)||void 0===s?void 0:s.trim())&&void 0!==l?l:null];case 3:return o=c.sent(),console.error("Error during generating back side of the Anki card:",o),[2,null];case 4:return[2]}}))}))},Se=function(e,t){return pe(void 0,void 0,void 0,(function(){var n,r,o,a,i,s,l,c;return he(this,(function(u){switch(u.label){case 0:return[4,we(e,t)];case 1:n=u.sent(),u.label=2;case 2:return u.trys.push([2,5,,6]),r={model:"gpt-4o-mini",messages:[{role:"system",content:"You generate a question based on the text entered. You answer should be in ".concat(n)},{role:"user",content:"Give a main question of this text: ".concat(t,"'. You answer should be in ").concat(n)}],max_tokens:80},[4,fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(r)})];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[2,null!==(c=null===(l=null===(s=null===(i=o.choices[0])||void 0===i?void 0:i.message)||void 0===s?void 0:s.content)||void 0===l?void 0:l.trim())&&void 0!==c?c:null];case 5:return a=u.sent(),console.error("Error during generating front side of the Anki card:",a),[2,null];case 6:return[2]}}))}))},ke=function(e,t){return pe(void 0,void 0,void 0,(function(){var n,r,o,a,i,s,l,c;return he(this,(function(u){switch(u.label){case 0:return[4,we(e,t)];case 1:n=u.sent(),u.label=2;case 2:return u.trys.push([2,5,,6]),r={model:"gpt-4o-mini",messages:[{role:"system",content:"You generate a key point based on the text entered. For back of flash card. You answer should be in ".concat(n)},{role:"user",content:"Anilize text. Highlight the key points from this text. Put them in a list of senteses with dash points. \n                                Text: '".concat(t,"'. You answer should be in ").concat(n,". Key points should be competed and make sence")}],max_tokens:1500},[4,fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(r)})];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[2,null!==(c=null===(l=null===(s=null===(i=o.choices[0])||void 0===i?void 0:i.message)||void 0===s?void 0:s.content)||void 0===l?void 0:l.trim())&&void 0!==c?c:null];case 5:return a=u.sent(),console.error("Error during generating back side of the Anki card:",a),[2,null];case 6:return[2]}}))}))},Ee="SET_OPEN_AI_KEY",Ce="SET_SELECTED_MODE",_e="SET_SELECTED_LANGUAGE",je="SET_ANKI_CONNECT_URL",Ae="SET_ANKI_CONNECT_API_KEY",Oe="SET_USE_ANKI_CONNECT",Te="SET_VISIBLE_SIDEBAR",Re="SET_HUGGING_FACE_API_KEY",Pe="SET_SHOULD_GENERATE_IMAGE",Fe="SET_TRANSLATION_PROMPT",Ne="SET_EXAMPLES_PROMPT",Ie="SET_AI_INSTRUCTIONS",Be="SET_IMAGE_INSTRUCTIONS",Le={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ze=o.createContext&&o.createContext(Le),De=function(){return De=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},De.apply(this,arguments)},Me=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function Ue(e){return e&&e.map((function(e,t){return o.createElement(e.tag,De({key:t},e.attr),Ue(e.child))}))}function $e(e){return function(t){return o.createElement(We,De({attr:De({},e.attr)},t),Ue(e.child))}}function We(e){var t=function(t){var n,r=e.attr,a=e.size,i=e.title,s=Me(e,["attr","size","title"]),l=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),o.createElement("svg",De({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:De(De({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&o.createElement("title",null,i),e.children)};return void 0!==ze?o.createElement(ze.Consumer,null,(function(e){return t(e)})):t(Le)}function He(e){return $e({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function Ve(e){return $e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function qe(e){return $e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function Ke(e){return $e({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(e)}function Je(e){return $e({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(e)}function Xe(e){return $e({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"}}]})(e)}function Qe(e){return $e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function Ge(e){return $e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function Ye(e){return $e({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function Ze(e){return $e({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function et(e){return $e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(e)}function tt(e){return $e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(e)}function nt(e){return $e({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"}}]})(e)}function rt(e){return $e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"}}]})(e)}function ot(e){return $e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"}}]})(e)}function at(e){return $e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"}}]})(e)}function it(e){return $e({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function st(e){return $e({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function lt(e){return $e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"}}]})(e)}function ct(e){return $e({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(e)}function ut(e){return $e({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function dt(e){return $e({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}var ft=function(){return ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ft.apply(this,arguments)},pt=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const ht=function(e){var t=e.front,n=e.back,r=e.translation,a=e.examples,s=e.imageUrl,l=(e.image,e.onNewImage),c=e.onNewExamples,u=e.onAccept,d=e.onViewSavedCards,f=e.onCancel,p=e.mode,h=(void 0===p&&O.LanguageLearning,e.loadingNewImage),g=e.loadingNewExamples,m=e.loadingAccept,y=(e.shouldGenerateImage,e.isSaved),b=void 0!==y&&y,v=(e.isEdited,e.setTranslation),x=e.setExamples,w=(0,o.useState)(!1),S=w[0],k=w[1],E=(0,o.useState)(r||""),C=E[0],_=E[1],j=(0,o.useState)(!1),A=j[0],T=j[1],R=function(){T(!0)},P=function(){u(),T(!1),S&&v&&(v(C),k(!1))},F=function(){A&&(k(!0),_(r||""))},N=function(){v&&C&&v(C),k(!1)},I=function(e,t,n){if(A&&x&&a){var r=pt([],a,!0);t?r[e][0]=n:r[e][1]=n||null,x(r)}};return(0,i.jsxs)("div",ft({style:{padding:"16px",borderRadius:"8px",width:"100%",maxWidth:"100%",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",overflowX:"hidden",backgroundColor:A?"#FAFAFA":"#ffffff",borderLeft:A?"3px solid #3B82F6":"3px solid transparent"}},{children:[(0,i.jsxs)("div",ft({style:{fontSize:"10px",color:"#9CA3AF",marginBottom:"12px",textAlign:"right",display:"flex",justifyContent:"flex-end",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:A?"#EFF6FF":b?"#ECFDF5":"#F9FAFB",borderRadius:"4px",border:A?"1px solid #DBEAFE":b?"1px solid #D1FAE5":"1px solid #F3F4F6"}},{children:[(0,i.jsx)("span",{style:{display:"inline-block",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:A?"#3B82F6":b?"#10B981":"#6B7280"}}),(0,i.jsx)("strong",ft({style:{color:A?"#1E40AF":b?"#059669":"#4B5563"}},{children:A?"Editing":b?"Saved to Collection":"New - Not Saved Yet"}))]})),A?(0,i.jsxs)("button",ft({onClick:P,disabled:m,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",backgroundColor:"#3B82F6",color:"white",border:"none",borderRadius:"6px",padding:"10px 12px",fontSize:"14px",fontWeight:"600",cursor:"pointer",marginBottom:"12px",width:"100%",opacity:m?.7:1},onMouseOver:function(e){return!m&&(e.currentTarget.style.backgroundColor="#2563EB")},onMouseOut:function(e){return!m&&(e.currentTarget.style.backgroundColor="#3B82F6")}},{children:[(0,i.jsx)(st,{size:14}),m?"Saving...":"Save & Finish Editing"]})):b&&!A?(0,i.jsxs)("button",ft({onClick:R,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",backgroundColor:"#F3F4F6",color:"#4B5563",border:"1px solid #E5E7EB",borderRadius:"6px",padding:"10px 12px",fontSize:"14px",fontWeight:"600",cursor:"pointer",marginBottom:"12px",width:"100%"},onMouseOver:function(e){e.currentTarget.style.backgroundColor="#E5E7EB",e.currentTarget.style.color="#1F2937"},onMouseOut:function(e){e.currentTarget.style.backgroundColor="#F3F4F6",e.currentTarget.style.color="#4B5563"}},{children:[(0,i.jsx)(Ye,{size:14}),"Edit Card"]})):null,A?(0,i.jsxs)("div",ft({style:{marginBottom:"16px",backgroundColor:"#EFF6FF",borderRadius:"6px",padding:"10px",border:"1px solid #DBEAFE",fontSize:"13px",color:"#1E40AF"}},{children:[(0,i.jsxs)("div",ft({style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px",fontWeight:"600"}},{children:[(0,i.jsx)(Ye,{size:12}),"Editing Mode"]})),(0,i.jsx)("p",ft({style:{margin:0,fontSize:"12px"}},{children:'Click on text elements to edit them. When finished, click "Save & Finish Editing" at the top of the card.'}))]})):null,t&&(0,i.jsx)("div",ft({style:{marginBottom:"12px"}},{children:(0,i.jsx)("h3",ft({style:{fontSize:"16px",fontWeight:"600",textAlign:"center",margin:"2px 0",color:"#111827"}},{children:t}))})),n&&(0,i.jsx)("div",ft({style:{marginBottom:"16px"}},{children:n.replace("Key Points","").split("-").filter((function(e){return""!==e.trim()})).map((function(e,t){return(0,i.jsx)("div",ft({style:{marginBottom:"12px",padding:"10px",backgroundColor:"#F9FAFB",borderRadius:"6px",color:"#374151",fontSize:"13px",lineHeight:"1.4"}},{children:e}),t)}))})),r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("hr",{style:{margin:"10px 0",border:"none",borderTop:"1px solid #E5E7EB"}}),S&&A?(0,i.jsxs)("div",ft({style:{marginBottom:"12px",position:"relative"}},{children:[(0,i.jsx)("input",{type:"text",value:C,onChange:function(e){return _(e.target.value)},style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #3B82F6",backgroundColor:"#ffffff",color:"#111827",fontSize:"14px",outline:"none",fontWeight:"600",textAlign:"center"},autoFocus:!0,onBlur:N,onKeyDown:function(e){"Enter"===e.key&&N()}}),(0,i.jsx)("div",ft({style:{fontSize:"11px",color:"#6B7280",textAlign:"center",marginTop:"4px"}},{children:"Press Enter or click outside to save"}))]})):(0,i.jsxs)("div",ft({style:ft({marginBottom:"12px",textAlign:"center",position:"relative",paddingRight:A?"24px":"0"},A?{padding:"8px",border:"1px dashed #E5E7EB",borderRadius:"4px",transition:"all 0.2s ease",cursor:"pointer",backgroundColor:"#FAFAFA"}:{}),onClick:A?F:void 0,onMouseOver:function(e){A&&(e.currentTarget.style.borderColor="#3B82F6",e.currentTarget.style.backgroundColor="#F9FAFB")},onMouseOut:function(e){A&&(e.currentTarget.style.borderColor="#E5E7EB",e.currentTarget.style.backgroundColor="#FAFAFA")}},{children:[(0,i.jsx)("p",ft({style:{fontWeight:"600",color:"#111827",fontSize:"14px",margin:0}},{children:r})),A&&(0,i.jsx)("button",ft({onClick:function(e){e.stopPropagation(),F()},style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"#F3F4F6",border:"none",borderRadius:"4px",cursor:"pointer",color:"#6B7280",display:"flex",padding:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},title:"Edit translation",onMouseOver:function(e){e.currentTarget.style.backgroundColor="#E5E7EB",e.currentTarget.style.color="#3B82F6"},onMouseOut:function(e){e.currentTarget.style.backgroundColor="#F3F4F6",e.currentTarget.style.color="#6B7280"}},{children:(0,i.jsx)(at,{size:12})}))]}))]}),a.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("hr",{style:{margin:"10px 0",border:"none",borderTop:"1px solid #E5E7EB"}}),(0,i.jsxs)("div",ft({style:{marginBottom:"12px"}},{children:[(0,i.jsx)("div",ft({style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"}},{children:(0,i.jsx)("h4",ft({style:{fontSize:"14px",fontWeight:"600",color:"#374151",margin:0}},{children:"Examples"}))})),(0,i.jsx)("ul",ft({style:{listStyle:"none",padding:0,margin:0}},{children:a.map((function(e,t){var n=e[0],r=e[1];return(0,i.jsxs)("li",ft({style:ft({marginBottom:"8px",padding:"10px",backgroundColor:"#F9FAFB",borderRadius:"6px",position:"relative"},A?{border:"1px dashed #CBD5E1",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)"}:{})},{children:[A&&(0,i.jsx)("div",ft({style:{position:"absolute",top:"8px",right:"8px",display:"flex",gap:"8px",zIndex:5}},{children:(0,i.jsxs)("button",ft({onClick:function(){return function(e){if(A&&x&&a){var t=pt([],a,!0);t.splice(e,1),x(t)}}(t)},style:{background:"#FEE2E2",border:"none",borderRadius:"4px",cursor:"pointer",color:"#EF4444",padding:"4px 6px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"500"},title:"Delete example",onMouseOver:function(e){e.currentTarget.style.backgroundColor="#FECACA"},onMouseOut:function(e){e.currentTarget.style.backgroundColor="#FEE2E2"}},{children:[(0,i.jsx)(dt,{size:10,style:{marginRight:"4px"}}),"Delete"]}))})),A?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",ft({style:{marginBottom:"8px"}},{children:(0,i.jsx)("input",{type:"text",value:n,onChange:function(e){return I(t,!0,e.target.value)},style:{width:"100%",padding:"6px 8px",borderRadius:"4px",border:"1px solid #E5E7EB",fontSize:"13px",color:"#111827",fontWeight:"500",backgroundColor:"#ffffff"},placeholder:"Example sentence"})})),(0,i.jsx)("div",{children:(0,i.jsx)("input",{type:"text",value:r||"",onChange:function(e){return I(t,!1,e.target.value)},style:{width:"100%",padding:"6px 8px",borderRadius:"4px",border:"1px solid #E5E7EB",fontSize:"13px",color:"#6B7280",fontStyle:"italic",backgroundColor:"#ffffff"},placeholder:"Translation (optional)"})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",ft({style:{fontWeight:"500",color:"#111827",fontSize:"13px",marginBottom:r?"6px":0}},{children:n})),r&&(0,i.jsx)("div",ft({style:{color:"#6B7280",fontSize:"13px",fontStyle:"italic"}},{children:r}))]})]}),t)}))})),A&&(0,i.jsxs)("button",ft({onClick:function(){if(A&&x&&a){var e=pt([],a,!0);e.push(["",null]),x(e)}},style:{width:"100%",padding:"10px",borderRadius:"6px",backgroundColor:"#EFF6FF",color:"#3B82F6",fontSize:"14px",fontWeight:"500",border:"1px dashed #BFDBFE",cursor:"pointer",marginTop:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s ease"},onMouseOver:function(e){e.currentTarget.style.backgroundColor="#DBEAFE",e.currentTarget.style.borderColor="#93C5FD"},onMouseOut:function(e){e.currentTarget.style.backgroundColor="#EFF6FF",e.currentTarget.style.borderColor="#BFDBFE"}},{children:[(0,i.jsx)(it,{size:12}),"Add Example"]}))]}))]}),s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("hr",{style:{margin:"16px 0",border:"none",borderTop:"1px solid #E5E7EB"}}),(0,i.jsx)("div",ft({style:{marginBottom:"16px"}},{children:(0,i.jsx)("img",{src:s,alt:"",style:{width:"100%",borderRadius:"6px",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)"}})}))]}),A&&(0,i.jsxs)("div",ft({style:{display:"flex",gap:"6px",marginBottom:"8px"}},{children:[s&&(0,i.jsx)("button",ft({onClick:l,disabled:h,style:{flex:1,padding:"8px 12px",borderRadius:"6px",backgroundColor:"#F59E0B",color:"#ffffff",fontWeight:"600",fontSize:"13px",border:"none",cursor:"pointer",transition:"all 0.2s ease",opacity:h?.7:1},onMouseOver:function(e){return!h&&(e.currentTarget.style.backgroundColor="#D97706")},onMouseOut:function(e){return!h&&(e.currentTarget.style.backgroundColor="#F59E0B")}},{children:h?"Loading...":"New Image"})),a.length>0&&(0,i.jsx)("button",ft({onClick:c,disabled:g,style:{flex:1,padding:"8px 12px",borderRadius:"6px",backgroundColor:"#F59E0B",color:"#ffffff",fontWeight:"600",fontSize:"13px",border:"none",cursor:"pointer",transition:"all 0.2s ease",opacity:g?.7:1},onMouseOver:function(e){return!g&&(e.currentTarget.style.backgroundColor="#D97706")},onMouseOut:function(e){return!g&&(e.currentTarget.style.backgroundColor="#F59E0B")}},{children:g?"Loading...":"New Examples"}))]})),(0,i.jsxs)("div",ft({style:{marginBottom:"10px"}},{children:[!A&&!b&&(0,i.jsxs)("div",ft({style:{display:"flex",gap:"8px",width:"100%"}},{children:[(0,i.jsxs)("button",ft({onClick:f,style:{flex:"1",padding:"10px",borderRadius:"6px",backgroundColor:"#F3F4F6",color:"#4B5563",fontWeight:"600",fontSize:"14px",border:"1px solid #E5E7EB",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseOver:function(e){e.currentTarget.style.backgroundColor="#E5E7EB",e.currentTarget.style.color="#374151"},onMouseOut:function(e){e.currentTarget.style.backgroundColor="#F3F4F6",e.currentTarget.style.color="#4B5563"}},{children:[(0,i.jsx)(ut,{}),"Cancel"]})),(0,i.jsxs)("button",ft({onClick:u,disabled:m,style:{flex:"2",padding:"10px",borderRadius:"6px",backgroundColor:"#22C55E",color:"#ffffff",fontWeight:"600",fontSize:"14px",border:"none",cursor:"pointer",transition:"all 0.2s ease",opacity:m?.7:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseOver:function(e){return!m&&(e.currentTarget.style.backgroundColor="#15803D")},onMouseOut:function(e){return!m&&(e.currentTarget.style.backgroundColor="#22C55E")}},{children:[(0,i.jsx)(qe,{}),m?"Saving...":"Save Card"]}))]})),!A&&b&&(0,i.jsxs)("div",ft({style:{width:"100%",padding:"10px",borderRadius:"6px",backgroundColor:"#ECFDF5",border:"1px solid #D1FAE5",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}},{children:[(0,i.jsx)("div",ft({style:{display:"flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#10B981",color:"white"}},{children:(0,i.jsx)(qe,{size:12})})),(0,i.jsx)("span",ft({style:{fontWeight:"600",fontSize:"14px",color:"#059669"}},{children:"Saved to Collection"}))]})),!A&&!b&&(0,i.jsx)("p",ft({style:{fontSize:"11px",color:"#6B7280",textAlign:"center",margin:"4px 0 0 0"}},{children:"The card will be saved to your collection"}))]})),(0,i.jsxs)("button",ft({onClick:d,style:{width:"100%",padding:"10px",borderRadius:"6px",backgroundColor:"#4B5563",color:"#ffffff",fontWeight:"600",fontSize:"13px",border:"none",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseOver:function(e){return e.currentTarget.style.backgroundColor="#374151"},onMouseOut:function(e){return e.currentTarget.style.backgroundColor="#4B5563"}},{children:[(0,i.jsx)(rt,{size:14}),"View Saved Cards"]}))]}))},gt="RFC3986",mt={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},yt=(Object.prototype.hasOwnProperty,Array.isArray),bt=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();const vt=1024;function xt(e,t){if(yt(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const wt=Object.prototype.hasOwnProperty,St={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},kt=Array.isArray,Et=Array.prototype.push,Ct=function(e,t){Et.apply(e,kt(t)?t:[t])},_t=Date.prototype.toISOString,jt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:(e,t,n,r,o)=>{if(0===e.length)return e;let a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));let i="";for(let e=0;e<a.length;e+=vt){const t=a.length>=vt?a.slice(e,e+vt):a,n=[];for(let e=0;e<t.length;++e){let r=t.charCodeAt(e);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122||"RFC1738"===o&&(40===r||41===r)?n[n.length]=t.charAt(e):r<128?n[n.length]=bt[r]:r<2048?n[n.length]=bt[192|r>>6]+bt[128|63&r]:r<55296||r>=57344?n[n.length]=bt[224|r>>12]+bt[128|r>>6&63]+bt[128|63&r]:(e+=1,r=65536+((1023&r)<<10|1023&t.charCodeAt(e)),n[n.length]=bt[240|r>>18]+bt[128|r>>12&63]+bt[128|r>>6&63]+bt[128|63&r])}i+=n.join("")}return i},encodeValuesOnly:!1,format:gt,formatter:mt[gt],indices:!1,serializeDate:e=>_t.call(e),skipNulls:!1,strictNullHandling:!1};const At={};function Ot(e,t,n,r,o,a,i,s,l,c,u,d,f,p,h,g,m,y){let b=e,v=y,x=0,w=!1;for(;void 0!==(v=v.get(At))&&!w;){const t=v.get(e);if(x+=1,void 0!==t){if(t===x)throw new RangeError("Cyclic object value");w=!0}void 0===v.get(At)&&(x=0)}if("function"==typeof c?b=c(t,b):b instanceof Date?b=f?.(b):"comma"===n&&kt(b)&&(b=xt(b,(function(e){return e instanceof Date?f?.(e):e}))),null===b){if(a)return l&&!g?l(t,jt.encoder,m,"key",p):t;b=""}if("string"==typeof(S=b)||"number"==typeof S||"boolean"==typeof S||"symbol"==typeof S||"bigint"==typeof S||function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))}(b)){if(l){const e=g?t:l(t,jt.encoder,m,"key",p);return[h?.(e)+"="+h?.(l(b,jt.encoder,m,"value",p))]}return[h?.(t)+"="+h?.(String(b))]}var S;const k=[];if(void 0===b)return k;let E;if("comma"===n&&kt(b))g&&l&&(b=xt(b,l)),E=[{value:b.length>0?b.join(",")||null:void 0}];else if(kt(c))E=c;else{const e=Object.keys(b);E=u?e.sort(u):e}const C=s?String(t).replace(/\./g,"%2E"):String(t),_=r&&kt(b)&&1===b.length?C+"[]":C;if(o&&kt(b)&&0===b.length)return _+"[]";for(let t=0;t<E.length;++t){const v=E[t],w="object"==typeof v&&void 0!==v.value?v.value:b[v];if(i&&null===w)continue;const S=d&&s?v.replace(/\./g,"%2E"):v,C=kt(b)?"function"==typeof n?n(_,S):_:_+(d?"."+S:"["+S+"]");y.set(e,x);const j=new WeakMap;j.set(At,y),Ct(k,Ot(w,C,n,r,o,a,i,s,"comma"===n&&g&&kt(b)?null:l,c,u,d,f,p,h,g,m,j))}return k}function Tt(e,t={}){let n=e;const r=function(e=jt){if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");const t=e.charset||jt.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=gt;if(void 0!==e.format){if(!wt.call(mt,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=mt[n];let o,a=jt.filter;if(("function"==typeof e.filter||kt(e.filter))&&(a=e.filter),o=e.arrayFormat&&e.arrayFormat in St?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":jt.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const i=void 0===e.allowDots?1==!!e.encodeDotInKeys||jt.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:jt.addQueryPrefix,allowDots:i,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:jt.allowEmptyArrays,arrayFormat:o,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:jt.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?jt.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:jt.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:jt.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:jt.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:jt.encodeValuesOnly,filter:a,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:jt.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:jt.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:jt.strictNullHandling}}(t);let o,a;"function"==typeof r.filter?(a=r.filter,n=a("",n)):kt(r.filter)&&(a=r.filter,o=a);const i=[];if("object"!=typeof n||null===n)return"";const s=St[r.arrayFormat],l="comma"===s&&r.commaRoundTrip;o||(o=Object.keys(n)),r.sort&&o.sort(r.sort);const c=new WeakMap;for(let e=0;e<o.length;++e){const t=o[e];r.skipNulls&&null===n[t]||Ct(i,Ot(n[t],t,s,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}const u=i.join(r.delimiter);let d=!0===r.addQueryPrefix?"?":"";return r.charsetSentinel&&("iso-8859-1"===r.charset?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""}const Rt="4.72.0";let Pt,Ft,Nt,It,Bt,Lt,zt,Dt,Mt,Ut=!1,$t=null,Wt=null,Ht=null,Vt=null;class qt{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}Pt||function(e,t={auto:!1}){if(Ut)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(Pt)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${Pt}'\``);Ut=t.auto,Pt=e.kind,Ft=e.fetch,$t=e.Request,Wt=e.Response,Ht=e.Headers,Nt=e.FormData,Vt=e.Blob,It=e.File,Bt=e.ReadableStream,Lt=e.getMultipartRequestOptions,zt=e.getDefaultAgent,Dt=e.fileFromPath,Mt=e.isFsReadStream}(function({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,o,a;try{n=fetch,r=Request,o=Response,a=Headers}catch(e){throw new Error(`this environment is missing the following Web Fetch API type: ${e.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:o,Headers:a,FormData:"undefined"!=typeof FormData?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:"undefined"!=typeof Blob?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:"undefined"!=typeof File?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:"undefined"!=typeof ReadableStream?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(e,t)=>({...t,body:new qt(e)}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:e=>!1}}(),{auto:!0});class Kt extends Error{}class Jt extends Kt{constructor(e,t,n,r){super(`${Jt.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.request_id=r?.["x-request-id"];const o=t;this.error=o,this.code=o?.code,this.param=o?.param,this.type=o?.type}static makeMessage(e,t,n){const r=t?.message?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e)return new Qt({message:n,cause:Kn(t)});const o=t?.error;return 400===e?new Yt(e,o,n,r):401===e?new Zt(e,o,n,r):403===e?new en(e,o,n,r):404===e?new tn(e,o,n,r):409===e?new nn(e,o,n,r):422===e?new rn(e,o,n,r):429===e?new on(e,o,n,r):e>=500?new an(e,o,n,r):new Jt(e,o,n,r)}}class Xt extends Jt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class Qt extends Jt{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,t&&(this.cause=t)}}class Gt extends Qt{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Yt extends Jt{constructor(){super(...arguments),this.status=400}}class Zt extends Jt{constructor(){super(...arguments),this.status=401}}class en extends Jt{constructor(){super(...arguments),this.status=403}}class tn extends Jt{constructor(){super(...arguments),this.status=404}}class nn extends Jt{constructor(){super(...arguments),this.status=409}}class rn extends Jt{constructor(){super(...arguments),this.status=422}}class on extends Jt{constructor(){super(...arguments),this.status=429}}class an extends Jt{}class sn extends Kt{constructor(){super("Could not parse response content as the length limit was reached")}}class ln extends Kt{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class cn{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const n=cn.NEWLINE_CHARS.has(t[t.length-1]||"");let r=t.split(cn.NEWLINE_REGEXP);return n&&r.pop(),1!==r.length||n?(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),n||(this.buffer=[r.pop()||""]),r):(this.buffer.push(r[0]),[])}decodeText(e){if(null==e)return"";if("string"==typeof e)return e;if("undefined"!=typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Kt(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!=typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Kt(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Kt("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}cn.NEWLINE_CHARS=new Set(["\n","\r"]),cn.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class un{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let n=!1;return new un((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const n of async function*(e,t){if(!e.body)throw t.abort(),new Kt("Attempted to iterate over a response with no body");const n=new fn,r=new cn,o=pn(e.body);for await(const e of async function*(e){let t=new Uint8Array;for await(const n of e){if(null==n)continue;const e=n instanceof ArrayBuffer?new Uint8Array(n):"string"==typeof n?(new TextEncoder).encode(n):n;let r,o=new Uint8Array(t.length+e.length);for(o.set(t),o.set(e,t.length),t=o;-1!==(r=dn(t));)yield t.slice(0,r),t=t.slice(r)}t.length>0&&(yield t)}(o))for(const t of r.decode(e)){const e=n.decode(t);e&&(yield e)}for(const e of r.flush()){const t=n.decode(e);t&&(yield t)}}(e,t))if(!r)if(n.data.startsWith("[DONE]"))r=!0;else if(null===n.event){let e;try{e=JSON.parse(n.data)}catch(e){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),e}if(e&&e.error)throw new Jt(void 0,e.error,void 0,void 0);yield e}else{let e;try{e=JSON.parse(n.data)}catch(e){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),e}if("error"==n.event)throw new Jt(void 0,e.error,e.message,void 0);yield{event:n.event,data:e}}r=!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}finally{r||t.abort()}}),t)}static fromReadableStream(e,t){let n=!1;return new un((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const t of async function*(){const t=new cn,n=pn(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())r||t&&(yield JSON.parse(t));r=!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}finally{r||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new un((()=>r(e)),this.controller),new un((()=>r(t)),this.controller)]}toReadableStream(){const e=this;let t;const n=new TextEncoder;return new Bt({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:r,done:o}=await t.next();if(o)return e.close();const a=n.encode(JSON.stringify(r)+"\n");e.enqueue(a)}catch(t){e.error(t)}},async cancel(){await(t.return?.())}})}}function dn(e){for(let t=0;t<e.length-2;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}class fn{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}function pn(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const hn=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob,gn=e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&mn(e),mn=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer,yn=e=>gn(e)||hn(e)||Mt(e);async function bn(e,t,n){if(e=await e,gn(e))return e;if(hn(e)){const r=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=mn(r)?[await r.arrayBuffer()]:[r];return new It(o,t,n)}const r=await async function(e){let t=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(mn(e))t.push(await e.arrayBuffer());else{if(!xn(e))throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${function(e){const t=Object.getOwnPropertyNames(e);return`[${t.map((e=>`"${e}"`)).join(", ")}]`}(e)}`);for await(const n of e)t.push(n)}return t}(e);if(t||(t=function(e){return vn(e.name)||vn(e.filename)||vn(e.path)?.split(/[\\/]/).pop()}(e)??"unknown_file"),!n?.type){const e=r[0]?.type;"string"==typeof e&&(n={...n,type:e})}return new It(r,t,n)}const vn=e=>"string"==typeof e?e:"undefined"!=typeof Buffer&&e instanceof Buffer?String(e):void 0,xn=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator],wn=e=>e&&"object"==typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],Sn=async e=>{const t=await kn(e.body);return Lt(t,e)},kn=async e=>{const t=new Nt;return await Promise.all(Object.entries(e||{}).map((([e,n])=>En(t,e,n)))),t},En=async(e,t,n)=>{if(void 0!==n){if(null==n)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)e.append(t,String(n));else if(yn(n)){const r=await bn(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map((n=>En(e,t+"[]",n))));else{if("object"!=typeof n)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`);await Promise.all(Object.entries(n).map((([n,r])=>En(e,`${t}[${n}]`,r))))}}};var Cn,_n=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},jn=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};async function An(e){const{response:t}=e;if(e.options.stream)return Yn("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):un.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if(n?.includes("application/json")||n?.includes("application/vnd.api+json")){const e=await t.json();return Yn("response",t.status,t.url,t.headers,e),On(e,t)}const r=await t.text();return Yn("response",t.status,t.url,t.headers,r),r}function On(e,t){return!e||"object"!=typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class Tn extends Promise{constructor(e,t=An){super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new Tn(this.responsePromise,(async t=>On(e(await this.parseResponse(t),t),t.response)))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class Rn{constructor({baseURL:e,maxRetries:t=2,timeout:n=6e5,httpAgent:r,fetch:o}){this.baseURL=e,this.maxRetries=qn("maxRetries",t),this.timeout=qn("timeout",n),this.httpAgent=r,this.fetch=o??Ft}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Un(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${Zn()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then((async n=>{const r=n&&mn(n?.body)?new DataView(await n.body.arrayBuffer()):n?.body instanceof DataView?n.body:n?.body instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(n?.body)?new DataView(n.body.buffer):n?.body;return{method:e,path:t,...n,body:r}})))}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}calculateContentLength(e){if("string"==typeof e){if("undefined"!=typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!=typeof TextEncoder){return(new TextEncoder).encode(e).length.toString()}}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:t=0}={}){const{method:n,path:r,query:o,headers:a={}}=e,i=ArrayBuffer.isView(e.body)||e.__binaryRequest&&"string"==typeof e.body?e.body:wn(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,s=this.calculateContentLength(i),l=this.buildURL(r,o);"timeout"in e&&qn("timeout",e.timeout);const c=e.timeout??this.timeout,u=e.httpAgent??this.httpAgent??zt(l),d=c+1e3;"number"==typeof u?.options?.timeout&&d>(u.options.timeout??0)&&(u.options.timeout=d),this.idempotencyHeader&&"get"!==n&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);return{req:{method:n,...i&&{body:i},headers:this.buildHeaders({options:e,headers:a,contentLength:s,retryCount:t}),...u&&{agent:u},signal:e.signal??null},url:l,timeout:c}}buildHeaders({options:e,headers:t,contentLength:n,retryCount:r}){const o={};n&&(o["content-length"]=n);const a=this.defaultHeaders(e);return Gn(o,a),Gn(o,t),wn(e.body)&&"node"!==Pt&&delete o["content-type"],void 0===er(a,"x-stainless-retry-count")&&void 0===er(t,"x-stainless-retry-count")&&(o["x-stainless-retry-count"]=String(r)),this.validateHeaders(o,t),o}async prepareOptions(e){}async prepareRequest(e,{url:t,options:n}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):{...e}:{}}makeStatusError(e,t,n,r){return Jt.generate(e,t,n,r)}request(e,t=null){return new Tn(this.makeRequest(e,t))}async makeRequest(e,t){const n=await e,r=n.maxRetries??this.maxRetries;null==t&&(t=r),await this.prepareOptions(n);const{req:o,url:a,timeout:i}=this.buildRequest(n,{retryCount:r-t});if(await this.prepareRequest(o,{url:a,options:n}),Yn("request",a,n,o.headers),n.signal?.aborted)throw new Xt;const s=new AbortController,l=await this.fetchWithTimeout(a,o,i,s).catch(Kn);if(l instanceof Error){if(n.signal?.aborted)throw new Xt;if(t)return this.retryRequest(n,t);if("AbortError"===l.name)throw new Gt;throw new Qt({cause:l})}const c=Nn(l.headers);if(!l.ok){if(t&&this.shouldRetry(l)){return Yn(`response (error; ${`retrying, ${t} attempts remaining`})`,l.status,a,c),this.retryRequest(n,t,c)}const e=await l.text().catch((e=>Kn(e).message)),r=$n(e),o=r?void 0:e;Yn(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,l.status,a,c,o);throw this.makeStatusError(l.status,r,o,c)}return{response:l,options:n,controller:s}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new Fn(this,n,e)}buildURL(e,t){const n=Hn(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return Xn(r)||(t={...r,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter((([e,t])=>void 0!==t)).map((([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new Kt(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)})).join("&")}async fetchWithTimeout(e,t,n,r){const{signal:o,...a}=t||{};o&&o.addEventListener("abort",(()=>r.abort()));const i=setTimeout((()=>r.abort()),n);return this.getRequestClient().fetch.call(void 0,e,{signal:r.signal,...a}).finally((()=>{clearTimeout(i)}))}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n){let r;const o=n?.["retry-after-ms"];if(o){const e=parseFloat(o);Number.isNaN(e)||(r=e)}const a=n?.["retry-after"];if(a&&!r){const e=parseFloat(a);r=Number.isNaN(e)?Date.parse(a)-Date.now():1e3*e}if(!(r&&0<=r&&r<6e4)){const n=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(t,n)}return await Vn(r),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Rt}`}}class Pn{constructor(e,t,n,r){Cn.set(this,void 0),_n(this,Cn,e,"f"),this.options=r,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Kt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&"object"==typeof t.query)t.query={...t.query,...e.params};else if("url"in e){const n=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[t,r]of n)e.url.searchParams.set(t,r);t.query=void 0,t.path=e.url.toString()}return await jn(this,Cn,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Cn=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class Fn extends Tn{constructor(e,t,n){super(t,(async t=>new n(e,t.response,await An(t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}const Nn=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),In={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Bn=e=>"object"==typeof e&&null!==e&&!Xn(e)&&Object.keys(e).every((e=>Qn(In,e))),Ln=()=>{if("undefined"!=typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rt,"X-Stainless-OS":Dn(Deno.build.os),"X-Stainless-Arch":zn(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rt,"X-Stainless-OS":Dn(process.platform),"X-Stainless-Arch":zn(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const zn=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",Dn=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let Mn;const Un=()=>Mn??(Mn=Ln()),$n=e=>{try{return JSON.parse(e)}catch(e){return}},Wn=new RegExp("^(?:[a-z]+:)?//","i"),Hn=e=>Wn.test(e),Vn=e=>new Promise((t=>setTimeout(t,e))),qn=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new Kt(`${e} must be an integer`);if(t<0)throw new Kt(`${e} must be a positive integer`);return t},Kn=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},Jn=e=>"undefined"!=typeof process?process.env?.[e]?.trim()??void 0:"undefined"!=typeof Deno?Deno.env?.get?.(e)?.trim():void 0;function Xn(e){if(!e)return!0;for(const t in e)return!1;return!0}function Qn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Gn(e,t){for(const n in t){if(!Qn(t,n))continue;const r=n.toLowerCase();if(!r)continue;const o=t[n];null===o?delete e[r]:void 0!==o&&(e[r]=o)}}function Yn(e,...t){"undefined"!=typeof process&&"true"===process?.env?.DEBUG&&console.log(`OpenAI:DEBUG:${e}`,...t)}const Zn=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),er=(e,t)=>{const n=t.toLowerCase();if((e=>"function"==typeof e?.get)(e)){const r=t[0]?.toUpperCase()+t.substring(1).replace(/([^\w])(\w)/g,((e,t,n)=>t+n.toUpperCase()));for(const o of[t,n,t.toUpperCase(),r]){const t=e.get(o);if(t)return t}}for(const[r,o]of Object.entries(e))if(r.toLowerCase()===n)return Array.isArray(o)?(o.length<=1||console.warn(`Received ${o.length} entries for the ${t} header, using the first entry.`),o[0]):o};function tr(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)}class nr{constructor(e){this._client=e}}class rr extends nr{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}class or extends nr{create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}}class ar extends nr{constructor(){super(...arguments),this.completions=new or(this._client)}}ar.Completions=or;class ir extends nr{create(e,t){return this._client.post("/embeddings",{body:e,...t})}}class sr extends Pn{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class lr extends Pn{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){const e=this.getPaginatedItems();if(!e.length)return null;const t=e[e.length-1]?.id;return t?{params:{after:t}}:null}}class cr extends nr{create(e,t){return this._client.post("/files",Sn({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(e={},t){return Bn(e)?this.list({},e):this._client.getAPIList("/files",ur,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/json",...t?.headers}})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:n=18e5}={}){const r=new Set(["processed","error","deleted"]),o=Date.now();let a=await this.retrieve(e);for(;!a.status||!r.has(a.status);)if(await Vn(t),a=await this.retrieve(e),Date.now()-o>n)throw new Gt({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return a}}class ur extends lr{}cr.FileObjectsPage=ur;class dr extends nr{createVariation(e,t){return this._client.post("/images/variations",Sn({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",Sn({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}class fr extends nr{create(e,t){return this._client.post("/audio/speech",{body:e,...t,__binaryResponse:!0})}}class pr extends nr{create(e,t){return this._client.post("/audio/transcriptions",Sn({body:e,...t}))}}class hr extends nr{create(e,t){return this._client.post("/audio/translations",Sn({body:e,...t}))}}class gr extends nr{constructor(){super(...arguments),this.transcriptions=new pr(this._client),this.translations=new hr(this._client),this.speech=new fr(this._client)}}gr.Transcriptions=pr,gr.Translations=hr,gr.Speech=fr;class mr extends nr{create(e,t){return this._client.post("/moderations",{body:e,...t})}}class yr extends nr{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",br,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}class br extends sr{}yr.ModelsPage=br;class vr extends nr{list(e,t={},n){return Bn(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,xr,{query:t,...n})}}class xr extends lr{}vr.FineTuningJobCheckpointsPage=xr;class wr extends nr{constructor(){super(...arguments),this.checkpoints=new vr(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return Bn(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Sr,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},n){return Bn(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,kr,{query:t,...n})}}class Sr extends lr{}class kr extends lr{}wr.FineTuningJobsPage=Sr,wr.FineTuningJobEventsPage=kr,wr.Checkpoints=vr,wr.FineTuningJobCheckpointsPage=xr;class Er extends nr{constructor(){super(...arguments),this.jobs=new wr(this._client)}}Er.Jobs=wr,Er.FineTuningJobsPage=Sr,Er.FineTuningJobEventsPage=kr;class Cr extends nr{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/assistants/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e={},t){return Bn(e)?this.list({},e):this._client.getAPIList("/assistants",_r,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class _r extends lr{}function jr(e){return"function"==typeof e.parse}Cr.AssistantsPage=_r;const Ar=e=>"assistant"===e?.role,Or=e=>"function"===e?.role,Tr=e=>"tool"===e?.role;var Rr,Pr,Fr,Nr,Ir,Br,Lr,zr,Dr,Mr,Ur,$r,Wr,Hr=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},Vr=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class qr{constructor(){Rr.add(this),this.controller=new AbortController,Pr.set(this,void 0),Fr.set(this,(()=>{})),Nr.set(this,(()=>{})),Ir.set(this,void 0),Br.set(this,(()=>{})),Lr.set(this,(()=>{})),zr.set(this,{}),Dr.set(this,!1),Mr.set(this,!1),Ur.set(this,!1),$r.set(this,!1),Hr(this,Pr,new Promise(((e,t)=>{Hr(this,Fr,e,"f"),Hr(this,Nr,t,"f")})),"f"),Hr(this,Ir,new Promise(((e,t)=>{Hr(this,Br,e,"f"),Hr(this,Lr,t,"f")})),"f"),Vr(this,Pr,"f").catch((()=>{})),Vr(this,Ir,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emitFinal(),this._emit("end")}),Vr(this,Rr,"m",Wr).bind(this))}),0)}_connected(){this.ended||(Vr(this,Fr,"f").call(this),this._emit("connect"))}get ended(){return Vr(this,Dr,"f")}get errored(){return Vr(this,Mr,"f")}get aborted(){return Vr(this,Ur,"f")}abort(){this.controller.abort()}on(e,t){return(Vr(this,zr,"f")[e]||(Vr(this,zr,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=Vr(this,zr,"f")[e];if(!n)return this;const r=n.findIndex((e=>e.listener===t));return r>=0&&n.splice(r,1),this}once(e,t){return(Vr(this,zr,"f")[e]||(Vr(this,zr,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,n)=>{Hr(this,$r,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)}))}async done(){Hr(this,$r,!0,"f"),await Vr(this,Ir,"f")}_emit(e,...t){if(Vr(this,Dr,"f"))return;"end"===e&&(Hr(this,Dr,!0,"f"),Vr(this,Br,"f").call(this));const n=Vr(this,zr,"f")[e];if(n&&(Vr(this,zr,"f")[e]=n.filter((e=>!e.once)),n.forEach((({listener:e})=>e(...t)))),"abort"===e){const e=t[0];return Vr(this,$r,"f")||n?.length||Promise.reject(e),Vr(this,Nr,"f").call(this,e),Vr(this,Lr,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];Vr(this,$r,"f")||n?.length||Promise.reject(e),Vr(this,Nr,"f").call(this,e),Vr(this,Lr,"f").call(this,e),this._emit("end")}}_emitFinal(){}}function Kr(e){return"auto-parseable-response-format"===e?.$brand}function Jr(e){return"auto-parseable-tool"===e?.$brand}function Xr(e,t){const n=e.choices.map((e=>{if("length"===e.finish_reason)throw new sn;if("content_filter"===e.finish_reason)throw new ln;return{...e,message:{...e.message,tool_calls:e.message.tool_calls?.map((e=>function(e,t){const n=e.tools?.find((e=>e.function?.name===t.function.name));return{...t,function:{...t.function,parsed_arguments:Jr(n)?n.$parseRaw(t.function.arguments):n?.function.strict?JSON.parse(t.function.arguments):null}}}(t,e)))??[],parsed:e.message.content&&!e.message.refusal?Qr(t,e.message.content):null}}}));return{...e,choices:n}}function Qr(e,t){if("json_schema"!==e.response_format?.type)return null;if("json_schema"===e.response_format?.type){if("$parseRaw"in e.response_format){return e.response_format.$parseRaw(t)}return JSON.parse(t)}return null}function Gr(e,t){if(!e)return!1;const n=e.tools?.find((e=>e.function?.name===t.function.name));return Jr(n)||n?.function.strict||!1}function Yr(e){return!!Kr(e.response_format)||(e.tools?.some((e=>Jr(e)||"function"===e.type&&!0===e.function.strict))??!1)}Pr=new WeakMap,Fr=new WeakMap,Nr=new WeakMap,Ir=new WeakMap,Br=new WeakMap,Lr=new WeakMap,zr=new WeakMap,Dr=new WeakMap,Mr=new WeakMap,Ur=new WeakMap,$r=new WeakMap,Rr=new WeakSet,Wr=function(e){if(Hr(this,Mr,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new Xt),e instanceof Xt)return Hr(this,Ur,!0,"f"),this._emit("abort",e);if(e instanceof Kt)return this._emit("error",e);if(e instanceof Error){const t=new Kt(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new Kt(String(e)))};var Zr,eo,to,no,ro,oo,ao,io,so=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const lo=10;class co extends qr{constructor(){super(...arguments),Zr.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),(Or(e)||Tr(e))&&e.content)this._emit("functionCallResult",e.content);else if(Ar(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Ar(e)&&e.tool_calls)for(const t of e.tool_calls)"function"===t.type&&this._emit("functionCall",t.function)}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Kt("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),so(this,Zr,"m",eo).call(this)}async finalMessage(){return await this.done(),so(this,Zr,"m",to).call(this)}async finalFunctionCall(){return await this.done(),so(this,Zr,"m",no).call(this)}async finalFunctionCallResult(){return await this.done(),so(this,Zr,"m",ro).call(this)}async totalUsage(){return await this.done(),so(this,Zr,"m",oo).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=so(this,Zr,"m",to).call(this);t&&this._emit("finalMessage",t);const n=so(this,Zr,"m",eo).call(this);n&&this._emit("finalContent",n);const r=so(this,Zr,"m",no).call(this);r&&this._emit("finalFunctionCall",r);const o=so(this,Zr,"m",ro).call(this);null!=o&&this._emit("finalFunctionCallResult",o),this._chatCompletions.some((e=>e.usage))&&this._emit("totalUsage",so(this,Zr,"m",oo).call(this))}async _createChatCompletion(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),so(this,Zr,"m",ao).call(this,t);const o=await e.chat.completions.create({...t,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Xr(o,t))}async _runChatCompletion(e,t,n){for(const e of t.messages)this._addMessage(e,!1);return await this._createChatCompletion(e,t,n)}async _runFunctions(e,t,n){const r="function",{function_call:o="auto",stream:a,...i}=t,s="string"!=typeof o&&o?.name,{maxChatCompletions:l=lo}=n||{},c={};for(const e of t.functions)c[e.name||e.function.name]=e;const u=t.functions.map((e=>({name:e.name||e.function.name,parameters:e.parameters,description:e.description})));for(const e of t.messages)this._addMessage(e,!1);for(let t=0;t<l;++t){const t=await this._createChatCompletion(e,{...i,function_call:o,functions:u,messages:[...this.messages]},n),a=t.choices[0]?.message;if(!a)throw new Kt("missing message in ChatCompletion response");if(!a.function_call)return;const{name:l,arguments:d}=a.function_call,f=c[l];if(!f){const e=`Invalid function_call: ${JSON.stringify(l)}. Available options are: ${u.map((e=>JSON.stringify(e.name))).join(", ")}. Please try again`;this._addMessage({role:r,name:l,content:e});continue}if(s&&s!==l){const e=`Invalid function_call: ${JSON.stringify(l)}. ${JSON.stringify(s)} requested. Please try again`;this._addMessage({role:r,name:l,content:e});continue}let p;try{p=jr(f)?await f.parse(d):d}catch(e){this._addMessage({role:r,name:l,content:e instanceof Error?e.message:String(e)});continue}const h=await f.function(p,this),g=so(this,Zr,"m",io).call(this,h);if(this._addMessage({role:r,name:l,content:g}),s)return}}async _runTools(e,t,n){const r="tool",{tool_choice:o="auto",stream:a,...i}=t,s="string"!=typeof o&&o?.function?.name,{maxChatCompletions:l=lo}=n||{},c=t.tools.map((e=>{if(Jr(e)){if(!e.$callback)throw new Kt("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e})),u={};for(const e of c)"function"===e.type&&(u[e.function.name||e.function.function.name]=e.function);const d="tools"in t?c.map((e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e)):void 0;for(const e of t.messages)this._addMessage(e,!1);for(let t=0;t<l;++t){const t=await this._createChatCompletion(e,{...i,tool_choice:o,tools:d,messages:[...this.messages]},n),a=t.choices[0]?.message;if(!a)throw new Kt("missing message in ChatCompletion response");if(!a.tool_calls?.length)return;for(const e of a.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:n,arguments:o}=e.function,a=u[n];if(!a){const e=`Invalid tool_call: ${JSON.stringify(n)}. Available options are: ${Object.keys(u).map((e=>JSON.stringify(e))).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:t,content:e});continue}if(s&&s!==n){const e=`Invalid tool_call: ${JSON.stringify(n)}. ${JSON.stringify(s)} requested. Please try again`;this._addMessage({role:r,tool_call_id:t,content:e});continue}let i;try{i=jr(a)?await a.parse(o):o}catch(e){const n=e instanceof Error?e.message:String(e);this._addMessage({role:r,tool_call_id:t,content:n});continue}const l=await a.function(i,this),c=so(this,Zr,"m",io).call(this,l);if(this._addMessage({role:r,tool_call_id:t,content:c}),s)return}}}}Zr=new WeakSet,eo=function(){return so(this,Zr,"m",to).call(this).content??null},to=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(Ar(t)){const{function_call:e,...n}=t,r={...n,content:t.content??null,refusal:t.refusal??null};return e&&(r.function_call=e),r}}throw new Kt("stream ended without producing a ChatCompletionMessage with role=assistant")},no=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Ar(t)&&t?.function_call)return t.function_call;if(Ar(t)&&t?.tool_calls?.length)return t.tool_calls.at(-1)?.function}},ro=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(Or(t)&&null!=t.content)return t.content;if(Tr(t)&&null!=t.content&&"string"==typeof t.content&&this.messages.some((e=>"assistant"===e.role&&e.tool_calls?.some((e=>"function"===e.type&&e.id===t.tool_call_id)))))return t.content}},oo=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},ao=function(e){if(null!=e.n&&e.n>1)throw new Kt("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},io=function(e){return"string"==typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class uo extends co{static runFunctions(e,t,n){const r=new uo,o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,o))),r}static runTools(e,t,n){const r=new uo,o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,o))),r}_addMessage(e,t=!0){super._addMessage(e,t),Ar(e)&&e.content&&this._emit("content",e.content)}}const fo=1,po=2,ho=4,go=8,mo=16,yo=32,bo=64,vo=128,xo=256,wo=511;class So extends Error{}class ko extends Error{}const Eo=(e,t)=>{const n=e.length;let r=0;const o=e=>{throw new So(`${e} at position ${r}`)},a=e=>{throw new ko(`${e} at position ${r}`)},i=()=>(d(),r>=n&&o("Unexpected end of input"),'"'===e[r]?s():"{"===e[r]?l():"["===e[r]?c():"null"===e.substring(r,r+4)||mo&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):"true"===e.substring(r,r+4)||yo&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):"false"===e.substring(r,r+5)||yo&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):"Infinity"===e.substring(r,r+8)||vo&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):"-Infinity"===e.substring(r,r+9)||xo&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):"NaN"===e.substring(r,r+3)||bo&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):u()),s=()=>{const i=r;let s=!1;for(r++;r<n&&('"'!==e[r]||s&&"\\"===e[r-1]);)s="\\"===e[r]&&!s,r++;if('"'==e.charAt(r))try{return JSON.parse(e.substring(i,++r-Number(s)))}catch(e){a(String(e))}else if(fo&t)try{return JSON.parse(e.substring(i,r-Number(s))+'"')}catch(t){return JSON.parse(e.substring(i,e.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},l=()=>{r++,d();const a={};try{for(;"}"!==e[r];){if(d(),r>=n&&go&t)return a;const o=s();d(),r++;try{const e=i();Object.defineProperty(a,o,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(e){if(go&t)return a;throw e}d(),","===e[r]&&r++}}catch(e){if(go&t)return a;o("Expected '}' at end of object")}return r++,a},c=()=>{r++;const n=[];try{for(;"]"!==e[r];)n.push(i()),d(),","===e[r]&&r++}catch(e){if(ho&t)return n;o("Expected ']' at end of array")}return r++,n},u=()=>{if(0===r){"-"===e&&po&t&&o("Not sure what '-' is");try{return JSON.parse(e)}catch(n){if(po&t)try{return"."===e[e.length-1]?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(e){}a(String(n))}}const i=r;for("-"===e[r]&&r++;e[r]&&!",]}".includes(e[r]);)r++;r!=n||po&t||o("Unterminated number literal");try{return JSON.parse(e.substring(i,r))}catch(n){"-"===e.substring(i,r)&&po&t&&o("Not sure what '-' is");try{return JSON.parse(e.substring(i,e.lastIndexOf("e")))}catch(e){a(String(e))}}},d=()=>{for(;r<n&&" \n\r\t".includes(e[r]);)r++};return i()},Co=e=>function(e,t=wo){if("string"!=typeof e)throw new TypeError("expecting str, got "+typeof e);if(!e.trim())throw new Error(`${e} is empty`);return Eo(e.trim(),t)}(e,wo^po);var _o,jo,Ao,Oo,To,Ro,Po,Fo,No,Io,Bo,Lo,zo=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},Do=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class Mo extends co{constructor(e){super(),_o.add(this),jo.set(this,void 0),Ao.set(this,void 0),Oo.set(this,void 0),zo(this,jo,e,"f"),zo(this,Ao,[],"f")}get currentChatCompletionSnapshot(){return Do(this,Oo,"f")}static fromReadableStream(e){const t=new Mo(null);return t._run((()=>t._fromReadableStream(e))),t}static createChatCompletion(e,t,n){const r=new Mo(t);return r._run((()=>r._runChatCompletion(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}async _createChatCompletion(e,t,n){super._createChatCompletion;const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),Do(this,_o,"m",To).call(this);const o=await e.chat.completions.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const e of o)Do(this,_o,"m",Po).call(this,e);if(o.controller.signal?.aborted)throw new Xt;return this._addChatCompletion(Do(this,_o,"m",Io).call(this))}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),Do(this,_o,"m",To).call(this),this._connected();const r=un.fromReadableStream(e,this.controller);let o;for await(const e of r)o&&o!==e.id&&this._addChatCompletion(Do(this,_o,"m",Io).call(this)),Do(this,_o,"m",Po).call(this,e),o=e.id;if(r.controller.signal?.aborted)throw new Xt;return this._addChatCompletion(Do(this,_o,"m",Io).call(this))}[(jo=new WeakMap,Ao=new WeakMap,Oo=new WeakMap,_o=new WeakSet,To=function(){this.ended||zo(this,Oo,void 0,"f")},Ro=function(e){let t=Do(this,Ao,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Do(this,Ao,"f")[e.index]=t,t)},Po=function(e){if(this.ended)return;const t=Do(this,_o,"m",Lo).call(this,e);this._emit("chunk",e,t);for(const n of e.choices){const e=t.choices[n.index];null!=n.delta.content&&"assistant"===e.message?.role&&e.message?.content&&(this._emit("content",n.delta.content,e.message.content),this._emit("content.delta",{delta:n.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=n.delta.refusal&&"assistant"===e.message?.role&&e.message?.refusal&&this._emit("refusal.delta",{delta:n.delta.refusal,snapshot:e.message.refusal}),null!=n.logprobs?.content&&"assistant"===e.message?.role&&this._emit("logprobs.content.delta",{content:n.logprobs?.content,snapshot:e.logprobs?.content??[]}),null!=n.logprobs?.refusal&&"assistant"===e.message?.role&&this._emit("logprobs.refusal.delta",{refusal:n.logprobs?.refusal,snapshot:e.logprobs?.refusal??[]});const r=Do(this,_o,"m",Ro).call(this,e);e.finish_reason&&(Do(this,_o,"m",No).call(this,e),null!=r.current_tool_call_index&&Do(this,_o,"m",Fo).call(this,e,r.current_tool_call_index));for(const t of n.delta.tool_calls??[])r.current_tool_call_index!==t.index&&(Do(this,_o,"m",No).call(this,e),null!=r.current_tool_call_index&&Do(this,_o,"m",Fo).call(this,e,r.current_tool_call_index)),r.current_tool_call_index=t.index;for(const t of n.delta.tool_calls??[]){const n=e.message.tool_calls?.[t.index];n?.type&&("function"===n?.type&&this._emit("tool_calls.function.arguments.delta",{name:n.function?.name,index:t.index,arguments:n.function.arguments,parsed_arguments:n.function.parsed_arguments,arguments_delta:t.function?.arguments??""}))}}},Fo=function(e,t){if(Do(this,_o,"m",Ro).call(this,e).done_tool_calls.has(t))return;const n=e.message.tool_calls?.[t];if(!n)throw new Error("no tool call snapshot");if(!n.type)throw new Error("tool call snapshot missing `type`");if("function"===n.type){const e=Do(this,jo,"f")?.tools?.find((e=>"function"===e.type&&e.function.name===n.function.name));this._emit("tool_calls.function.arguments.done",{name:n.function.name,index:t,arguments:n.function.arguments,parsed_arguments:Jr(e)?e.$parseRaw(n.function.arguments):e?.function.strict?JSON.parse(n.function.arguments):null})}else n.type},No=function(e){const t=Do(this,_o,"m",Ro).call(this,e);if(e.message.content&&!t.content_done){t.content_done=!0;const n=Do(this,_o,"m",Bo).call(this);this._emit("content.done",{content:e.message.content,parsed:n?n.$parseRaw(e.message.content):null})}e.message.refusal&&!t.refusal_done&&(t.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),e.logprobs?.content&&!t.logprobs_content_done&&(t.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),e.logprobs?.refusal&&!t.logprobs_refusal_done&&(t.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},Io=function(){if(this.ended)throw new Kt("stream has ended, this shouldn't happen");const e=Do(this,Oo,"f");if(!e)throw new Kt("request ended without sending any chunks");return zo(this,Oo,void 0,"f"),zo(this,Ao,[],"f"),function(e,t){const{id:n,choices:r,created:o,model:a,system_fingerprint:i,...s}=e,l={...s,id:n,choices:r.map((({message:t,finish_reason:n,index:r,logprobs:o,...a})=>{if(!n)throw new Kt(`missing finish_reason for choice ${r}`);const{content:i=null,function_call:s,tool_calls:l,...c}=t,u=t.role;if(!u)throw new Kt(`missing role for choice ${r}`);if(s){const{arguments:e,name:l}=s;if(null==e)throw new Kt(`missing function_call.arguments for choice ${r}`);if(!l)throw new Kt(`missing function_call.name for choice ${r}`);return{...a,message:{content:i,function_call:{arguments:e,name:l},role:u,refusal:t.refusal??null},finish_reason:n,index:r,logprobs:o}}return l?{...a,index:r,finish_reason:n,logprobs:o,message:{...c,role:u,content:i,refusal:t.refusal??null,tool_calls:l.map(((t,n)=>{const{function:o,type:a,id:i,...s}=t,{arguments:l,name:c,...u}=o||{};if(null==i)throw new Kt(`missing choices[${r}].tool_calls[${n}].id\n${Uo(e)}`);if(null==a)throw new Kt(`missing choices[${r}].tool_calls[${n}].type\n${Uo(e)}`);if(null==c)throw new Kt(`missing choices[${r}].tool_calls[${n}].function.name\n${Uo(e)}`);if(null==l)throw new Kt(`missing choices[${r}].tool_calls[${n}].function.arguments\n${Uo(e)}`);return{...s,id:i,type:a,function:{...u,name:c,arguments:l}}}))}}:{...a,message:{...c,content:i,role:u,refusal:t.refusal??null},finish_reason:n,index:r,logprobs:o}})),created:o,model:a,object:"chat.completion",...i?{system_fingerprint:i}:{}};return function(e,t){return t&&Yr(t)?Xr(e,t):{...e,choices:e.choices.map((e=>({...e,message:{...e.message,parsed:null,tool_calls:e.message.tool_calls??[]}})))}}(l,t)}(e,Do(this,jo,"f"))},Bo=function(){const e=Do(this,jo,"f")?.response_format;return Kr(e)?e:null},Lo=function(e){var t,n,r,o;let a=Do(this,Oo,"f");const{choices:i,...s}=e;a?Object.assign(a,s):a=zo(this,Oo,{...s,choices:[]},"f");for(const{delta:i,finish_reason:s,index:l,logprobs:c=null,...u}of e.choices){let e=a.choices[l];if(e||(e=a.choices[l]={finish_reason:s,index:l,message:{},logprobs:c,...u}),c)if(e.logprobs){const{content:r,refusal:o,...a}=c;Object.assign(e.logprobs,a),r&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...r)),o&&((n=e.logprobs).refusal??(n.refusal=[]),e.logprobs.refusal.push(...o))}else e.logprobs=Object.assign({},c);if(s&&(e.finish_reason=s,Do(this,jo,"f")&&Yr(Do(this,jo,"f")))){if("length"===s)throw new sn;if("content_filter"===s)throw new ln}if(Object.assign(e,u),!i)continue;const{content:d,refusal:f,function_call:p,role:h,tool_calls:g,...m}=i;if(Object.assign(e.message,m),f&&(e.message.refusal=(e.message.refusal||"")+f),h&&(e.message.role=h),p&&(e.message.function_call?(p.name&&(e.message.function_call.name=p.name),p.arguments&&((r=e.message.function_call).arguments??(r.arguments=""),e.message.function_call.arguments+=p.arguments)):e.message.function_call=p),d&&(e.message.content=(e.message.content||"")+d,!e.message.refusal&&Do(this,_o,"m",Bo).call(this)&&(e.message.parsed=Co(e.message.content))),g){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:n,type:r,function:a,...i}of g){const s=(o=e.message.tool_calls)[t]??(o[t]={});Object.assign(s,i),n&&(s.id=n),r&&(s.type=r),a&&(s.function??(s.function={name:a.name??"",arguments:""})),a?.name&&(s.function.name=a.name),a?.arguments&&(s.function.arguments+=a.arguments,Gr(Do(this,jo,"f"),s)&&(s.function.parsed_arguments=Co(s.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new un(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Uo(e){return JSON.stringify(e)}class $o extends Mo{static fromReadableStream(e){const t=new $o(null);return t._run((()=>t._fromReadableStream(e))),t}static runFunctions(e,t,n){const r=new $o(null),o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,o))),r}static runTools(e,t,n){const r=new $o(t),o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,o))),r}}class Wo extends nr{parse(e,t){return function(e){for(const t of e??[]){if("function"!==t.type)throw new Kt(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new Kt(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap((t=>Xr(t,e)))}runFunctions(e,t){return e.stream?$o.runFunctions(this._client,e,t):uo.runFunctions(this._client,e,t)}runTools(e,t){return e.stream?$o.runTools(this._client,e,t):uo.runTools(this._client,e,t)}stream(e,t){return Mo.createChatCompletion(this._client,e,t)}}class Ho extends nr{constructor(){super(...arguments),this.completions=new Wo(this._client)}}!function(e){e.Completions=Wo}(Ho||(Ho={}));var Vo,qo,Ko,Jo,Xo,Qo,Go,Yo,Zo,ea,ta,na,ra,oa,aa,ia,sa,la,ca,ua,da,fa,pa=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},ha=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n};class ga extends qr{constructor(){super(...arguments),Vo.add(this),qo.set(this,[]),Ko.set(this,{}),Jo.set(this,{}),Xo.set(this,void 0),Qo.set(this,void 0),Go.set(this,void 0),Yo.set(this,void 0),Zo.set(this,void 0),ea.set(this,void 0),ta.set(this,void 0),na.set(this,void 0),ra.set(this,void 0)}[(qo=new WeakMap,Ko=new WeakMap,Jo=new WeakMap,Xo=new WeakMap,Qo=new WeakMap,Go=new WeakMap,Yo=new WeakMap,Zo=new WeakMap,ea=new WeakMap,ta=new WeakMap,na=new WeakMap,ra=new WeakMap,Vo=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new ga;return t._run((()=>t._fromReadableStream(e))),t}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),this._connected();const r=un.fromReadableStream(e,this.controller);for await(const e of r)pa(this,Vo,"m",oa).call(this,e);if(r.controller.signal?.aborted)throw new Xt;return this._addRun(pa(this,Vo,"m",aa).call(this))}toReadableStream(){return new un(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,r,o){const a=new ga;return a._run((()=>a._runToolAssistantStream(e,t,n,r,{...o,headers:{...o?.headers,"X-Stainless-Helper-Method":"stream"}}))),a}async _createToolAssistantStream(e,t,n,r,o){const a=o?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(()=>this.controller.abort())));const i={...r,stream:!0},s=await e.submitToolOutputs(t,n,i,{...o,signal:this.controller.signal});this._connected();for await(const e of s)pa(this,Vo,"m",oa).call(this,e);if(s.controller.signal?.aborted)throw new Xt;return this._addRun(pa(this,Vo,"m",aa).call(this))}static createThreadAssistantStream(e,t,n){const r=new ga;return r._run((()=>r._threadAssistantStream(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}static createAssistantStream(e,t,n,r){const o=new ga;return o._run((()=>o._runAssistantStream(e,t,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}}))),o}currentEvent(){return pa(this,ta,"f")}currentRun(){return pa(this,na,"f")}currentMessageSnapshot(){return pa(this,Xo,"f")}currentRunStepSnapshot(){return pa(this,ra,"f")}async finalRunSteps(){return await this.done(),Object.values(pa(this,Ko,"f"))}async finalMessages(){return await this.done(),Object.values(pa(this,Jo,"f"))}async finalRun(){if(await this.done(),!pa(this,Qo,"f"))throw Error("Final run was not received.");return pa(this,Qo,"f")}async _createThreadAssistantStream(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort())));const o={...t,stream:!0},a=await e.createAndRun(o,{...n,signal:this.controller.signal});this._connected();for await(const e of a)pa(this,Vo,"m",oa).call(this,e);if(a.controller.signal?.aborted)throw new Xt;return this._addRun(pa(this,Vo,"m",aa).call(this))}async _createAssistantStream(e,t,n,r){const o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(()=>this.controller.abort())));const a={...n,stream:!0},i=await e.create(t,a,{...r,signal:this.controller.signal});this._connected();for await(const e of i)pa(this,Vo,"m",oa).call(this,e);if(i.controller.signal?.aborted)throw new Xt;return this._addRun(pa(this,Vo,"m",aa).call(this))}static accumulateDelta(e,t){for(const[n,r]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=r;continue}let t=e[n];if(null!=t)if("index"!==n&&"type"!==n){if("string"==typeof t&&"string"==typeof r)t+=r;else if("number"==typeof t&&"number"==typeof r)t+=r;else{if(!tr(t)||!tr(r)){if(Array.isArray(t)&&Array.isArray(r)){if(t.every((e=>"string"==typeof e||"number"==typeof e))){t.push(...r);continue}for(const e of r){if(!tr(e))throw new Error(`Expected array delta entry to be an object but got: ${e}`);const n=e.index;if(null==n)throw console.error(e),new Error("Expected array delta entry to have an `index` property");if("number"!=typeof n)throw new Error(`Expected array delta entry \`index\` property to be a number but got ${n}`);const r=t[n];null==r?t.push(e):t[n]=this.accumulateDelta(r,e)}continue}throw Error(`Unhandled record type: ${n}, deltaValue: ${r}, accValue: ${t}`)}t=this.accumulateDelta(t,r)}e[n]=t}else e[n]=r;else e[n]=r}return e}_addRun(e){return e}async _threadAssistantStream(e,t,n){return await this._createThreadAssistantStream(t,e,n)}async _runAssistantStream(e,t,n,r){return await this._createAssistantStream(t,e,n,r)}async _runToolAssistantStream(e,t,n,r,o){return await this._createToolAssistantStream(n,e,t,r,o)}}oa=function(e){if(!this.ended)switch(ha(this,ta,e,"f"),pa(this,Vo,"m",la).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":pa(this,Vo,"m",fa).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":pa(this,Vo,"m",sa).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":pa(this,Vo,"m",ia).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},aa=function(){if(this.ended)throw new Kt("stream has ended, this shouldn't happen");if(!pa(this,Qo,"f"))throw Error("Final run has not been received");return pa(this,Qo,"f")},ia=function(e){const[t,n]=pa(this,Vo,"m",ua).call(this,e,pa(this,Xo,"f"));ha(this,Xo,t,"f"),pa(this,Jo,"f")[t.id]=t;for(const e of n){const n=t.content[e.index];"text"==n?.type&&this._emit("textCreated",n.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if("text"==n.type&&n.text){let e=n.text,r=t.content[n.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,r.text)}if(n.index!=pa(this,Go,"f")){if(pa(this,Yo,"f"))switch(pa(this,Yo,"f").type){case"text":this._emit("textDone",pa(this,Yo,"f").text,pa(this,Xo,"f"));break;case"image_file":this._emit("imageFileDone",pa(this,Yo,"f").image_file,pa(this,Xo,"f"))}ha(this,Go,n.index,"f")}ha(this,Yo,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==pa(this,Go,"f")){const t=e.data.content[pa(this,Go,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,pa(this,Xo,"f"));break;case"text":this._emit("textDone",t.text,pa(this,Xo,"f"))}}pa(this,Xo,"f")&&this._emit("messageDone",e.data),ha(this,Xo,void 0,"f")}},sa=function(e){const t=pa(this,Vo,"m",ca).call(this,e);switch(ha(this,ra,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&"tool_calls"==n.step_details.type&&n.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of n.step_details.tool_calls)e.index==pa(this,Zo,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(pa(this,ea,"f")&&this._emit("toolCallDone",pa(this,ea,"f")),ha(this,Zo,e.index,"f"),ha(this,ea,t.step_details.tool_calls[e.index],"f"),pa(this,ea,"f")&&this._emit("toolCallCreated",pa(this,ea,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ha(this,ra,void 0,"f");"tool_calls"==e.data.step_details.type&&pa(this,ea,"f")&&(this._emit("toolCallDone",pa(this,ea,"f")),ha(this,ea,void 0,"f")),this._emit("runStepDone",e.data,t)}},la=function(e){pa(this,qo,"f").push(e),this._emit("event",e)},ca=function(e){switch(e.event){case"thread.run.step.created":return pa(this,Ko,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=pa(this,Ko,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=ga.accumulateDelta(t,n.delta);pa(this,Ko,"f")[e.data.id]=r}return pa(this,Ko,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":pa(this,Ko,"f")[e.data.id]=e.data}if(pa(this,Ko,"f")[e.data.id])return pa(this,Ko,"f")[e.data.id];throw new Error("No snapshot available")},ua=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const e of r.delta.content)if(e.index in t.content){let n=t.content[e.index];t.content[e.index]=pa(this,Vo,"m",da).call(this,e,n)}else t.content[e.index]=e,n.push(e);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},da=function(e,t){return ga.accumulateDelta(t,e)},fa=function(e){switch(ha(this,na,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":ha(this,Qo,e.data,"f"),pa(this,ea,"f")&&(this._emit("toolCallDone",pa(this,ea,"f")),ha(this,ea,void 0,"f"))}};class ma extends nr{create(e,t,n){return this._client.post(`/threads/${e}/messages`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,t,n,r){return this._client.post(`/threads/${e}/messages/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e,t={},n){return Bn(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,ya,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t,n){return this._client.delete(`/threads/${e}/messages/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}}class ya extends lr{}ma.MessagesPage=ya;class ba extends nr{retrieve(e,t,n,r={},o){return Bn(r)?this.retrieve(e,t,n,{},r):this._client.get(`/threads/${e}/runs/${t}/steps/${n}`,{query:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o?.headers}})}list(e,t,n={},r){return Bn(n)?this.list(e,t,{},n):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,va,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}}class va extends lr{}ba.RunStepsPage=va;class xa extends nr{constructor(){super(...arguments),this.steps=new ba(this._client)}create(e,t,n){const{include:r,...o}=t;return this._client.post(`/threads/${e}/runs`,{query:{include:r},body:o,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers},stream:t.stream??!1})}retrieve(e,t,n){return this._client.get(`/threads/${e}/runs/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}update(e,t,n,r){return this._client.post(`/threads/${e}/runs/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e,t={},n){return Bn(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,wa,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,t,n){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}createAndStream(e,t,n){return ga.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:o,response:a}=await this.retrieve(e,t,{...n,headers:{...n?.headers,...r}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=a.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Vn(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(e,t,n){return ga.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n,r){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(e,t,n,r){const o=await this.submitToolOutputs(e,t,n,r);return await this.poll(e,o.id,r)}submitToolOutputsStream(e,t,n,r){return ga.createToolAssistantStream(e,t,this._client.beta.threads.runs,n,r)}}class wa extends lr{}xa.RunsPage=wa,xa.Steps=ba,xa.RunStepsPage=va;class Sa extends nr{constructor(){super(...arguments),this.runs=new xa(this._client),this.messages=new ma(this._client)}create(e={},t){return Bn(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/threads/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){const n=await this.createAndRun(e,t);return await this.runs.poll(n.thread_id,n.id,t)}createAndRunStream(e,t){return ga.createThreadAssistantStream(e,this._client.beta.threads,t)}}Sa.Runs=xa,Sa.RunsPage=wa,Sa.Messages=ma,Sa.MessagesPage=ya;class ka extends nr{create(e,t,n){return this._client.post(`/vector_stores/${e}/files`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e,t={},n){return Bn(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,Ea,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}del(e,t,n){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const o=await this.retrieve(e,t,{...n,headers:r}).withResponse(),a=o.data;switch(a.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=o.response.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Vn(e);break;case"failed":case"completed":return a}}}async upload(e,t,n){const r=await this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:r.id},n)}async uploadAndPoll(e,t,n){const r=await this.upload(e,t,n);return await this.poll(e,r.id,n)}}class Ea extends lr{}ka.VectorStoreFilesPage=Ea;class Ca extends nr{create(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}retrieve(e,t,n){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}cancel(e,t,n){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}async createAndPoll(e,t,n){const r=await this.create(e,t);return await this.poll(e,r.id,n)}listFiles(e,t,n={},r){return Bn(n)?this.listFiles(e,t,{},n):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,Ea,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async poll(e,t,n){const r={...n?.headers,"X-Stainless-Poll-Helper":"true"};for(n?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:o,response:a}=await this.retrieve(e,t,{...n,headers:r}).withResponse();switch(o.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=a.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Vn(e);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(e,{files:t,fileIds:n=[]},r){if(null==t||0==t.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=r?.maxConcurrency??5,a=Math.min(o,t.length),i=this._client,s=t.values(),l=[...n];const c=Array(a).fill(s).map((async function(e){for(let t of e){const e=await i.files.create({file:t,purpose:"assistants"},r);l.push(e.id)}}));return await(async e=>{const t=await Promise.allSettled(e),n=t.filter((e=>"rejected"===e.status));if(n.length){for(const e of n)console.error(e.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const e of t)"fulfilled"===e.status&&r.push(e.value);return r})(c),await this.createAndPoll(e,{file_ids:l})}}class _a extends nr{constructor(){super(...arguments),this.files=new ka(this._client),this.fileBatches=new Ca(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,n){return this._client.post(`/vector_stores/${e}`,{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n?.headers}})}list(e={},t){return Bn(e)?this.list({},e):this._client.getAPIList("/vector_stores",ja,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}class ja extends lr{}_a.VectorStoresPage=ja,_a.Files=ka,_a.VectorStoreFilesPage=Ea,_a.FileBatches=Ca;class Aa extends nr{constructor(){super(...arguments),this.vectorStores=new _a(this._client),this.chat=new Ho(this._client),this.assistants=new Cr(this._client),this.threads=new Sa(this._client)}}Aa.VectorStores=_a,Aa.VectorStoresPage=ja,Aa.Assistants=Cr,Aa.AssistantsPage=_r,Aa.Threads=Sa;class Oa extends nr{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(e={},t){return Bn(e)?this.list({},e):this._client.getAPIList("/batches",Ta,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}class Ta extends lr{}Oa.BatchesPage=Ta;class Ra extends nr{create(e,t,n){return this._client.post(`/uploads/${e}/parts`,Sn({body:t,...n}))}}class Pa extends nr{constructor(){super(...arguments),this.parts=new Ra(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(`/uploads/${e}/cancel`,t)}complete(e,t,n){return this._client.post(`/uploads/${e}/complete`,{body:t,...n})}}var Fa;Pa.Parts=Ra;class Na extends Rn{constructor({baseURL:e=Jn("OPENAI_BASE_URL"),apiKey:t=Jn("OPENAI_API_KEY"),organization:n=Jn("OPENAI_ORG_ID")??null,project:r=Jn("OPENAI_PROJECT_ID")??null,...o}={}){if(void 0===t)throw new Kt("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:t,organization:n,project:r,...o,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator)throw new Kt("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new rr(this),this.chat=new ar(this),this.embeddings=new ir(this),this.files=new cr(this),this.images=new dr(this),this.audio=new gr(this),this.moderations=new mr(this),this.models=new yr(this),this.fineTuning=new Er(this),this.beta=new Aa(this),this.batches=new Oa(this),this.uploads=new Pa(this),this._options=a,this.apiKey=t,this.organization=n,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return Tt(e,{arrayFormat:"brackets"})}}Fa=Na,Na.OpenAI=Fa,Na.DEFAULT_TIMEOUT=6e5,Na.OpenAIError=Kt,Na.APIError=Jt,Na.APIConnectionError=Qt,Na.APIConnectionTimeoutError=Gt,Na.APIUserAbortError=Xt,Na.NotFoundError=tn,Na.ConflictError=nn,Na.RateLimitError=on,Na.BadRequestError=Yt,Na.AuthenticationError=Zt,Na.InternalServerError=an,Na.PermissionDeniedError=en,Na.UnprocessableEntityError=rn,Na.toFile=bn,Na.fileFromPath=Dt;Na.Completions=rr,Na.Chat=ar,Na.Embeddings=ir,Na.Files=cr,Na.FileObjectsPage=ur,Na.Images=dr,Na.Audio=gr,Na.Moderations=mr,Na.Models=yr,Na.ModelsPage=br,Na.FineTuning=Er,Na.Beta=Aa,Na.Batches=Oa,Na.BatchesPage=Ta,Na.Uploads=Pa;new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations"]);function Ia(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ba}=Object.prototype,{getPrototypeOf:La}=Object,za=(Da=Object.create(null),e=>{const t=Ba.call(e);return Da[t]||(Da[t]=t.slice(8,-1).toLowerCase())});var Da;const Ma=e=>(e=e.toLowerCase(),t=>za(t)===e),Ua=e=>t=>typeof t===e,{isArray:$a}=Array,Wa=Ua("undefined");const Ha=Ma("ArrayBuffer");const Va=Ua("string"),qa=Ua("function"),Ka=Ua("number"),Ja=e=>null!==e&&"object"==typeof e,Xa=e=>{if("object"!==za(e))return!1;const t=La(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},Qa=Ma("Date"),Ga=Ma("File"),Ya=Ma("Blob"),Za=Ma("FileList"),ei=Ma("URLSearchParams"),[ti,ni,ri,oi]=["ReadableStream","Request","Response","Headers"].map(Ma);function ai(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),$a(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let i;for(r=0;r<a;r++)i=o[r],t.call(null,e[i],i,e)}}function ii(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const si="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,li=e=>!Wa(e)&&e!==si;const ci=(ui="undefined"!=typeof Uint8Array&&La(Uint8Array),e=>ui&&e instanceof ui);var ui;const di=Ma("HTMLFormElement"),fi=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),pi=Ma("RegExp"),hi=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ai(n,((n,o)=>{let a;!1!==(a=t(n,o,e))&&(r[o]=a||n)})),Object.defineProperties(e,r)},gi="abcdefghijklmnopqrstuvwxyz",mi="0123456789",yi={DIGIT:mi,ALPHA:gi,ALPHA_DIGIT:gi+gi.toUpperCase()+mi};const bi=Ma("AsyncFunction"),vi=(xi="function"==typeof setImmediate,wi=qa(si.postMessage),xi?setImmediate:wi?(Si=`axios@${Math.random()}`,ki=[],si.addEventListener("message",(({source:e,data:t})=>{e===si&&t===Si&&ki.length&&ki.shift()()}),!1),e=>{ki.push(e),si.postMessage(Si,"*")}):e=>setTimeout(e));var xi,wi,Si,ki;const Ei="undefined"!=typeof queueMicrotask?queueMicrotask.bind(si):"undefined"!=typeof process&&process.nextTick||vi,Ci={isArray:$a,isArrayBuffer:Ha,isBuffer:function(e){return null!==e&&!Wa(e)&&null!==e.constructor&&!Wa(e.constructor)&&qa(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||qa(e.append)&&("formdata"===(t=za(e))||"object"===t&&qa(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ha(e.buffer),t},isString:Va,isNumber:Ka,isBoolean:e=>!0===e||!1===e,isObject:Ja,isPlainObject:Xa,isReadableStream:ti,isRequest:ni,isResponse:ri,isHeaders:oi,isUndefined:Wa,isDate:Qa,isFile:Ga,isBlob:Ya,isRegExp:pi,isFunction:qa,isStream:e=>Ja(e)&&qa(e.pipe),isURLSearchParams:ei,isTypedArray:ci,isFileList:Za,forEach:ai,merge:function e(){const{caseless:t}=li(this)&&this||{},n={},r=(r,o)=>{const a=t&&ii(n,o)||o;Xa(n[a])&&Xa(r)?n[a]=e(n[a],r):Xa(r)?n[a]=e({},r):$a(r)?n[a]=r.slice():n[a]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&ai(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(ai(t,((t,r)=>{n&&qa(t)?e[r]=Ia(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,a,i;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],r&&!r(i,e,t)||s[i]||(t[i]=e[i],s[i]=!0);e=!1!==n&&La(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:za,kindOfTest:Ma,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if($a(e))return e;let t=e.length;if(!Ka(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:di,hasOwnProperty:fi,hasOwnProp:fi,reduceDescriptors:hi,freezeMethods:e=>{hi(e,((t,n)=>{if(qa(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];qa(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return $a(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ii,global:si,isContextDefined:li,ALPHABET:yi,generateString:(e=16,t=yi.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&qa(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Ja(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=$a(e)?[]:{};return ai(e,((e,t)=>{const a=n(e,r+1);!Wa(a)&&(o[t]=a)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:bi,isThenable:e=>e&&(Ja(e)||qa(e))&&qa(e.then)&&qa(e.catch),setImmediate:vi,asap:Ei};function _i(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}Ci.inherits(_i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ci.toJSONObject(this.config),code:this.code,status:this.status}}});const ji=_i.prototype,Ai={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Ai[e]={value:e}})),Object.defineProperties(_i,Ai),Object.defineProperty(ji,"isAxiosError",{value:!0}),_i.from=(e,t,n,r,o,a)=>{const i=Object.create(ji);return Ci.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),_i.call(i,e.message,t,n,r,o),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const Oi=_i;function Ti(e){return Ci.isPlainObject(e)||Ci.isArray(e)}function Ri(e){return Ci.endsWith(e,"[]")?e.slice(0,-2):e}function Pi(e,t,n){return e?e.concat(t).map((function(e,t){return e=Ri(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Fi=Ci.toFlatObject(Ci,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Ni=function(e,t,n){if(!Ci.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Ci.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ci.isUndefined(t[e])}))).metaTokens,o=n.visitor||c,a=n.dots,i=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Ci.isSpecCompliantForm(t);if(!Ci.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Ci.isDate(e))return e.toISOString();if(!s&&Ci.isBlob(e))throw new Oi("Blob is not supported. Use a Buffer instead.");return Ci.isArrayBuffer(e)||Ci.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let s=e;if(e&&!o&&"object"==typeof e)if(Ci.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Ci.isArray(e)&&function(e){return Ci.isArray(e)&&!e.some(Ti)}(e)||(Ci.isFileList(e)||Ci.endsWith(n,"[]"))&&(s=Ci.toArray(e)))return n=Ri(n),s.forEach((function(e,r){!Ci.isUndefined(e)&&null!==e&&t.append(!0===i?Pi([n],r,a):null===i?n:n+"[]",l(e))})),!1;return!!Ti(e)||(t.append(Pi(o,n,a),l(e)),!1)}const u=[],d=Object.assign(Fi,{defaultVisitor:c,convertValue:l,isVisitable:Ti});if(!Ci.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Ci.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Ci.forEach(n,(function(n,a){!0===(!(Ci.isUndefined(n)||null===n)&&o.call(t,n,Ci.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])})),u.pop()}}(e),t};function Ii(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Bi(e,t){this._pairs=[],e&&Ni(e,this,t)}const Li=Bi.prototype;Li.append=function(e,t){this._pairs.push([e,t])},Li.toString=function(e){const t=e?function(t){return e.call(this,t,Ii)}:Ii;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const zi=Bi;function Di(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Mi(e,t,n){if(!t)return e;const r=n&&n.encode||Di,o=n&&n.serialize;let a;if(a=o?o(t,n):Ci.isURLSearchParams(t)?t.toString():new zi(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Ui=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ci.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},$i={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wi={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:zi,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Hi="undefined"!=typeof window&&"undefined"!=typeof document,Vi="object"==typeof navigator&&navigator||void 0,qi=Hi&&(!Vi||["ReactNative","NativeScript","NS"].indexOf(Vi.product)<0),Ki="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Ji=Hi&&window.location.href||"http://localhost",Xi={...r,...Wi};const Qi=function(e){function t(e,n,r,o){let a=e[o++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),s=o>=e.length;if(a=!a&&Ci.isArray(r)?r.length:a,s)return Ci.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!i;r[a]&&Ci.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],o)&&Ci.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let a;for(r=0;r<o;r++)a=n[r],t[a]=e[a];return t}(r[a])),!i}if(Ci.isFormData(e)&&Ci.isFunction(e.entries)){const n={};return Ci.forEachEntry(e,((e,r)=>{t(function(e){return Ci.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Gi={transitional:$i,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=Ci.isObject(e);o&&Ci.isHTMLForm(e)&&(e=new FormData(e));if(Ci.isFormData(e))return r?JSON.stringify(Qi(e)):e;if(Ci.isArrayBuffer(e)||Ci.isBuffer(e)||Ci.isStream(e)||Ci.isFile(e)||Ci.isBlob(e)||Ci.isReadableStream(e))return e;if(Ci.isArrayBufferView(e))return e.buffer;if(Ci.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ni(e,new Xi.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Xi.isNode&&Ci.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Ci.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ni(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(Ci.isString(e))try{return(t||JSON.parse)(e),Ci.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Gi.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Ci.isResponse(e)||Ci.isReadableStream(e))return e;if(e&&Ci.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw Oi.from(e,Oi.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xi.classes.FormData,Blob:Xi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ci.forEach(["delete","get","head","post","put","patch"],(e=>{Gi.headers[e]={}}));const Yi=Gi,Zi=Ci.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),es=Symbol("internals");function ts(e){return e&&String(e).trim().toLowerCase()}function ns(e){return!1===e||null==e?e:Ci.isArray(e)?e.map(ns):String(e)}function rs(e,t,n,r,o){return Ci.isFunction(r)?r.call(this,t,n):(o&&(t=n),Ci.isString(t)?Ci.isString(r)?-1!==t.indexOf(r):Ci.isRegExp(r)?r.test(t):void 0:void 0)}class os{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=ts(t);if(!o)throw new Error("header name must be a non-empty string");const a=Ci.findKey(r,o);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=ns(e))}const a=(e,t)=>Ci.forEach(e,((e,n)=>o(e,n,t)));if(Ci.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Ci.isString(e)&&(e=e.trim())&&!(e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))(e))a((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&Zi[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(Ci.isHeaders(e))for(const[t,r]of e.entries())o(r,t,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=ts(e)){const n=Ci.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Ci.isFunction(t))return t.call(this,e,n);if(Ci.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ts(e)){const n=Ci.findKey(this,e);return!(!n||void 0===this[n]||t&&!rs(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=ts(e)){const o=Ci.findKey(n,e);!o||t&&!rs(0,n[o],o,t)||(delete n[o],r=!0)}}return Ci.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!rs(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return Ci.forEach(this,((r,o)=>{const a=Ci.findKey(n,o);if(a)return t[a]=ns(r),void delete t[o];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();i!==o&&delete t[o],t[i]=ns(r),n[i]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ci.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Ci.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[es]=this[es]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=ts(e);t[r]||(!function(e,t){const n=Ci.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return Ci.isArray(e)?e.forEach(r):r(e),this}}os.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ci.reduceDescriptors(os.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),Ci.freezeMethods(os);const as=os;function is(e,t){const n=this||Yi,r=t||n,o=as.from(r.headers);let a=r.data;return Ci.forEach(e,(function(e){a=e.call(n,a,o.normalize(),t?t.status:void 0)})),o.normalize(),a}function ss(e){return!(!e||!e.__CANCEL__)}function ls(e,t,n){Oi.call(this,null==e?"canceled":e,Oi.ERR_CANCELED,t,n),this.name="CanceledError"}Ci.inherits(ls,Oi,{__CANCEL__:!0});const cs=ls;function us(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Oi("Request failed with status code "+n.status,[Oi.ERR_BAD_REQUEST,Oi.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const ds=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,a=0,i=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[i];o||(o=l),n[a]=s,r[a]=l;let u=i,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-o<t)return;const f=c&&l-c;return f?Math.round(1e3*d/f):void 0}};const fs=function(e,t){let n,r,o=0,a=1e3/t;const i=(t,a=Date.now())=>{o=a,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),s=t-o;s>=a?i(e,t):(n=e,r||(r=setTimeout((()=>{r=null,i(n)}),a-s)))},()=>n&&i(n)]},ps=(e,t,n=3)=>{let r=0;const o=ds(50,250);return fs((n=>{const a=n.loaded,i=n.lengthComputable?n.total:void 0,s=a-r,l=o(s);r=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:s,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),n)},hs=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},gs=e=>(...t)=>Ci.asap((()=>e(...t))),ms=Xi.hasStandardBrowserEnv?function(){const e=Xi.navigator&&/(msie|trident)/i.test(Xi.navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=Ci.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},ys=Xi.hasStandardBrowserEnv?{write(e,t,n,r,o,a){const i=[e+"="+encodeURIComponent(t)];Ci.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),Ci.isString(r)&&i.push("path="+r),Ci.isString(o)&&i.push("domain="+o),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function bs(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const vs=e=>e instanceof as?{...e}:e;function xs(e,t){t=t||{};const n={};function r(e,t,n){return Ci.isPlainObject(e)&&Ci.isPlainObject(t)?Ci.merge.call({caseless:n},e,t):Ci.isPlainObject(t)?Ci.merge({},t):Ci.isArray(t)?t.slice():t}function o(e,t,n){return Ci.isUndefined(t)?Ci.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!Ci.isUndefined(t))return r(void 0,t)}function i(e,t){return Ci.isUndefined(t)?Ci.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,a){return a in t?r(n,o):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(e,t)=>o(vs(e),vs(t),!0)};return Ci.forEach(Object.keys(Object.assign({},e,t)),(function(r){const a=l[r]||o,i=a(e[r],t[r],r);Ci.isUndefined(i)&&a!==s||(n[r]=i)})),n}const ws=e=>{const t=xs({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:l}=t;if(t.headers=s=as.from(s),t.url=Mi(bs(t.baseURL,t.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Ci.isFormData(r))if(Xi.hasStandardBrowserEnv||Xi.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(Xi.hasStandardBrowserEnv&&(o&&Ci.isFunction(o)&&(o=o(t)),o||!1!==o&&ms(t.url))){const e=a&&i&&ys.read(i);e&&s.set(a,e)}return t},Ss="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=ws(e);let o=r.data;const a=as.from(r.headers).normalize();let i,s,l,c,u,{responseType:d,onUploadProgress:f,onDownloadProgress:p}=r;function h(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let g=new XMLHttpRequest;function m(){if(!g)return;const r=as.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());us((function(e){t(e),h()}),(function(e){n(e),h()}),{data:d&&"text"!==d&&"json"!==d?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g}),g=null}g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(n(new Oi("Request aborted",Oi.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new Oi("Network Error",Oi.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||$i;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Oi(t,o.clarifyTimeoutError?Oi.ETIMEDOUT:Oi.ECONNABORTED,e,g)),g=null},void 0===o&&a.setContentType(null),"setRequestHeader"in g&&Ci.forEach(a.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),Ci.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),d&&"json"!==d&&(g.responseType=r.responseType),p&&([l,u]=ps(p,!0),g.addEventListener("progress",l)),f&&g.upload&&([s,c]=ps(f),g.upload.addEventListener("progress",s),g.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{g&&(n(!t||t.type?new cs(null,e,g):t),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===Xi.protocols.indexOf(y)?n(new Oi("Unsupported protocol "+y+":",Oi.ERR_BAD_REQUEST,e)):g.send(o||null)}))},ks=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Oi?t:new cs(t instanceof Error?t.message:t))}};let a=t&&setTimeout((()=>{a=null,o(new Oi(`timeout ${t} of ms exceeded`,Oi.ETIMEDOUT))}),t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:s}=r;return s.unsubscribe=()=>Ci.asap(i),s}},Es=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},Cs=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},_s=(e,t,n,r)=>{const o=async function*(e,t){for await(const n of Cs(e))yield*Es(n,t)}(e,t);let a,i=0,s=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let a=r.byteLength;if(n){let e=i+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw s(e),e}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},js="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,As=js&&"function"==typeof ReadableStream,Os=js&&("function"==typeof TextEncoder?(Ts=new TextEncoder,e=>Ts.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Ts;const Rs=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Ps=As&&Rs((()=>{let e=!1;const t=new Request(Xi.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Fs=As&&Rs((()=>Ci.isReadableStream(new Response("").body))),Ns={stream:Fs&&(e=>e.body)};var Is;js&&(Is=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Ns[e]&&(Ns[e]=Ci.isFunction(Is[e])?t=>t[e]():(t,n)=>{throw new Oi(`Response type '${e}' is not supported`,Oi.ERR_NOT_SUPPORT,n)})})));const Bs=async(e,t)=>{const n=Ci.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Ci.isBlob(e))return e.size;if(Ci.isSpecCompliantForm(e)){const t=new Request(Xi.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Ci.isArrayBufferView(e)||Ci.isArrayBuffer(e)?e.byteLength:(Ci.isURLSearchParams(e)&&(e+=""),Ci.isString(e)?(await Os(e)).byteLength:void 0)})(t):n},Ls={http:null,xhr:Ss,fetch:js&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:a,timeout:i,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=ws(e);c=c?(c+"").toLowerCase():"text";let p,h=ks([o,a&&a.toAbortSignal()],i);const g=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let m;try{if(l&&Ps&&"get"!==n&&"head"!==n&&0!==(m=await Bs(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Ci.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=hs(m,ps(gs(l)));r=_s(n.body,65536,e,t)}}Ci.isString(d)||(d=d?"include":"omit");const o="credentials"in Request.prototype;p=new Request(t,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:o?d:void 0});let a=await fetch(p);const i=Fs&&("stream"===c||"response"===c);if(Fs&&(s||i&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=Ci.toFiniteNumber(a.headers.get("content-length")),[n,r]=s&&hs(t,ps(gs(s),!0))||[];a=new Response(_s(a.body,65536,n,(()=>{r&&r(),g&&g()})),e)}c=c||"text";let y=await Ns[Ci.findKey(Ns,c)||"text"](a,e);return!i&&g&&g(),await new Promise(((t,n)=>{us(t,n,{data:y,headers:as.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:p})}))}catch(t){if(g&&g(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new Oi("Network Error",Oi.ERR_NETWORK,e,p),{cause:t.cause||t});throw Oi.from(t,t&&t.code,e,p)}})};Ci.forEach(Ls,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const zs=e=>`- ${e}`,Ds=e=>Ci.isFunction(e)||null===e||!1===e,Ms=e=>{e=Ci.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!Ds(n)&&(r=Ls[(t=String(n)).toLowerCase()],void 0===r))throw new Oi(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+a]=r}if(!r){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(zs).join("\n"):" "+zs(e[0]):"as no adapter specified";throw new Oi("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Us(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cs(null,e)}function $s(e){Us(e),e.headers=as.from(e.headers),e.data=is.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ms(e.adapter||Yi.adapter)(e).then((function(t){return Us(e),t.data=is.call(e,e.transformResponse,t),t.headers=as.from(t.headers),t}),(function(t){return ss(t)||(Us(e),t&&t.response&&(t.response.data=is.call(e,e.transformResponse,t.response),t.response.headers=as.from(t.response.headers))),Promise.reject(t)}))}const Ws="1.7.7",Hs={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Hs[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Vs={};Hs.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.7] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,a)=>{if(!1===e)throw new Oi(r(o," has been removed"+(t?" in "+t:"")),Oi.ERR_DEPRECATED);return t&&!Vs[o]&&(Vs[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,a)}};const qs={assertOptions:function(e,t,n){if("object"!=typeof e)throw new Oi("options must be an object",Oi.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const a=r[o],i=t[a];if(i){const t=e[a],n=void 0===t||i(t,a,e);if(!0!==n)throw new Oi("option "+a+" must be "+n,Oi.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Oi("Unknown option "+a,Oi.ERR_BAD_OPTION)}},validators:Hs},Ks=qs.validators;class Js{constructor(e){this.defaults=e,this.interceptors={request:new Ui,response:new Ui}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=xs(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&qs.assertOptions(n,{silentJSONParsing:Ks.transitional(Ks.boolean),forcedJSONParsing:Ks.transitional(Ks.boolean),clarifyTimeoutError:Ks.transitional(Ks.boolean)},!1),null!=r&&(Ci.isFunction(r)?t.paramsSerializer={serialize:r}:qs.assertOptions(r,{encode:Ks.function,serialize:Ks.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&Ci.merge(o.common,o[t.method]);o&&Ci.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=as.concat(a,o);const i=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[$s.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=i.length;let f=t;for(d=0;d<u;){const e=i[d++],t=i[d++];try{f=e(f)}catch(e){t.call(this,e);break}}try{c=$s.call(this,f)}catch(e){return Promise.reject(e)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Mi(bs((e=xs(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Ci.forEach(["delete","get","head","options"],(function(e){Js.prototype[e]=function(t,n){return this.request(xs(n||{},{method:e,url:t,data:(n||{}).data}))}})),Ci.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(xs(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Js.prototype[e]=t(),Js.prototype[e+"Form"]=t(!0)}));const Xs=Js;class Qs{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new cs(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Qs((function(t){e=t})),cancel:e}}}const Gs=Qs;const Ys={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ys).forEach((([e,t])=>{Ys[t]=e}));const Zs=Ys;const el=function e(t){const n=new Xs(t),r=Ia(Xs.prototype.request,n);return Ci.extend(r,Xs.prototype,n,{allOwnKeys:!0}),Ci.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(xs(t,n))},r}(Yi);el.Axios=Xs,el.CanceledError=cs,el.CancelToken=Gs,el.isCancel=ss,el.VERSION=Ws,el.toFormData=Ni,el.AxiosError=Oi,el.Cancel=el.CanceledError,el.all=function(e){return Promise.all(e)},el.spread=function(e){return function(t){return e.apply(null,t)}},el.isAxiosError=function(e){return Ci.isObject(e)&&!0===e.isAxiosError},el.mergeConfig=xs,el.AxiosHeaders=as,el.formToJSON=e=>Qi(Ci.isHTMLForm(e)?new FormData(e):e),el.getAdapter=Ms,el.HttpStatusCode=Zs,el.default=el;const tl=el;function nl(e){return new Promise((function(t){return setTimeout(t,e)}))}var rl=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},ol=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},al=["https://api-inference.huggingface.co/models/runwayml/stable-diffusion-v1-5","https://api-inference.huggingface.co/models/CompVis/stable-diffusion-v1-4","https://api-inference.huggingface.co/models/CompVis/stable-diffusion-v1-1","https://api-inference.huggingface.co/models/CompVis/stable-diffusion-v1-2","https://api-inference.huggingface.co/models/CompVis/stable-diffusion-v1-3","https://api-inference.huggingface.co/models/CompVis/stable-diffusion-v-1-1-original","https://api-inference.huggingface.co/models/CompVis/stable-diffusion-v-1-2-original","https://api-inference.huggingface.co/models/CompVis/stable-diffusion-v-1-3-original","https://api-inference.huggingface.co/models/CompVis/stable-diffusion-v-1-4-original"];function il(e,t){return rl(this,void 0,void 0,(function(){var n,r,o,a,i,s,l;return ol(this,(function(c){switch(c.label){case 0:n=al[Symbol.iterator](),c.label=1;case 1:if(r=n.next(),o=r.value,r.done)return n=al[Symbol.iterator](),[3,1];console.log("Trying using this:",o),a={Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},i={inputs:t,options:{num_images:1,image_size:512,samples_per_image:50,timesteps_each:5,init_scale:.001,refine_scale:1e-4}},c.label=2;case 2:return c.trys.push([2,8,,9]),[4,tl.post(o,i,{headers:a,responseType:"arraybuffer"})];case 3:return 503!==(s=c.sent()).status?[3,5]:(console.log("Model is currently loading at ".concat(o,". Switching API version...")),[4,nl(15e3)]);case 4:return c.sent(),[3,1];case 5:return 200===s.status?[3,7]:[4,nl(15e3)];case 6:throw c.sent(),new Error("Request failed with status code ".concat(s.status,": ").concat(s.statusText));case 7:return[2,s.data];case 8:return l=c.sent(),console.error("Error:",l),[3,10];case 9:return[3,1];case 10:throw new Error("Failed to generate image after multiple attempts.")}}))}))}var sl=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},ll=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};function cl(e,t,n,r,o){return void 0===o&&(o=""),sl(this,void 0,void 0,(function(){var a,i,s,l,c;return ll(this,(function(u){switch(u.label){case 0:if(i=null,s=null,!e)return[3,8];u.label=1;case 1:return u.trys.push([1,3,,7]),[4,il(e,r)];case 2:return a=u.sent(),l=function(e){for(var t=new Uint8Array(e),n="",r=0;r<t.byteLength;r++)n+=String.fromCharCode(t[r]);var o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="";for(r=0;r<n.length;r+=3)o=n.charCodeAt(r)<<16|n.charCodeAt(r+1)<<8|n.charCodeAt(r+2),i+=a.charAt(o>>18&63),i+=a.charAt(o>>12&63),i+=a.charAt(o>>6&63),i+=a.charAt(63&o);var s=n.length%3;return 1===s?i=i.slice(0,-2)+"==":2===s&&(i=i.slice(0,-1)+"="),i}(a),s=i="data:image/jpeg;base64,"+l,[3,7];case 3:return c=u.sent(),console.error("Error with Hugging Face:",c),[4,xe(t,n,r,o)];case 4:return(i=u.sent())?[4,I(i)]:[3,6];case 5:s=u.sent(),u.label=6;case 6:return[3,7];case 7:return[3,11];case 8:return[4,xe(t,n,r,o)];case 9:return(i=u.sent())?[4,I(i)]:[3,11];case 10:s=u.sent(),u.label=11;case 11:return[2,{imageUrl:i,imageBase64:s}]}}))}))}var ul=function(){return ul=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ul.apply(this,arguments)};const dl=function(e){var t=e.message,n=e.type,r=void 0===n?"error":n,a=e.onClose,s=e.autoClose,l=void 0===s||s,c=e.duration,u=void 0===c?5e3:c,d=e.className,f=void 0===d?"":d,p=e.style,h=void 0===p?{}:p,g=(0,o.useState)(!1),m=g[0],y=g[1],b=(0,o.useState)(!1),v=b[0],x=b[1];(0,o.useEffect)((function(){var e=setTimeout((function(){y(!0)}),10);return function(){return clearTimeout(e)}}),[]),(0,o.useEffect)((function(){if(l){var e=setTimeout((function(){w()}),u);return function(){return clearTimeout(e)}}}),[l,u]);var w=function(){x(!0),setTimeout((function(){y(!1),a()}),300)},S=function(){switch(r){case"success":return{icon:(0,i.jsx)(Ve,{size:18}),bgColor:"#ECFDF5",borderColor:"#A7F3D0",textColor:"#064E3B",iconColor:"#059669"};case"error":return{icon:(0,i.jsx)(ct,{size:18}),bgColor:"#FEF2F2",borderColor:"#FECDD3",textColor:"#7F1D1D",iconColor:"#EF4444"};case"warning":return{icon:(0,i.jsx)(Ze,{size:18}),bgColor:"#FFFBEB",borderColor:"#FEF3C7",textColor:"#78350F",iconColor:"#F59E0B"};default:return{icon:(0,i.jsx)(tt,{size:18}),bgColor:"#EFF6FF",borderColor:"#BFDBFE",textColor:"#1E3A8A",iconColor:"#3B82F6"}}}(),k=ul({backgroundColor:S.bgColor,color:S.textColor,borderLeft:"4px solid ".concat(S.iconColor),borderRadius:"6px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.04)",padding:"12px 16px",display:"flex",alignItems:"flex-start",position:"relative",opacity:v?0:m?1:0,transform:v?"translateX(20px)":m?"translateX(0)":"translateX(20px)",transition:"all 0.3s ease",maxHeight:"100px",overflow:"hidden",marginBottom:"8px"},h);return(0,i.jsxs)("div",ul({className:"notification ".concat(f),style:k,role:"alert"},{children:[(0,i.jsx)("div",ul({style:{color:S.iconColor,marginRight:"12px",marginTop:"2px",flexShrink:0}},{children:S.icon})),(0,i.jsx)("div",ul({style:{flex:1,fontSize:"14px",lineHeight:"1.5",fontWeight:500,paddingRight:"20px"}},{children:t})),(0,i.jsx)("button",ul({onClick:w,style:{background:"transparent",border:"none",padding:"2px",marginLeft:"8px",cursor:"pointer",color:S.textColor,opacity:.7,fontSize:"18px",position:"absolute",top:"8px",right:"8px",display:"flex",alignItems:"center",justifyContent:"center"},onMouseOver:function(e){return e.currentTarget.style.opacity="1"},onMouseOut:function(e){return e.currentTarget.style.opacity="0.7"},"aria-label":"Close notification"},{children:(0,i.jsx)(ut,{size:14})}))]}))};const fl=function(){var e=(0,o.useState)(null),t=e[0],n=e[1];return{showError:function(e,t){void 0===t&&(t="error"),n(e?{message:e,type:t}:null)},showSuccess:function(e){n({message:e,type:"success"})},showWarning:function(e){n({message:e,type:"warning"})},showInfo:function(e){n({message:e,type:"info"})},renderErrorNotification:function(){return t?(0,i.jsx)(dl,{message:t.message,type:t.type,onClose:function(){return n(null)}}):null}}};var pl=function(){return pl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},pl.apply(this,arguments)},hl="anki_stored_cards",gl=function(){try{var e=localStorage.getItem(hl);if(console.log("Loading cards from localStorage. Data exists:",!!e),e)try{var t=JSON.parse(e);if(console.log("Successfully parsed cards from localStorage, count:",t.length),!Array.isArray(t))return console.error("Stored cards is not an array!",t),[];var n=t.filter((function(e){var t=!!e.id,n=!!e.text,r=!!e.createdAt;return!!(t&&n&&r)||(console.warn("Found invalid card, removing from results:",e),!1)}));return console.log("Card validation: ".concat(n.length," valid out of ").concat(t.length," total")),n.map((function(e){return pl(pl({},e),{createdAt:new Date(e.createdAt)})}))}catch(e){return console.error("JSON parse error:",e),localStorage.removeItem(hl),[]}}catch(e){console.error("Error loading cards from localStorage:",e);try{localStorage.removeItem(hl)}catch(e){console.error("Could not clean up localStorage:",e)}}return[]};const ml=function(e){return function(t){return function(n){var r=t(n);switch(n.type){case J:try{var o=gl();e.dispatch({type:"SET_STORED_CARDS",payload:o})}catch(t){console.error("Error in LOAD_STORED_CARDS middleware:",t),e.dispatch({type:"SET_STORED_CARDS",payload:[]})}break;case K:case X:case Y:try{!function(e){try{console.log("Saving cards to localStorage:",e),console.log("Total cards count:",e.length);var t=JSON.stringify(e,(function(e,t){return t instanceof Date?t.toISOString():t})),n=new Blob([t]).size;console.log("Storage size in bytes:",n,"Approximate max size: ~5MB"),n>4194304&&console.warn("Warning: localStorage size is getting large (>4MB). This might cause issues in some browsers."),localStorage.setItem(hl,t),console.log("Cards saved successfully to localStorage")}catch(t){if(console.error("Error saving cards to localStorage:",t),t instanceof DOMException&&("QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&(console.error("localStorage quota exceeded. Cannot save more cards. Try removing some cards."),e.length>0)){var r=e.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()})).slice(0,Math.max(4,Math.ceil(e.length/2)));console.warn("Emergency cleanup: reduced cards from ".concat(e.length," to ").concat(r.length));try{var o=JSON.stringify(r,(function(e,t){return t instanceof Date?t.toISOString():t}));localStorage.setItem(hl,o),console.log("Saved reduced card set successfully")}catch(e){console.error("Failed to save even reduced card set:",e)}}}}(e.getState().cards.storedCards)}catch(e){console.error("Error in card storage middleware:",e)}break;case Z:n.payload?localStorage.setItem("current_card_id",n.payload):localStorage.removeItem("current_card_id");break;case M:0===e.getState().cards.storedCards.length&&e.dispatch({type:J})}return r}}};var yl=function(){return yl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yl.apply(this,arguments)},bl=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},vl=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};const xl=function(){var e=(0,o.useState)(!1),t=e[0],n=e[1],r=(y((function(e){return e.deck.deckId})),_()),a=y((function(e){return e.cards})),s=a.text,l=a.translation,c=a.examples,u=a.image,d=a.imageUrl,f=a.front,p=a.back,h=a.currentCardId,g=y((function(e){return e.settings.translateToLanguage})),m=y((function(e){return e.settings.aiInstructions})),b=y((function(e){return e.settings.imageInstructions})),v=(y((function(e){return e.deck.decks})),y((function(e){return e.settings.mode}))),x=(0,o.useState)(""),w=x[0],S=x[1],k=(y((function(e){return e.settings.useAnkiConnect})),y((function(e){return e.settings.ankiConnectUrl})),y((function(e){return e.settings.ankiConnectApiKey})),(0,o.useState)(!1)),E=k[0],C=k[1],j=(0,o.useState)(!1),A=j[0],R=j[1],P=(0,o.useState)(!1),F=P[0],N=P[1],I=(0,o.useState)(!1),B=I[0],L=I[1],z=(0,o.useState)(!1),D=z[0],M=z[1],U=(0,o.useState)(!0),$=U[0],W=U[1],H=(0,o.useState)(!1),V=H[0],q=H[1],K=y((function(e){return e.settings.openAiKey})),J=y((function(e){return e.settings.huggingFaceApiKey})),X=y((function(e){return e.settings.shouldGenerateImage})),Q=(0,o.useState)(!1),G=Q[0],Y=Q[1],Z=(0,o.useState)(!1),ee=Z[0],ue=Z[1],pe=(0,o.useState)(m),he=pe[0],ye=pe[1],ve=(0,o.useState)(b),xe=ve[0],we=ve[1],Ee=fl(),je=Ee.showError,Ae=Ee.renderErrorNotification,Oe=new Na({apiKey:K,dangerouslyAllowBrowser:!0}),Te=(0,o.useState)(""),Re=Te[0],Fe=Te[1],Ne=(0,o.useState)(!1),Le=Ne[0],ze=Ne[1],De=y((function(e){return e.cards.storedCards})),Me=(0,o.useMemo)((function(){if(h&&V)return!0;if(s&&""!==s.trim()&&De.some((function(e){return e.text===s})))return V||q(!0),!0;return!1}),[h,V,s,De]);console.log("Card state:",{isNewSubmission:$,explicitlySaved:V,isSaved:Me,currentCardId:h,text:s.substring(0,20)+(s.length>20?"...":"")});(0,o.useEffect)((function(){Me&&M(!0)}),[s,l,c,u,d,f,p,Me]);var Ue=(0,o.useCallback)((function(e){if(e&&""!==e.trim()){var t=gl().find((function(t){return t.text===e}));return!!t&&(console.log("Found existing card with matching text in storage:",t.id),r(fe(t.id)),q(!0),!0)}}),[r]),$e=function(){return bl(void 0,void 0,void 0,(function(){var e,t,n,o,a,i,l,c,u;return vl(this,(function(d){switch(d.label){case 0:if(!Re.trim()||Le)return[2];ze(!0),d.label=1;case 1:return d.trys.push([1,15,16,17]),Re.toLowerCase().includes("image")||Re.toLowerCase().includes("picture")||Re.toLowerCase().includes("изображени")||Re.toLowerCase().includes("картин")?[4,be(K,s,Re)]:[3,4];case 2:return a=d.sent(),[4,cl(J,Oe,K,a,Re)];case 3:return e=d.sent(),t=e.imageUrl,c=e.imageBase64,t&&r(se(t)),c&&r(ie(c)),je("Image updated with your instructions!","success"),[3,14];case 4:return Re.toLowerCase().includes("example")||Re.toLowerCase().includes("sentence")||Re.toLowerCase().includes("пример")||Re.toLowerCase().includes("предложени")?[4,me(K,s,g,!0,Re)]:[3,6];case 5:return o=d.sent(),r(oe(o)),je("Examples updated with your instructions!","success"),[3,14];case 6:return Re.toLowerCase().includes("translat")||Re.toLowerCase().includes("перевод")?[4,ge(K,s,g,Re)]:[3,8];case 7:return n=d.sent(),r(ae(n)),je("Translation updated with your instructions!","success"),[3,14];case 8:return[4,ge(K,s,g,Re)];case 9:return n=d.sent(),[4,me(K,s,g,!0,Re)];case 10:return o=d.sent(),X?[4,be(K,s,Re)]:[3,13];case 11:return a=d.sent(),[4,cl(J,Oe,K,a,Re)];case 12:i=d.sent(),l=i.imageUrl,c=i.imageBase64,l&&r(se(l)),c&&r(ie(c)),d.label=13;case 13:r(ae(n)),r(oe(o)),je("Content updated with your instructions!","success"),d.label=14;case 14:return Fe(""),[3,17];case 15:return u=d.sent(),je("Error applying your instructions. Please try again."),console.error("Error applying custom instructions:",u),[3,17];case 16:return ze(!1),[7];case 17:return[2]}}))}))};(0,o.useEffect)((function(){var e=function(){var e,t=null===(e=window.getSelection())||void 0===e?void 0:e.toString().trim();t&&r(re(t))};return document.addEventListener("mouseup",e),function(){document.removeEventListener("mouseup",e)}}),[r]),(0,o.useEffect)((function(){var e;r((e=O.LanguageLearning,{type:Ce,payload:e})),s&&l&&c.length>0?n(!0):n(!1),r(ne())}),[r]),(0,o.useEffect)((function(){bl(void 0,void 0,void 0,(function(){return vl(this,(function(e){return console.log("Running saved cards check on mount"),r(ne()),setTimeout((function(){var e=gl();console.log("Loaded cards from storage:",e.length);var t=localStorage.getItem("current_card_id");if(t){console.log("Found current card ID in localStorage:",t);var o=e.find((function(e){return e.id===t}));o?(console.log("Restoring card from storage:",o),M(!1),W(!1),q(!0),r(fe(t)),r(re(o.text)),o.translation&&r(ae(o.translation)),o.examples&&r(oe(o.examples)),o.image&&r(ie(o.image)),o.imageUrl&&r(se(o.imageUrl)),o.front&&r(ce(o.front)),o.back&&r(le(o.back)),S(o.text),n(!0)):(console.log("Card ID from localStorage not found in storage, resetting"),localStorage.removeItem("current_card_id"),r(fe(null)),W(!0),q(!1))}else console.log("No current card ID in localStorage"),W(!0),q(!1)}),200),[2]}))}))}),[]),(0,o.useEffect)((function(){s&&!$&&""!==s.trim()&&(!t||h?Ue(s):console.log("New card being created, skipping automatic saved detection"))}),[s,h,$,t,Ue]);var We=function(){r({type:Ie,payload:he}),Y(!1),je("AI settings saved successfully!","success")},He=function(){r({type:Be,payload:xe}),ue(!1),je("Image instructions saved successfully!","success")};return(0,i.jsxs)("div",yl({style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",gap:"12px",width:"100%",padding:"12px",paddingTop:"16px",height:"100%",overflowY:"auto",backgroundColor:"#ffffff",paddingBottom:"16px"}},{children:[(0,i.jsxs)("div",yl({style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",width:"100%",maxWidth:"320px"}},{children:[v===O.LanguageLearning&&(0,i.jsxs)("div",yl({style:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%",gap:"8px"}},{children:[(0,i.jsx)("div",yl({style:{position:"relative",width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"}},{children:(0,i.jsx)("label",yl({htmlFor:"language",style:{color:"#111827",fontWeight:"600",fontSize:"14px",margin:0}},{children:"Translate to:"}))})),(0,i.jsx)("select",yl({id:"language",value:g,onChange:function(e){return r(function(e){return{type:_e,payload:e}}(e.target.value))},style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #E5E7EB",backgroundColor:"#ffffff",color:"#374151",fontSize:"14px",outline:"none",transition:"all 0.2s ease",cursor:"pointer"},onFocus:function(e){return e.target.style.borderColor="#2563EB"},onBlur:function(e){return e.target.style.borderColor="#E5E7EB"}},{children:[{code:"ru",name:"Русский"},{code:"en",name:"English"},{code:"es",name:"Español"},{code:"fr",name:"Français"},{code:"de",name:"Deutsch"},{code:"it",name:"Italiano"},{code:"pt",name:"Português"},{code:"ja",name:"日本語"},{code:"ko",name:"한국어"},{code:"zh",name:"中文"},{code:"ar",name:"العربية"}].map((function(e){var t=e.code,n=e.name;return(0,i.jsx)("option",yl({value:t},{children:n}),t)}))})),(0,i.jsxs)("div",yl({style:{display:"flex",alignItems:"center",gap:"12px",width:"100%"}},{children:[(0,i.jsx)("label",yl({htmlFor:"generateImage",style:{color:"#111827",fontWeight:"600",fontSize:"14px",margin:0}},{children:"Image:"})),(0,i.jsxs)("div",yl({style:{position:"relative",display:"inline-block",width:"40px",height:"22px"}},{children:[(0,i.jsx)("input",{type:"checkbox",id:"generateImage",checked:X,onChange:function(e){return bl(void 0,void 0,void 0,(function(){var t,n,o,a,i;return vl(this,(function(l){switch(l.label){case 0:return t=e.target.checked,r(function(e){return{type:Pe,payload:e}}(t)),t?[4,be(K,s,b)]:[3,3];case 1:return n=l.sent(),[4,cl(J,Oe,K,n,b)];case 2:return o=l.sent(),a=o.imageUrl,i=o.imageBase64,a&&r(se(a)),i&&r(ie(i)),[3,4];case 3:r(se(null)),l.label=4;case 4:return[2]}}))}))},style:{opacity:0,width:0,height:0}}),(0,i.jsx)("label",yl({htmlFor:"generateImage",style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:X?"#2563EB":"#E5E7EB",transition:".3s",borderRadius:"22px"}},{children:(0,i.jsx)("span",{style:{position:"absolute",content:'""',height:"18px",width:"18px",left:"2px",bottom:"2px",backgroundColor:"white",transition:".3s",borderRadius:"50%",transform:X?"translateX(18px)":"translateX(0)"}})}))]}))]})),X&&(X?ee?(0,i.jsxs)("div",yl({style:{backgroundColor:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"8px",padding:"16px",width:"100%",marginBottom:"12px",marginTop:"8px"}},{children:[(0,i.jsxs)("div",yl({style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"}},{children:[(0,i.jsxs)("h3",yl({style:{margin:0,fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px"}},{children:[(0,i.jsx)(et,{size:14,color:"#10B981"}),"Image Instructions"]})),(0,i.jsx)("button",yl({onClick:function(){return ue(!1)},style:{background:"transparent",border:"none",cursor:"pointer",color:"#6B7280",fontSize:"13px"}},{children:"Cancel"}))]})),(0,i.jsxs)("div",yl({style:{marginBottom:"16px"}},{children:[(0,i.jsx)("label",yl({style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:500,color:"#374151"}},{children:"Image generation style"})),(0,i.jsx)("textarea",{value:xe,onChange:function(e){return we(e.target.value)},placeholder:"E.g., use anime style, make it minimalist, use pastel colors, make it black and white",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #E5E7EB",fontSize:"14px",minHeight:"100px",resize:"vertical"}}),(0,i.jsxs)("div",yl({style:{fontSize:"12px",color:"#6B7280",marginTop:"8px",lineHeight:"1.4"}},{children:[(0,i.jsx)("p",yl({style:{margin:"0 0 6px 0",fontWeight:"500"}},{children:"How to use:"})),(0,i.jsxs)("ul",yl({style:{margin:0,paddingLeft:"16px"}},{children:[(0,i.jsxs)("li",{children:["These are ",(0,i.jsx)("strong",{children:"style instructions"})," for image generation"]}),(0,i.jsx)("li",{children:"The image will still be related to the word you're learning"}),(0,i.jsx)("li",{children:"Focus on artistic style, mood, colors, composition, etc."}),(0,i.jsx)("li",{children:'Examples: "watercolor style", "dark background", "realistic rendering"'})]}))]}))]})),(0,i.jsxs)("button",yl({onClick:He,style:{backgroundColor:"#10B981",color:"white",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"14px",fontWeight:500,cursor:"pointer",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}},{children:[(0,i.jsx)(et,{size:14}),"Save Image Instructions"]}))]})):(0,i.jsxs)("button",yl({onClick:function(){return ue(!0)},style:{display:"flex",alignItems:"center",gap:"6px",backgroundColor:"#F3F4F6",border:"1px solid #E5E7EB",borderRadius:"6px",padding:"6px 12px",fontSize:"13px",color:"#4B5563",cursor:"pointer",width:"100%",justifyContent:"center",marginTop:"8px"}},{children:[(0,i.jsx)(et,{size:14}),"Customize image generation"]})):null)]})),G?(0,i.jsxs)("div",yl({style:{backgroundColor:"#F9FAFB",border:"1px solid #E5E7EB",borderRadius:"8px",padding:"16px",width:"100%",marginBottom:"12px"}},{children:[(0,i.jsxs)("div",yl({style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"}},{children:[(0,i.jsxs)("h3",yl({style:{margin:0,fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px"}},{children:[(0,i.jsx)(nt,{size:14,color:"#2563EB"}),"AI Instructions"]})),(0,i.jsx)("button",yl({onClick:function(){return Y(!1)},style:{background:"transparent",border:"none",cursor:"pointer",color:"#6B7280",fontSize:"13px"}},{children:"Cancel"}))]})),(0,i.jsxs)("div",yl({style:{marginBottom:"16px"}},{children:[(0,i.jsx)("label",yl({style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:500,color:"#374151"}},{children:"Additional instructions for AI"})),(0,i.jsx)("textarea",{value:he,onChange:function(e){return ye(e.target.value)},placeholder:"E.g., Keep specialized terms untranslated. Make examples more advanced. Use formal language.",style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #E5E7EB",fontSize:"14px",minHeight:"100px",resize:"vertical"}}),(0,i.jsxs)("div",yl({style:{fontSize:"12px",color:"#6B7280",marginTop:"8px",lineHeight:"1.4"}},{children:[(0,i.jsx)("p",yl({style:{margin:"0 0 6px 0",fontWeight:"500"}},{children:"How to use:"})),(0,i.jsxs)("ul",yl({style:{margin:0,paddingLeft:"16px"}},{children:[(0,i.jsxs)("li",{children:["These are ",(0,i.jsx)("strong",{children:"additional"})," instructions that supplement the basic AI behavior"]}),(0,i.jsx)("li",{children:"The original word will always be used (no need to specify it)"}),(0,i.jsx)("li",{children:"Examples will always be generated for the word you're learning"}),(0,i.jsx)("li",{children:"Use this for style guidance, preferences, or special requirements"})]}))]}))]})),(0,i.jsxs)("button",yl({onClick:We,style:{backgroundColor:"#2563EB",color:"white",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"14px",fontWeight:500,cursor:"pointer",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"}},{children:[(0,i.jsx)(Xe,{size:14}),"Save Instructions"]}))]})):(0,i.jsxs)("button",yl({onClick:function(){return Y(!0)},style:{display:"flex",alignItems:"center",gap:"6px",backgroundColor:"#F3F4F6",border:"1px solid #E5E7EB",borderRadius:"6px",padding:"6px 12px",fontSize:"13px",color:"#4B5563",cursor:"pointer",width:"100%",justifyContent:"center"}},{children:[(0,i.jsx)(Qe,{size:14}),"Customize AI behavior"]})),(0,i.jsxs)("form",yl({onSubmit:function(e){return bl(void 0,void 0,void 0,(function(){var t,o,a,i,l,c,u,d,f;return vl(this,(function(p){switch(p.label){case 0:if(e.preventDefault(),n(!1),C(!0),r(fe(null)),W(!0),S(s),v!==O.LanguageLearning)return[3,9];r(ce(s)),p.label=1;case 1:return p.trys.push([1,7,,8]),[4,ge(K,s,g,m)];case 2:return(t=p.sent())?r(ae(t)):(console.warn("Translation failed, using text as fallback"),r(ae(s))),[4,me(K,s,g,!0,m)];case 3:return o=p.sent(),X?[4,be(K,s,b)]:[3,6];case 4:return a=p.sent(),[4,cl(J,Oe,K,a,b)];case 5:i=p.sent(),l=i.imageUrl,c=i.imageBase64,l&&r(se(l)),c&&r(ie(c)),p.label=6;case 6:return r(re(s)),r(oe(o)),C(!1),n(!0),W(!0),[3,8];case 7:return u=p.sent(),console.error("Error during translation:",u),je("Error generating card content. Please try again."),C(!1),[3,8];case 8:return[3,12];case 9:return v!==O.GeneralTopic?[3,12]:(r(re(s)),[4,Se(K,s)]);case 10:return d=p.sent(),[4,ke(K,s)];case 11:f=p.sent(),d&&f&&(r(ce(d)),r(le(f))),C(!1),n(!0),W(!0),p.label=12;case 12:return[2]}}))}))},style:{width:"100%",display:"flex",flexDirection:"column",gap:"8px",marginTop:"4px",marginBottom:"0"}},{children:[(0,i.jsxs)("div",yl({style:{display:"flex",flexDirection:"column",gap:"4px",width:"100%"}},{children:[(0,i.jsx)("label",yl({htmlFor:"text",style:{color:"#111827",fontWeight:"600",fontSize:"14px"}},{children:"Text:"})),(0,i.jsx)("textarea",{id:"text",value:s,onChange:function(e){return t=e.target.value,r(re(t)),void(Me?M(!0):Ue(t));var t},placeholder:"Enter text to translate or select text from a webpage",style:{width:"100%",minHeight:"80px",padding:"8px 12px",borderRadius:"6px",border:"1px solid #E5E7EB",backgroundColor:"#ffffff",color:"#374151",fontSize:"14px",resize:"vertical",outline:"none",transition:"all 0.2s ease"},onFocus:function(e){return e.target.style.borderColor="#2563EB"},onBlur:function(e){return e.target.style.borderColor="#E5E7EB"}})]})),(0,i.jsx)("button",yl({type:"submit",disabled:E,style:{width:"100%",padding:"8px 10px",marginTop:"4px",borderRadius:"6px",backgroundColor:"#2563EB",color:"#ffffff",fontWeight:"600",fontSize:"14px",border:"none",cursor:"pointer",transition:"all 0.2s ease",opacity:E?.7:1},onMouseOver:function(e){return!E&&(e.currentTarget.style.backgroundColor="#1D4ED8")},onMouseOut:function(e){return!E&&(e.currentTarget.style.backgroundColor="#2563EB")}},{children:E?"Processing...":"Create Card"}))]})),(0,i.jsx)("div",yl({style:{width:"100%",margin:"4px 0 0 0"}},{children:Ae()}))]})),t&&(0,i.jsxs)("div",yl({style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"320px",marginBottom:"8px"}},{children:[(0,i.jsxs)("div",yl({style:{width:"100%",marginBottom:"12px"}},{children:[(0,i.jsxs)("div",yl({style:{position:"relative",width:"100%"}},{children:[(0,i.jsx)("input",{type:"text",value:Re,onChange:function(e){return Fe(e.target.value)},onKeyDown:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),$e())},placeholder:"Enter custom instructions (e.g., 'more formal examples', 'change image style')",style:{width:"100%",padding:"8px 12px",paddingRight:"40px",borderRadius:"6px",border:"1px solid #E5E7EB",fontSize:"14px",color:"#374151"},disabled:Le}),(0,i.jsx)("button",yl({onClick:$e,disabled:!Re.trim()||Le,style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",color:Re.trim()&&!Le?"#2563EB":"#9CA3AF",cursor:Re.trim()&&!Le?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",padding:"4px"}},{children:(0,i.jsx)(ot,{size:16})}))]})),(0,i.jsx)("div",yl({style:{fontSize:"12px",color:"#6B7280",marginTop:"4px"}},{children:Le?"Applying your instructions...":"Type instructions and press Enter or click the magic wand"}))]})),(0,i.jsx)(ht,{mode:v,front:f,back:p,translation:l,examples:c,imageUrl:d,image:u,onNewImage:function(){return bl(void 0,void 0,void 0,(function(){var e,t,n,o;return vl(this,(function(a){switch(a.label){case 0:return R(!0),[4,be(K,s,b)];case 1:return e=a.sent(),[4,cl(J,Oe,K,e,b)];case 2:return t=a.sent(),n=t.imageUrl,o=t.imageBase64,n&&r(se(n)),o&&r(ie(o)),R(!1),Me&&M(!0),[2]}}))}))},onNewExamples:function(){return bl(void 0,void 0,void 0,(function(){var e;return vl(this,(function(t){switch(t.label){case 0:return N(!0),[4,me(K,s,g,!0)];case 1:return e=t.sent(),r(oe(e)),N(!1),Me&&M(!0),[2]}}))}))},onAccept:function(){return bl(void 0,void 0,void 0,(function(){var e,t;return vl(this,(function(n){je(null);try{if(L(!0),e=h||Date.now().toString(),console.log("Saving card with data:",{originalSelectedText:w,text:s,translation:l,examples:c.length,mode:v,currentCardId:h}),v===O.LanguageLearning){if(!s&&!w)return console.error("Missing text data for card"),je("Please enter or select some text for your card before saving."),[2];t={id:e,mode:v,text:w||s,translation:l,examples:c,image:u,imageUrl:d,createdAt:new Date,exportStatus:"not_exported"},console.log("Saving card to storage:",t),h?r(de(t)):(r(te(t)),r(fe(e)))}else if(v===O.GeneralTopic){if(!p)return console.error("Missing back data for general topic card"),je("Please generate card content before saving."),[2];t={id:e,mode:v,front:f,back:p,text:w||s||"",createdAt:new Date,exportStatus:"not_exported"},console.log("Saving general topic card to storage:",t),h?r(de(t)):(r(te(t)),r(fe(e)))}je(D?"Card updated successfully!":"Card saved successfully!","success"),M(!1),W(!1),q(!0)}catch(e){console.error("Error saving card:",e),je("Error saving card. Please try again.")}finally{L(!1)}return[2]}))}))},onViewSavedCards:function(){r(T("storedCards"))},onCancel:function(){n(!1),M(!1),r(fe(null)),W(!0),q(!1),r(re("")),r(ae("")),r(oe([])),r(ie(null)),r(se(null)),r(ce("")),r(le(null)),S("")},loadingNewImage:A,loadingNewExamples:F,loadingAccept:B,shouldGenerateImage:X,isSaved:Me,isEdited:D,setTranslation:function(e){r(ae(e)),Me&&M(!0)},setExamples:function(e){r(oe(e)),Me&&M(!0)}})]}))]}))},wl=n.p+"assets/img/chat-gpt39f424be38a6852eb2c5.png",Sl=n.p+"assets/img/copy-iconb2b0ec637a2b0fd4ca40.svg";var kl=function(){return kl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kl.apply(this,arguments)};const El=function(e){var t=e.onBackClick,n=e.popup,r=void 0!==n&&n,o=_(),a=y((function(e){return e.settings.openAiKey})),s=(y((function(e){return e.settings.ankiConnectUrl})),y((function(e){return e.settings.ankiConnectApiKey}))),l=y((function(e){return e.settings.huggingFaceApiKey})),c=chrome.runtime.getURL(wl),u=chrome.runtime.getURL(Sl);return(0,i.jsxs)("div",kl({style:{padding:"12px",backgroundColor:"#ffffff",height:"100%",width:"100%",maxWidth:"320px",margin:"0 auto",overflowY:"auto",paddingBottom:"16px"}},{children:[(0,i.jsxs)("div",kl({style:{display:"flex",alignItems:"center",marginBottom:"8px"}},{children:[(0,i.jsx)("label",kl({htmlFor:"openAiKey",style:{display:"block",fontWeight:"600",marginBottom:"0",marginRight:"8px",color:"#111827",fontSize:"14px"}},{children:"OpenAI API Key"})),(0,i.jsx)("img",{src:c,alt:"ChatGPT Logo",style:{width:"16px",height:"16px",marginTop:"-2px"}})]})),(0,i.jsxs)("p",kl({style:{fontSize:"12px",marginBottom:"6px",color:"#6B7280"}},{children:["You can get your OpenAI API key from ",(0,i.jsx)("a",kl({href:"https://platform.openai.com/account/api-keys",target:"_blank",rel:"noopener noreferrer",style:{color:"#2563EB",textDecoration:"underline"}},{children:"here"})),"."]})),(0,i.jsx)("div",kl({style:{position:"relative",marginBottom:"16px"}},{children:(0,i.jsx)("input",{type:"text",id:"openAiKey",value:a,onChange:function(e){o(function(e){return{type:Ee,payload:e}}(e.target.value))},style:{width:"100%",padding:"8px 10px",borderRadius:"6px",border:"1px solid #E5E7EB",backgroundColor:"#ffffff",color:"#374151",fontSize:"13px",outline:"none",transition:"all 0.2s ease"},onFocus:function(e){return e.target.style.borderColor="#2563EB"},onBlur:function(e){return e.target.style.borderColor="#E5E7EB"}})})),(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",kl({style:{fontSize:"13px",marginBottom:"8px",color:"#6B7280"}},{children:["Install the Anki plugin ",(0,i.jsx)("strong",{children:"AnkiConnect"})," and configure it as follows:"]})),(0,i.jsxs)("ul",kl({style:{fontSize:"13px",listStyle:"disc",paddingLeft:"20px",marginBottom:"8px",color:"#6B7280"}},{children:[(0,i.jsxs)("li",kl({style:{marginBottom:"4px"}},{children:["Go to ",(0,i.jsx)("strong",{children:"Tools"})," then ",(0,i.jsx)("strong",{children:"Add-ons"})," then ",(0,i.jsx)("strong",{children:"Get Add-ons..."})]})),(0,i.jsxs)("li",kl({style:{marginBottom:"4px",display:"flex",alignItems:"center"}},{children:["Paste Code  ",(0,i.jsxs)("button",kl({onClick:function(){return navigator.clipboard.writeText("2055492159")},style:{display:"flex",alignItems:"center",backgroundColor:"#F3F4F6",padding:"4px 6px",borderRadius:"4px",color:"#2563EB",transition:"all 0.2s ease",border:"none",cursor:"pointer"},onMouseOver:function(e){return e.currentTarget.style.backgroundColor="#E5E7EB"},onMouseOut:function(e){return e.currentTarget.style.backgroundColor="#F3F4F6"}},{children:[(0,i.jsx)("img",{src:u,alt:"Copy Icon",style:{width:"16px",height:"16px",marginRight:"4px"}}),(0,i.jsx)("code",kl({style:{backgroundColor:"transparent",fontSize:"12px"}},{children:"2055492159"}))]}))]})),(0,i.jsxs)("li",kl({style:{marginBottom:"4px"}},{children:["Then click ",(0,i.jsx)("strong",{children:"OK"})]})),(0,i.jsx)("li",kl({style:{marginBottom:"4px"}},{children:"Restart Anki"})),(0,i.jsxs)("li",kl({style:{marginBottom:"4px"}},{children:["Navigate to ",(0,i.jsx)("strong",{children:"Tools"})," > ",(0,i.jsx)("strong",{children:"Add-ons"})," > ",(0,i.jsx)("strong",{children:"AnkiConnect"})," >",(0,i.jsx)("strong",{children:"Config"})]}))]})),(0,i.jsxs)("div",kl({style:{position:"relative",backgroundColor:"#F9FAFB",padding:"12px",borderRadius:"6px",marginBottom:"20px"}},{children:[(0,i.jsxs)("p",kl({style:{fontSize:"13px",marginBottom:"8px",color:"#6B7280"}},{children:["Copy paste the following config, you can change the ",(0,i.jsx)("code",{children:"apiKey"}),":"]})),(0,i.jsx)("pre",kl({style:{display:"block",overflow:"auto",padding:"10px",backgroundColor:"#F3F4F6",borderRadius:"4px",whiteSpace:"pre-wrap",cursor:"pointer",fontSize:"12px",color:"#374151",margin:0},onClick:function(){return navigator.clipboard.writeText(JSON.stringify({apiKey:s||"your_api_key",webCorsOriginList:["http://localhost","*"],webBindPort:8765},null,2))},title:"Click to copy"},{children:JSON.stringify({apiKey:s||"your_api_key",webCorsOriginList:["http://localhost","*"],webBindPort:8765},null,2)})),(0,i.jsx)("button",kl({onClick:function(){return navigator.clipboard.writeText(JSON.stringify({apiKey:s||"your_api_key",webCorsOriginList:["http://localhost","*"],webBindPort:8765},null,2))},style:{position:"absolute",top:"8px",right:"8px",background:"transparent",border:"none",cursor:"pointer",padding:"4px"},title:"Copy to clipboard"},{children:(0,i.jsx)("img",{src:u,alt:"Copy Icon",style:{width:"16px",height:"16px"}})}))]})),(0,i.jsx)("label",kl({htmlFor:"ankiConnectApiKey",style:{display:"block",fontWeight:"600",marginBottom:"8px",color:"#111827",fontSize:"14px"}},{children:"AnkiConnect API Key (optional)"})),(0,i.jsx)("input",{type:"text",id:"ankiConnectApiKey",value:null!==s?s:"",onChange:function(e){o(function(e){return{type:Ae,payload:e}}(e.target.value))},style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #E5E7EB",backgroundColor:"#ffffff",color:"#374151",fontSize:"13px",outline:"none",transition:"all 0.2s ease",marginBottom:"20px"},onFocus:function(e){return e.target.style.borderColor="#2563EB"},onBlur:function(e){return e.target.style.borderColor="#E5E7EB"}})]}),(0,i.jsx)("label",kl({htmlFor:"haggingFaceApiKey",style:{display:"block",fontWeight:"600",marginBottom:"8px",color:"#111827",fontSize:"14px"}},{children:"Hugging Face API Key (optional)"})),(0,i.jsx)("p",kl({style:{fontSize:"13px",color:"#6B7280",fontStyle:"italic",marginBottom:"8px"}},{children:"(for image generation)"})),(0,i.jsx)("input",{type:"text",id:"huggingFaceApiKey",value:l,onChange:function(e){var t;o((t=e.target.value,{type:Re,payload:t}))},style:{width:"100%",padding:"8px 12px",borderRadius:"6px",border:"1px solid #E5E7EB",backgroundColor:"#ffffff",color:"#374151",fontSize:"13px",outline:"none",transition:"all 0.2s ease",marginBottom:"20px"},onFocus:function(e){return e.target.style.borderColor="#2563EB"},onBlur:function(e){return e.target.style.borderColor="#E5E7EB"}}),!r&&(0,i.jsx)("div",kl({style:{display:"flex",flexDirection:"column",gap:"12px",width:"100%",marginBottom:"8px",marginTop:"16px"}},{children:(0,i.jsx)("button",kl({onClick:function(){t()},style:{width:"100%",padding:"8px 10px",borderRadius:"6px",backgroundColor:"#2563EB",color:"#ffffff",fontWeight:"600",fontSize:"14px",border:"none",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:function(e){return e.currentTarget.style.backgroundColor="#1D4ED8"},onMouseOut:function(e){return e.currentTarget.style.backgroundColor="#2563EB"}},{children:"Create Cards"}))}))]}))};var Cl="FETCH_DECKS_SUCCESS",_l="SET_DECK_ID",jl=function(e){return{type:_l,payload:e}},Al=function(){return Al=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Al.apply(this,arguments)},Ol=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},Tl=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Rl=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};const Pl=function(e){var t=e.onBackClick,n=_(),r=y((function(e){return e.cards})).storedCards,a=y((function(e){return e.deck.deckId})),s=y((function(e){return e.deck.decks})),l=y((function(e){return e.settings.useAnkiConnect})),c=y((function(e){return e.settings.ankiConnectUrl})),u=y((function(e){return e.settings.ankiConnectApiKey})),d=y((function(e){return e.settings.openAiKey})),f=y((function(e){return e.settings.huggingFaceApiKey})),p=y((function(e){return e.settings.imageInstructions})),h=(0,o.useState)([]),g=h[0],m=h[1],b=(0,o.useState)(!1),v=b[0],x=b[1],w=(0,o.useState)(!1),S=w[0],k=w[1],E=(0,o.useState)("all"),C=E[0],j=E[1],A=(0,o.useState)(!1),T=A[0],R=A[1],P=(0,o.useState)(null),F=P[0],N=P[1],I=(0,o.useState)(null),L=I[0],z=I[1],D=(0,o.useState)(!1),M=D[0],U=D[1],$=(0,o.useState)(1),W=$[0],H=$[1],V=(0,o.useState)(10),q=V[0],K=V[1],J=(0,o.useState)(1),Q=J[0],G=J[1],Y=fl(),Z=Y.showError,te=Y.renderErrorNotification,re=new Na({apiKey:d,dangerouslyAllowBrowser:!0});(0,o.useEffect)((function(){console.log("StoredCards component mounted, reloading cards..."),n(ne());var e=setTimeout((function(){console.log("Current stored cards after initial load:",r.length),0===r.length&&(console.log("No cards loaded, trying again..."),n(ne()));var e=r.filter((function(e){return"not_exported"===e.exportStatus})).length,t=r.filter((function(e){return"exported_to_anki"===e.exportStatus||"exported_to_file"===e.exportStatus})).length;console.log("Card stats: total=",r.length,"not_exported=",e,"exported=",t)}),500);return function(){return clearTimeout(e)}}),[n]),(0,o.useEffect)((function(){console.log("Stored cards updated:",r)}),[r]);var oe=function(){return Ol(void 0,void 0,void 0,(function(){var e,t;return Tl(this,(function(r){switch(r.label){case 0:if(!l)return[2];r.label=1;case 1:return r.trys.push([1,3,4,5]),k(!0),[4,B(u)];case 2:return(e=r.sent()).result&&(n({type:"FETCH_DECKS_SUCCESS",payload:e.result}),!a&&e.result.length>0&&n(jl(e.result[0].deckId))),[3,5];case 3:return t=r.sent(),console.error("Error loading decks:",t),l&&Z("Failed to load Anki decks. Make sure Anki is running with AnkiConnect plugin."),[3,5];case 4:return k(!1),[7];case 5:return[2]}}))}))};(0,o.useEffect)((function(){l&&0===s.length&&oe()}),[l]);var ae=function(){var e;switch(C){case"not_exported":e=r.filter((function(e){return"not_exported"===e.exportStatus}));break;case"exported":e=r.filter((function(e){return"exported_to_anki"===e.exportStatus||"exported_to_file"===e.exportStatus}));break;default:e=Rl([],r,!0).sort((function(e,t){return"not_exported"===e.exportStatus&&"not_exported"!==t.exportStatus?-1:"not_exported"!==e.exportStatus&&"not_exported"===t.exportStatus?1:new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}))}return e.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}))}();(0,o.useEffect)((function(){G(Math.max(1,Math.ceil(ae.length/q))),H(1)}),[ae.length,q,C]);var ie,se,le,ce=(se=(ie=(W-1)*q)+q,console.log("Pagination debug:",{totalCards:r.length,filteredCards:ae.length,currentPage:W,itemsPerPage:q,startIndex:ie,endIndex:se,cardsOnThisPage:ae.slice(ie,se).length}),ae.slice(ie,se)),fe={all:r.length,not_exported:r.filter((function(e){return"not_exported"===e.exportStatus})).length,exported:r.filter((function(e){return"exported_to_anki"===e.exportStatus||"exported_to_file"===e.exportStatus})).length},pe=function(e){n(function(e){return{type:X,payload:e}}(e))},he=function(e){switch(e){case"exported_to_anki":return(0,i.jsx)("span",Al({style:{fontSize:"11px",color:"#10B981",marginLeft:"8px"}},{children:"✓ Anki"}));case"exported_to_file":return(0,i.jsx)("span",Al({style:{fontSize:"11px",color:"#2563EB",marginLeft:"8px"}},{children:"✓ File"}));default:return null}},ge=function(e){return F===e.id?null:e.mode===O.LanguageLearning?(0,i.jsxs)("div",Al({style:{padding:"8px"}},{children:[(0,i.jsx)("p",Al({style:{fontWeight:"bold",fontSize:"14px",marginBottom:"4px"}},{children:e.text})),e.translation&&(0,i.jsx)("p",Al({style:{color:"#374151",fontSize:"13px",marginBottom:"8px"}},{children:e.translation})),e.examples&&e.examples.length>0&&(0,i.jsxs)("div",Al({style:{marginTop:"8px"}},{children:[(0,i.jsx)("p",Al({style:{fontSize:"12px",color:"#6B7280",marginBottom:"4px"}},{children:"Examples:"})),e.examples.slice(0,1).map((function(e,t){var n=e[0],r=e[1];return(0,i.jsxs)("div",Al({style:{fontSize:"12px",marginBottom:"2px"}},{children:[(0,i.jsx)("p",Al({style:{color:"#111827",marginBottom:"2px"}},{children:n})),r&&(0,i.jsx)("p",Al({style:{color:"#6B7280",fontStyle:"italic"}},{children:r}))]}),t)})),e.examples.length>1&&(0,i.jsxs)("p",Al({style:{fontSize:"11px",color:"#6B7280"}},{children:["+",e.examples.length-1," more examples"]}))]})),e.imageUrl&&(0,i.jsx)("div",Al({style:{marginTop:"8px",textAlign:"center"}},{children:(0,i.jsx)("img",{src:e.imageUrl,alt:"",style:{maxWidth:"100%",maxHeight:"80px",borderRadius:"4px"}})}))]})):(0,i.jsxs)("div",Al({style:{padding:"8px"}},{children:[e.front&&(0,i.jsx)("p",Al({style:{fontWeight:"bold",fontSize:"14px",marginBottom:"4px"}},{children:e.front})),e.back&&(0,i.jsx)("p",Al({style:{color:"#374151",fontSize:"12px"}},{children:e.back.length>100?e.back.substring(0,100)+"...":e.back}))]}))},me=function(e){n(jl(e.target.value))},ye=function(){R((function(e){return!e}))},ve=function(e){var t=Al({},e);e.mode===O.LanguageLearning?(t.examples=Array.isArray(e.examples)?Rl([],e.examples,!0):[],t.text=t.text||"",t.translation=t.translation||""):(t.front=t.front||"",t.back=t.back||""),N(e.id),z(t)},xe=function(){N(null),z(null)},we=function(){var e;if(L)try{var t=JSON.parse(JSON.stringify(L));if(console.log("Original editFormData:",L),console.log("Deep copied updatedCardData:",t),t.id=L.id,t.createdAt=L.createdAt,t.exportStatus=L.exportStatus,Array.isArray(t.examples)?t.examples=t.examples.filter((function(e){return""!==e[0].trim()})).map((function(e){var t=e[0],n=e[1];return[t.trim(),n?n.trim():null]})):t.examples=[],t.mode===O.LanguageLearning){if(!t.text||!t.translation)return void Z("Please provide both text and translation");t.text=t.text.trim(),t.translation=t.translation.trim()}else{if(!t.front||!t.back)return void Z("Please provide both front and back content");t.front=t.front.trim(),t.back=(null===(e=t.back)||void 0===e?void 0:e.trim())||null}console.log("Final data being saved to Redux:",t),n(de(t)),N(null),z(null),Z("Card updated successfully!","success")}catch(e){console.error("Error saving card:",e),Z("Failed to update card. Please try again.")}},Se=function(e,t){var n;L&&z(Al(Al({},L),((n={})[e]=t,n)))},ke=function(){return Ol(void 0,void 0,void 0,(function(){var e,t,n,r,o,a,i,s,l;return Tl(this,(function(c){switch(c.label){case 0:if(!L||!L.text)return[2];c.label=1;case 1:if(c.trys.push([1,13,14,15]),U(!0),!d)throw new Error("OpenAI API key is not configured. Please add it in the settings.");return console.log("Starting image generation for text:",L.text),[4,be(d,L.text,p)];case 2:if(e=c.sent(),console.log("Description generated:",e),!e)throw new Error("Failed to generate image description");c.label=3;case 3:if(c.trys.push([3,11,,12]),console.log("Attempting to generate image..."),!f)return[3,7];c.label=4;case 4:return c.trys.push([4,6,,7]),console.log("Trying HuggingFace image generation"),[4,cl(f,re,d,e,p)];case 5:if(t=c.sent(),console.log("Image generation result:",t),t.imageUrl&&t.imageBase64)return z(Al(Al({},L),{imageUrl:t.imageUrl,image:t.imageBase64})),Z("New image generated successfully!","success"),[2];throw new Error("HuggingFace image generation failed");case 6:return n=c.sent(),console.error("HuggingFace error:",n),[3,7];case 7:return console.log("Trying direct OpenAI image generation"),r=p?"".concat(e,". ").concat(p):e,[4,fetch("https://api.openai.com/v1/images/generations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(d)},body:JSON.stringify({prompt:r,n:1,size:"512x512",response_format:"url"})})];case 8:return[4,c.sent().json()];case 9:if(o=c.sent(),console.log("OpenAI direct API response:",o),!o.data||!o.data[0]||!o.data[0].url)throw new Error("OpenAI did not return an image URL");return a=o.data[0].url,console.log("Image URL generated:",a),console.log("Sending message to background script to fetch image"),[4,new Promise((function(e,t){chrome.runtime.sendMessage(a,(function(n){if(chrome.runtime.lastError)return console.error("Error sending message:",chrome.runtime.lastError),void t(chrome.runtime.lastError);console.log("Response from background script:",n),n&&n.status&&n.data?e(n.data):t(new Error("Failed to get image data from background script"))}))}))];case 10:return i=c.sent(),console.log("Image data received from background"),z(Al(Al({},L),{imageUrl:i,image:i})),Z("New image generated successfully!","success"),[3,12];case 11:throw s=c.sent(),console.error("Error in image generation:",s),new Error("Image generation failed: ".concat((null==s?void 0:s.message)||"Unknown error"));case 12:return[3,15];case 13:return l=c.sent(),console.error("Error generating image:",l),Z("Failed to generate new image: ".concat((null==l?void 0:l.message)||"Unknown error")),[3,15];case 14:return U(!1),[7];case 15:return[2]}}))}))},Ee=function(){if(L&&L.mode===O.LanguageLearning)try{var e=Array.isArray(L.examples)?Rl([],L.examples,!0):[],t=Rl(Rl([],e,!0),[["",null]],!1);console.log("Adding new example, total examples:",t.length),z(Al(Al({},L),{examples:t}))}catch(e){console.error("Error adding example:",e)}else console.warn("Cannot add example: form data is null or not in language learning mode")},Ce=function(e,t,n){if(L)try{for(var r=Array.isArray(L.examples)?Rl([],L.examples,!0):[],o=Rl([],r,!0);o.length<=e;)o.push(["",null]);t?(o[e][0]=n,console.log("Updated example text at index ".concat(e,":"),n.substring(0,20)+(n.length>20?"...":""))):(o[e][1]=n,console.log("Updated translation at index ".concat(e,":"),n.substring(0,20)+(n.length>20?"...":""))),z(Al(Al({},L),{examples:o}))}catch(e){console.error("Error updating example:",e)}else console.warn("Cannot change example: form data is null")},_e=function(){if(!L)return null;var e={container:{display:"flex",flexDirection:"column",gap:"16px",padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0",marginBottom:"16px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},title:{fontSize:"16px",fontWeight:"600",color:"#334155"},buttonGroup:{display:"flex",gap:"8px"},button:{padding:"6px 12px",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",border:"none"},cancelButton:{backgroundColor:"#f1f5f9",color:"#64748b",border:"1px solid #cbd5e1"},saveButton:{backgroundColor:"#2563eb",color:"#ffffff"},fieldGroup:{display:"flex",flexDirection:"column",gap:"4px"},label:{fontSize:"13px",color:"#475569",fontWeight:"500"},input:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"14px",color:"#334155",backgroundColor:"#ffffff"},textarea:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"14px",color:"#334155",minHeight:"80px",resize:"vertical",backgroundColor:"#ffffff"},imageContainer:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center"},image:{maxWidth:"100%",maxHeight:"200px",borderRadius:"6px"},imageButton:{backgroundColor:"#10b981",color:"#ffffff",border:"none",padding:"6px 12px",borderRadius:"6px",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"},examplesContainer:{display:"flex",flexDirection:"column",gap:"8px"},exampleItem:{display:"flex",flexDirection:"column",gap:"4px",backgroundColor:"#f1f5f9",padding:"8px",borderRadius:"6px",position:"relative"},exampleHeader:{display:"flex",justifyContent:"space-between"},removeButton:{backgroundColor:"transparent",border:"none",color:"#ef4444",cursor:"pointer",padding:"2px",position:"absolute",top:"8px",right:"8px"},addButton:{backgroundColor:"#f8fafc",color:"#2563eb",border:"1px dashed #94a3b8",padding:"8px 12px",borderRadius:"6px",fontSize:"13px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",cursor:"pointer",width:"100%",marginTop:"8px"}};return(0,i.jsxs)("div",Al({style:e.container},{children:[(0,i.jsxs)("div",Al({style:e.header},{children:[(0,i.jsx)("h3",Al({style:e.title},{children:"Edit Card"})),(0,i.jsxs)("div",Al({style:e.buttonGroup},{children:[(0,i.jsxs)("button",Al({onClick:xe,style:Al(Al({},e.button),e.cancelButton)},{children:[(0,i.jsx)(ut,{size:12})," Cancel"]})),(0,i.jsxs)("button",Al({onClick:we,style:Al(Al({},e.button),e.saveButton)},{children:[(0,i.jsx)(qe,{size:12})," Save"]}))]}))]})),L.mode===O.LanguageLearning?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",Al({style:e.fieldGroup},{children:[(0,i.jsx)("label",Al({style:e.label},{children:"Text"})),(0,i.jsx)("input",{type:"text",value:L.text||"",onChange:function(e){return Se("text",e.target.value)},style:e.input})]})),(0,i.jsxs)("div",Al({style:e.fieldGroup},{children:[(0,i.jsx)("label",Al({style:e.label},{children:"Translation"})),(0,i.jsx)("input",{type:"text",value:L.translation||"",onChange:function(e){return Se("translation",e.target.value)},style:e.input})]})),(0,i.jsxs)("div",Al({style:e.fieldGroup},{children:[(0,i.jsx)("label",Al({style:e.label},{children:"Examples"})),(0,i.jsxs)("div",Al({style:e.examplesContainer},{children:[Array.isArray(L.examples)&&L.examples.length>0?L.examples.map((function(t,n){return(0,i.jsxs)("div",Al({style:e.exampleItem},{children:[(0,i.jsx)("button",Al({onClick:function(){return function(e){if(L)try{var t=Array.isArray(L.examples)?Rl([],L.examples,!0):[];if(e<0||e>=t.length)return void console.warn("Invalid example index: ".concat(e,", examples length: ").concat(t.length));var n=Rl(Rl([],t.slice(0,e),!0),t.slice(e+1),!0);console.log("Removed example at index ".concat(e,", remaining examples:"),n.length),z(Al(Al({},L),{examples:n}))}catch(e){console.error("Error removing example:",e)}else console.warn("Cannot remove example: form data is null")}(n)},style:e.removeButton,type:"button"},{children:(0,i.jsx)(ut,{size:12})})),(0,i.jsx)("input",{type:"text",value:t[0]||"",onChange:function(e){return Ce(n,!0,e.target.value)},placeholder:"Example",style:e.input}),(0,i.jsx)("input",{type:"text",value:t[1]||"",onChange:function(e){return Ce(n,!1,e.target.value)},placeholder:"Translation (optional)",style:e.input})]}),n)})):(0,i.jsx)("div",Al({style:{padding:"12px",textAlign:"center",color:"#64748b",fontSize:"14px",backgroundColor:"#f1f5f9",borderRadius:"6px",marginBottom:"8px"}},{children:"No examples added yet"})),(0,i.jsx)("button",Al({onClick:Ee,style:e.addButton,type:"button"},{children:"+ Add Example"}))]}))]})),(0,i.jsxs)("div",Al({style:e.fieldGroup},{children:[(0,i.jsx)("label",Al({style:e.label},{children:"Image"})),(0,i.jsxs)("div",Al({style:e.imageContainer},{children:[L.imageUrl?(0,i.jsx)("img",{src:L.imageUrl,alt:"",style:e.image}):(0,i.jsx)("div",Al({style:{width:"100%",height:"100px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f1f5f9",borderRadius:"6px",color:"#64748b",fontSize:"14px"}},{children:"No image available"})),(0,i.jsxs)("button",Al({onClick:ke,disabled:M,style:e.imageButton},{children:[(0,i.jsx)(et,{size:14}),M?"Generating...":"Generate New Image"]}))]}))]}))]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",Al({style:e.fieldGroup},{children:[(0,i.jsx)("label",Al({style:e.label},{children:"Front"})),(0,i.jsx)("input",{type:"text",value:L.front||"",onChange:function(e){return Se("front",e.target.value)},style:e.input})]})),(0,i.jsxs)("div",Al({style:e.fieldGroup},{children:[(0,i.jsx)("label",Al({style:e.label},{children:"Back"})),(0,i.jsx)("textarea",{value:L.back||"",onChange:function(e){return Se("back",e.target.value)},style:e.textarea})]}))]})]}))},je=function(e){e>=1&&e<=Q&&H(e)},Ae=function(e){K(Number(e.target.value)),H(1)};return(0,i.jsxs)("div",Al({style:{display:"flex",flexDirection:"column",height:"100%",padding:"12px",overflowY:"auto",width:"100%",maxWidth:"320px",margin:"0 auto"}},{children:[(0,i.jsxs)("div",Al({style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"}},{children:[(0,i.jsxs)("button",Al({onClick:t,style:{display:"flex",alignItems:"center",backgroundColor:"transparent",border:"none",cursor:"pointer",color:"#6B7280",padding:"4px"},onMouseOver:function(e){return e.currentTarget.style.color="#111827"},onMouseOut:function(e){return e.currentTarget.style.color="#6B7280"}},{children:[(0,i.jsx)(He,{style:{marginRight:"4px"}}),(0,i.jsx)("span",Al({style:{fontSize:"14px"}},{children:"Back"}))]})),(0,i.jsxs)("span",Al({style:{fontWeight:"600",fontSize:"16px"}},{children:["Saved Cards (",r.length,")"]})),(0,i.jsx)("button",Al({onClick:function(){console.log("Resetting view state..."),j("all"),H(1),K(10),console.log("All cards in redux store:",r),n(ne())},style:{backgroundColor:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"4px",padding:"4px 8px",fontSize:"12px",color:"#6b7280",cursor:"pointer"}},{children:"Reset View"}))]})),te(),r.length>0?(0,i.jsxs)(i.Fragment,{children:[(le={base:{padding:"8px 16px",fontSize:"14px",fontWeight:"500",borderRadius:"6px 6px 0 0",cursor:"pointer",textAlign:"center",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"6px"},active:{backgroundColor:"#ffffff",color:"#2563EB",borderBottom:"2px solid #2563EB"},inactive:{backgroundColor:"#F3F4F6",color:"#6B7280",borderBottom:"2px solid transparent"}},(0,i.jsxs)("div",Al({style:{display:"flex",width:"100%",borderBottom:"1px solid #E5E7EB",marginBottom:"16px",backgroundColor:"#F3F4F6"}},{children:[(0,i.jsxs)("div",Al({onClick:function(){return j("not_exported")},style:Al(Al(Al({},le.base),"not_exported"===C?le.active:le.inactive),{flex:1})},{children:["New",(0,i.jsx)("span",Al({style:{backgroundColor:"not_exported"===C?"#2563EB":"#9CA3AF",color:"white",borderRadius:"9999px",fontSize:"12px",padding:"1px 6px",minWidth:"20px"}},{children:fe.not_exported}))]})),(0,i.jsxs)("div",Al({onClick:function(){return j("all")},style:Al(Al(Al({},le.base),"all"===C?le.active:le.inactive),{flex:1})},{children:["All",(0,i.jsx)("span",Al({style:{backgroundColor:"all"===C?"#2563EB":"#9CA3AF",color:"white",borderRadius:"9999px",fontSize:"12px",padding:"1px 6px",minWidth:"20px"}},{children:fe.all}))]})),(0,i.jsxs)("div",Al({onClick:function(){return j("exported")},style:Al(Al(Al({},le.base),"exported"===C?le.active:le.inactive),{flex:1})},{children:["Exported",(0,i.jsx)("span",Al({style:{backgroundColor:"exported"===C?"#2563EB":"#9CA3AF",color:"white",borderRadius:"9999px",fontSize:"12px",padding:"1px 6px",minWidth:"20px"}},{children:fe.exported}))]}))]}))),l&&function(){var e;if(!l)return null;var t={container:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"16px",backgroundColor:"#F9FAFB",padding:"12px",borderRadius:"8px",border:"1px solid #E5E7EB"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},title:{fontSize:"14px",fontWeight:"600",color:"#111827"},button:{backgroundColor:"transparent",border:"none",cursor:"pointer",color:"#6B7280",display:"flex",alignItems:"center",padding:"0",fontSize:"12px"},selectContainer:{display:"flex",alignItems:"center",gap:"8px",width:"100%"},select:{flex:1,padding:"8px 12px",borderRadius:"6px",border:"1px solid #E5E7EB",backgroundColor:"#ffffff",color:"#374151",fontSize:"14px",cursor:"pointer"},refreshButton:{backgroundColor:"#F3F4F6",border:"1px solid #E5E7EB",borderRadius:"6px",cursor:"pointer",color:"#6B7280",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",minWidth:"36px",height:"38px"}};return T?(0,i.jsxs)("div",Al({style:t.container},{children:[(0,i.jsxs)("div",Al({style:t.header},{children:[(0,i.jsx)("span",Al({style:t.title},{children:"Select Anki Deck"})),(0,i.jsx)("button",Al({onClick:ye,style:t.button},{children:"Hide"}))]})),(0,i.jsxs)("div",Al({style:t.selectContainer},{children:[(0,i.jsxs)("select",Al({value:a,onChange:me,style:t.select,disabled:S},{children:[0===s.length&&(0,i.jsx)("option",Al({value:""},{children:"No decks available"})),s.map((function(e){return(0,i.jsx)("option",Al({value:e.deckId},{children:e.name}),e.deckId)}))]})),(0,i.jsx)("button",Al({onClick:oe,disabled:S,title:"Refresh decks list",style:t.refreshButton,"aria-label":"Refresh decks"},{children:(0,i.jsx)(lt,{size:14,style:{animation:S?"spin 1s linear infinite":"none"}})}))]})),(0,i.jsx)("style",{children:"\n                    @keyframes spin {\n                        0% { transform: rotate(0deg); }\n                        100% { transform: rotate(360deg); }\n                    }\n                    "})]})):(0,i.jsxs)("div",Al({style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",marginBottom:"12px",padding:"8px 12px",backgroundColor:"#F9FAFB",borderRadius:"6px",border:"1px solid #E5E7EB"}},{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",Al({style:{fontSize:"13px",color:"#6B7280"}},{children:"Anki Deck:"})),(0,i.jsx)("span",Al({style:{fontSize:"14px",fontWeight:"500",marginLeft:"8px",color:"#111827"}},{children:(null===(e=s.find((function(e){return e.deckId===a})))||void 0===e?void 0:e.name)||"None selected"}))]}),(0,i.jsx)("button",Al({onClick:ye,style:{backgroundColor:"transparent",border:"none",cursor:"pointer",color:"#2563EB",fontSize:"13px"}},{children:"Change"}))]}))}(),(0,i.jsxs)("div",Al({style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"}},{children:[(0,i.jsxs)("div",Al({style:{display:"flex",alignItems:"center"}},{children:[(0,i.jsx)("input",{type:"checkbox",id:"selectAll",checked:g.length===ae.length&&ae.length>0,onChange:function(){F||(g.length===ae.length?m([]):m(ae.map((function(e){return e.id}))))},style:{marginRight:"8px"},disabled:null!==F}),(0,i.jsx)("label",Al({htmlFor:"selectAll",style:{fontSize:"14px",cursor:null!==F?"default":"pointer",opacity:null!==F?.6:1}},{children:g.length===ae.length&&ae.length>0?"Deselect All":"Select All"}))]})),(0,i.jsxs)("div",Al({style:{display:"flex",gap:"8px"}},{children:[(0,i.jsx)("button",Al({onClick:function(){return Ol(void 0,void 0,void 0,(function(){var e,t,o,i;return Tl(this,(function(s){switch(s.label){case 0:if(0===g.length)return Z("Please select at least one card to save"),[2];x(!0),s.label=1;case 1:return s.trys.push([1,6,7,8]),e="Basic",t=r.filter((function(e){return g.includes(e.id)})),o=[],i=[],t.forEach((function(e){e.mode===O.LanguageLearning&&e.translation?o.push({text:e.text,translation:e.translation,examples:e.examples||[],image_base64:e.image||null}):e.mode===O.GeneralTopic&&e.front&&e.back&&i.push({front:e.front,back:e.back,text:e.text})})),o.length>0?[4,n(ee(O.LanguageLearning,c,u,a,e,o))]:[3,3];case 2:s.sent(),s.label=3;case 3:return i.length>0?[4,n(ee(O.GeneralTopic,c,u,a,e,i))]:[3,5];case 4:s.sent(),s.label=5;case 5:return g.forEach((function(e){n(ue(e,"exported_to_anki"))})),Z("Cards saved to Anki successfully!","success"),[3,8];case 6:return s.sent(),Z("Failed to save cards to Anki. Make sure Anki is running and AnkiConnect is properly configured."),[3,8];case 7:return x(!1),[7];case 8:return[2]}}))}))},disabled:v||0===g.length||!l||!a||null!==F,style:{padding:"6px 10px",borderRadius:"6px",backgroundColor:"#10B981",color:"#ffffff",fontSize:"13px",border:"none",cursor:"pointer",opacity:!v&&0!==g.length&&l&&a&&null===F?1:.6},title:null!==F?"Finish editing first":!a&&l?"Please select a deck first":""},{children:v?"Saving...":"Save to Anki"})),(0,i.jsxs)("button",Al({onClick:function(){if(0!==g.length){var e=r.filter((function(e){return g.includes(e.id)})),t="#separator:tab\n#html:true\n";e.forEach((function(e,n){if(e.mode===O.LanguageLearning){var r=e.text.trim(),o="";if(e.translation&&(o+="<b>".concat(e.translation,"</b>")),e.examples&&e.examples.length>0&&(o+="<br><br>",e.examples.forEach((function(e,t){var n=e[0],r=e[1];o+="".concat(t+1,". ").concat(n),r&&(o+="<br><span style='font-size: 0.8em;'><i>".concat(r,"</i></span>")),o+="<br><br>"}))),e.image){var a=e.image;a.startsWith("data:")||(a="data:image/jpeg;base64,".concat(a)),o+='<div><img src="'.concat(a,'" style="max-width: 350px; max-height: 350px; margin: 0 auto;"></div>')}else if(e.imageUrl){var i=e.imageUrl;i.startsWith("data:")||i.startsWith("http")||(i="data:image/jpeg;base64,".concat(i)),o+='<div><img src="'.concat(i,'" style="max-width: 350px; max-height: 350px; margin: 0 auto;"></div>')}t+="".concat(r,'\t"').concat(o,'"\n')}else if(e.mode===O.GeneralTopic){r=(e.front||"").trim();var s=(e.back||"").trim();t+="".concat(r,'\t"').concat(s,'"\n')}}));var o=new Blob([t],{type:"text/plain;charset=utf-8;"}),a=URL.createObjectURL(o),i=document.createElement("a");i.setAttribute("href",a),i.setAttribute("download","anki_cards.txt"),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),g.forEach((function(e){n(ue(e,"exported_to_file"))}))}else Z("Please select at least one card to export")},disabled:v||0===g.length||null!==F,style:{padding:"6px 10px",borderRadius:"6px",backgroundColor:"#2563EB",color:"#ffffff",fontSize:"13px",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",opacity:v||0===g.length||null!==F?.6:1}},{children:[(0,i.jsx)(Ge,{size:12}),(0,i.jsx)("span",{children:"Export"})]}))]}))]})),(0,i.jsxs)("div",Al({style:{flex:1,overflow:"auto"}},{children:[0===ae.length?(0,i.jsx)("div",Al({style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"200px",color:"#6B7280",textAlign:"center",padding:"20px"}},{children:(0,i.jsx)("p",Al({style:{fontSize:"14px"}},{children:"all"===C?"No cards yet":"not_exported"===C?"No new cards":"No exported cards"}))})):ce.map((function(e){return(0,i.jsxs)("div",Al({style:{border:"1px solid #E5E7EB",borderRadius:"6px",marginBottom:"8px",backgroundColor:g.includes(e.id)?"#F3F4F6":"#ffffff"}},{children:[(0,i.jsxs)("div",Al({style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",borderBottom:F===e.id?"none":"1px solid #E5E7EB"}},{children:[(0,i.jsxs)("div",Al({style:{display:"flex",alignItems:"center"}},{children:[(0,i.jsx)("input",{type:"checkbox",checked:g.includes(e.id),onChange:function(){return t=e.id,void(F||(g.includes(t)?m(g.filter((function(e){return e!==t}))):m(Rl(Rl([],g,!0),[t],!1))));var t},style:{marginRight:"8px"},disabled:F===e.id}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",Al({style:{fontSize:"12px",color:"#6B7280"}},{children:e.mode===O.LanguageLearning?"Language":"Topic"})),(0,i.jsx)("span",Al({style:{fontSize:"11px",color:"#9CA3AF",marginLeft:"8px"}},{children:(t=e.createdAt,n=new Date(t),n.toLocaleDateString()+" "+n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))})),he(e.exportStatus)]})]})),(0,i.jsx)("div",Al({style:{display:"flex",gap:"8px"}},{children:F!==e.id&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",Al({onClick:function(){return ve(e)},style:{backgroundColor:"transparent",border:"none",cursor:"pointer",color:"#2563EB",display:"flex",alignItems:"center",padding:"4px",opacity:.8,transition:"opacity 0.2s"},title:"Edit card",onMouseOver:function(e){return e.currentTarget.style.opacity="1"},onMouseOut:function(e){return e.currentTarget.style.opacity="0.8"}},{children:(0,i.jsx)(Ye,{size:14})})),(0,i.jsx)("button",Al({onClick:function(){return pe(e.id)},style:{backgroundColor:"transparent",border:"none",cursor:"pointer",color:"#EF4444",display:"flex",alignItems:"center",padding:"4px",opacity:.8,transition:"opacity 0.2s"},title:"Delete card",onMouseOver:function(e){return e.currentTarget.style.opacity="1"},onMouseOut:function(e){return e.currentTarget.style.opacity="0.8"}},{children:(0,i.jsx)(dt,{size:14})}))]})}))]})),F===e.id?_e():ge(e)]}),e.id);var t,n})),(0,i.jsxs)("div",Al({style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"16px",padding:"8px 0",borderTop:"1px solid #E5E7EB"}},{children:[(0,i.jsxs)("div",Al({style:{display:"flex",alignItems:"center"}},{children:[(0,i.jsx)("span",Al({style:{fontSize:"13px",color:"#6B7280",marginRight:"8px"}},{children:"Cards per page:"})),(0,i.jsxs)("select",Al({value:q,onChange:Ae,style:{padding:"4px 8px",borderRadius:"4px",border:"1px solid #D1D5DB",fontSize:"13px",backgroundColor:"#F9FAFB"}},{children:[(0,i.jsx)("option",Al({value:5},{children:"5"})),(0,i.jsx)("option",Al({value:10},{children:"10"})),(0,i.jsx)("option",Al({value:20},{children:"20"})),(0,i.jsx)("option",Al({value:50},{children:"50"}))]}))]})),(0,i.jsxs)("div",Al({style:{display:"flex",alignItems:"center",gap:"8px"}},{children:[(0,i.jsx)("button",Al({onClick:function(){return je(W-1)},disabled:1===W,style:{padding:"4px 8px",backgroundColor:1===W?"#F3F4F6":"#FFFFFF",border:"1px solid #D1D5DB",borderRadius:"4px",cursor:1===W?"default":"pointer",color:1===W?"#9CA3AF":"#111827",display:"flex",alignItems:"center",justifyContent:"center"}},{children:(0,i.jsx)(Ke,{size:12})})),(0,i.jsxs)("span",Al({style:{fontSize:"13px",color:"#6B7280"}},{children:["Page ",W," of ",Q," (",ae.length," total cards)"]})),(0,i.jsx)("button",Al({onClick:function(){return je(W+1)},disabled:W===Q,style:{padding:"4px 8px",backgroundColor:W===Q?"#F3F4F6":"#FFFFFF",border:"1px solid #D1D5DB",borderRadius:"4px",cursor:W===Q?"default":"pointer",color:W===Q?"#9CA3AF":"#111827",display:"flex",alignItems:"center",justifyContent:"center"}},{children:(0,i.jsx)(Je,{size:12})}))]}))]}))]}))]}):(0,i.jsx)("div",Al({style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"300px",color:"#6B7280",textAlign:"center"}},{children:(0,i.jsx)("p",{children:"No saved cards yet."})}))]}))};
/**
 * @license
 * ReduxedChromeStorage v3.0.10
 * https://github.com/hindmost/reduxed-chrome-storage
 * Copyright (c) Savr Goryaev aka hindmost
 *
 * This source code is licensed under the MIT license
 * https://github.com/hindmost/reduxed-chrome-storage/blob/master/LICENSE
 *
 * Dependencies:
 *
 * uuid v8.3.2
 */
var Fl,Nl=new Uint8Array(16);function Il(){if(!Fl&&!(Fl="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fl(Nl)}var Bl=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Ll=[],zl=0;zl<256;++zl)Ll.push((zl+256).toString(16).substr(1));function Dl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Ll[e[t+0]]+Ll[e[t+1]]+Ll[e[t+2]]+Ll[e[t+3]]+"-"+Ll[e[t+4]]+Ll[e[t+5]]+"-"+Ll[e[t+6]]+Ll[e[t+7]]+"-"+Ll[e[t+8]]+Ll[e[t+9]]+"-"+Ll[e[t+10]]+Ll[e[t+11]]+Ll[e[t+12]]+Ll[e[t+13]]+Ll[e[t+14]]+Ll[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&Bl.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n}function Ml(e,t,n){var r=(e=e||{}).random||(e.rng||Il)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return Dl(r)}function Ul(e){return null==e||"object"!=typeof e?e:JSON.parse(JSON.stringify(e))}function $l(e,t){if(e===t)return!0;if(null==e||"object"!=typeof e||null==t||"object"!=typeof t||Array.isArray(e)!==Array.isArray(t))return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const o of n)if(r.indexOf(o)<=-1||!$l(e[o],t[o]))return!1;return!0}function Wl(e,t){if(e===t)return;if(null==e||"object"!=typeof e||null==t||"object"!=typeof t)return e;if(Array.isArray(e)||Array.isArray(t))return $l(e,t)?void 0:e;const n=Object.keys(e),r=Object.keys(t);let o=!0;const a=n.reduce(((n,a)=>{const i=r.indexOf(a)>-1?Wl(e[a],t[a]):e[a];return void 0===i||(o=!1,n[a]=i),n}),{});return r.forEach((e=>{n.indexOf(e)>-1||(o=!1,a[e]=void 0)})),o?void 0:a}function Hl(e,t,n){if(Array.isArray(t))return Ul(t);if(null==e||"object"!=typeof e||Array.isArray(e)||null==t||"object"!=typeof t)return Ul(void 0!==t?t:e);const r=Object.keys(e).concat(Object.keys(t).filter((t=>!(t in e)))).reduce(((r,o)=>(r[o]=Hl(e[o],t[o],n),r)),{});if(!n)return r;const o=Object.keys(t);return Object.keys(e).forEach((e=>{o.indexOf(e)>-1||delete r[e]})),r}const Vl=e=>{if(void 0===e||!Array.isArray(e)||3!==e.length)return[e,"",0];const[t,n,r]=e;return"string"==typeof t&&"number"==typeof n?[r,t,n]:[e,"",0]};class ql{constructor(e,t,n,r,o,a,i){this.container=e,this.storage=t,this.isolated=n,this.plain=r,this.timeout=o?Math.max(o,500):1e3,this.resetState=i,this.store=this._instantiateStore(),this.state=null,this.id=Ml(),this.tmstamp=0,this.outdted=[],"function"==typeof a&&(this.lisner=a),this.lisners=[],this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.dispatch=this.dispatch.bind(this),this.replaceReducer=this.replaceReducer.bind(this),this[Symbol.observable]=this[Symbol.observable].bind(this)}init(){this.tmstamp||this.isolated||this.storage.subscribe(((e,t)=>{const[n,r,o]=Vl(e);if(r===this.id||$l(n,this.state))return;const a=o>=this.tmstamp,i=a?Hl(this.state,n,!0):Hl(n,this.state,!0);!a&&$l(i,this.state)||(this._setState(i,o),this._renewStore(),$l(i,n)||this._send2Storage(),this._callListeners())}));const e=this.store.getState();return new Promise((t=>{this.storage.load((n=>{const[r,,o]=Vl(n);let a=r?Hl(e,r):e;this.resetState&&(a=Hl(a,this.resetState)),this._setState(a,o),this._renewStore(),$l(a,r)||this._send2Storage(),t(this)}))}))}initFrom(e){return this._setState(e,0),this._renewStore(),this}_setState(e,t){this.state=Ul(e),(t=void 0!==t?t:Date.now())>this.tmstamp&&(this.tmstamp=t)}_renewStore(){this.plain?this.unsub&&this.unsub():this._clean();const e=this.store=this._instantiateStore(this.state),t=Date.now(),n=this.outdted.length;this.outdted=this.outdted.map((([e,r],o)=>e||o>=n-1?[e,r]:[t,r]));let r=Ul(this.state);const o=this.store.subscribe((()=>{const t=e&&e.getState(),n=this.store===e;if(this._clean(),!$l(t,this.state)){if(n)this._setState(t);else{const e=Wl(t,r);if(void 0===e)return;this._setState(Hl(this.state,e)),this._renewStore()}this._send2Storage(),this._callListeners(!0,r),r=Ul(t)}}));this.plain?this.unsub=o:this.outdted.push([0,o])}_clean(){if(this.plain)return;const e=Date.now(),t=this.outdted.length;this.outdted.forEach((([n,r],o)=>{o>=t-1||e-n<this.timeout||(r(),delete this.outdted[o])}))}_instantiateStore(e){const t=this.container(e);if("object"!=typeof t||"function"!=typeof t.getState)throw new Error("Invalid 'storeCreatorContainer' supplied");return t}_send2Storage(){var e,t,n;this.storage.save((e=this.state,t=this.id,n=this.tmstamp,[t,n,e]))}_callListeners(e,t){e&&this.lisner&&this.lisner(this,t);for(const e of this.lisners)e()}getState(){return this.state}subscribe(e){return"function"==typeof e&&this.lisners.push(e),()=>{"function"==typeof e&&(this.lisners=this.lisners.filter((t=>t!==e)))}}dispatch(e){return this.store.dispatch(e)}replaceReducer(e){return"function"==typeof e&&this.store.replaceReducer(e),this}[Symbol.observable](){const e=this.getState,t=this.subscribe;return{subscribe(n){if("object"!=typeof n||null===n)throw new TypeError("Expected the observer to be an object.");function r(){const t=n;t.next&&t.next(e())}r();return{unsubscribe:t(r)}},[Symbol.observable](){return this}}}}var Kl;!function(e){e.local="local",e.sync="sync"}(Kl||(Kl={}));const Jl=e=>(new TextEncoder).encode(Object.entries(e).map((([e,t])=>e+JSON.stringify(t))).join("")).length;class Xl{constructor({namespace:e,area:t,key:n}){this.ns=e,this.areaName=t===Kl.sync?Kl.sync:Kl.local,this.key=n||"reduxed",this.listeners=[],this.errListeners=[]}regShared(){this.regListener(((e,t)=>{for(const n of this.listeners)n(e,t)}))}regListener(e){this.ns.storage.onChanged.addListener(((t,n)=>{if(n!==this.areaName||!(this.key in t))return;const{newValue:r,oldValue:o}=t[this.key];r&&e(r,o)}))}subscribe(e){"function"==typeof e&&this.listeners.push(e)}subscribeForError(e){"function"==typeof e&&this.errListeners.push(e)}fireErrorListeners(e,t){for(const n of this.errListeners)n(e,t)}callbackOnLoad(e,t,n){t(!this.ns.runtime.lastError&&(n?e:e&&e[this.key]))}callbackOnSave(e,t){if(!this.ns.runtime.lastError)return;const{message:n}=this.ns.runtime.lastError;if(!n||!e||!t)return void this.fireErrorListeners(n||"",!1);this.areaName===Kl.sync&&t.QUOTA_BYTES_PER_ITEM&&Jl({[this.key]:e})>t.QUOTA_BYTES_PER_ITEM?this.fireErrorListeners(n,!0):this.load((r=>{const o="object"==typeof r&&t.QUOTA_BYTES>0&&Jl(Object.assign(Object.assign({},r),{[this.key]:e}))>t.QUOTA_BYTES;this.fireErrorListeners(n,o)}),!0)}}class Ql extends Xl{constructor({namespace:e,area:t,key:n}){super({namespace:e,area:t,key:n}),this.areaApi=this.ns.storage[this.areaName]}load(e,t){"function"==typeof e&&this.areaApi.get(t?null:this.key,(n=>{this.callbackOnLoad(n,e,t)}))}save(e){this.areaApi.set({[this.key]:e},(()=>{this.callbackOnSave(e,this.areaApi)}))}}class Gl extends Xl{constructor({namespace:e,area:t,key:n}){super({namespace:e,area:t,key:n}),this.areaApi=this.ns.storage[this.areaName]}load(e,t){"function"==typeof e&&this.areaApi.get(t?null:this.key).then((t=>{this.callbackOnLoad(t,e)}))}save(e){this.areaApi.set({[this.key]:e}).then((()=>{this.callbackOnSave(e,this.areaApi)}))}}var Yl;function Zl(e){return Zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(e)}function ec(e){var t=function(e,t){if("object"!==Zl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Zl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zl(t)?t:String(t)}function tc(e,t,n){return(t=ec(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nc(Object(n),!0).forEach((function(t){tc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oc(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}!function(e){e.chrome="chrome",e.browser="browser"}(Yl||(Yl={}));var ac="function"==typeof Symbol&&Symbol.observable||"@@observable",ic=function(){return Math.random().toString(36).substring(7).split("").join(".")},sc={INIT:"@@redux/INIT"+ic(),REPLACE:"@@redux/REPLACE"+ic(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ic()}};function lc(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function cc(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(oc(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(oc(1));return n(cc)(e,t)}if("function"!=typeof e)throw new Error(oc(2));var o=e,a=t,i=[],s=i,l=!1;function c(){s===i&&(s=i.slice())}function u(){if(l)throw new Error(oc(3));return a}function d(e){if("function"!=typeof e)throw new Error(oc(4));if(l)throw new Error(oc(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(oc(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),i=null}}}function f(e){if(!lc(e))throw new Error(oc(7));if(void 0===e.type)throw new Error(oc(8));if(l)throw new Error(oc(9));try{l=!0,a=o(a,e)}finally{l=!1}for(var t=i=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:sc.INIT}),(r={dispatch:f,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(oc(10));o=e,f({type:sc.REPLACE})}})[ac]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(oc(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[ac]=function(){return this},e},r}function uc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function dc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(oc(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(o)}));return r=uc.apply(void 0,a)(n.dispatch),rc(rc({},n),{},{dispatch:r})}}}function fc(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var pc=fc();pc.withExtraArgument=fc;const hc=pc;var gc=function(){return gc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},gc.apply(this,arguments)},mc={decks:[],deckId:""};var yc=function(){return yc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yc.apply(this,arguments)},bc=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},vc=yc({savedCards:[],storedCards:[],text:"",translation:"",examples:[],image:null,imageUrl:null,error:void 0,back:null,front:"",currentCardId:null});const xc=function(e,t){void 0===e&&(e=vc);var n=yc({},e);switch(t.type){case D:n.savedCards=bc(bc([],e.savedCards,!0),t.payload,!0);break;case K:var r=yc(yc({},t.payload.id?t.payload:yc(yc({},t.payload),{id:Date.now().toString()})),{exportStatus:t.payload.exportStatus||"not_exported"}),o=e.storedCards.find((function(e){return e.text===r.text}));o?(n.storedCards=e.storedCards.map((function(e){return e.id===o.id?yc(yc({},r),{id:o.id}):e})),console.log("Updated existing card with text:",r.text)):(n.storedCards=bc(bc([],e.storedCards,!0),[r],!1),console.log("Added new card:",r.text));break;case G:n.storedCards=e.storedCards.map((function(e){return e.id===t.payload.cardId?yc(yc({},e),{exportStatus:t.payload.status}):e}));break;case Y:if(!t.payload.id)return console.error("Cannot update card without ID"),e;e.storedCards.some((function(e){return e.id===t.payload.id}))?(n.storedCards=e.storedCards.map((function(e){return e.id===t.payload.id?yc(yc({},t.payload),{exportStatus:t.payload.exportStatus||e.exportStatus}):e})),console.log("Updated card with ID:",t.payload.id)):(n.storedCards=bc(bc([],e.storedCards,!0),[yc(yc({},t.payload),{exportStatus:t.payload.exportStatus||"not_exported"})],!1),console.log("Added new card with ID:",t.payload.id));break;case J:break;case Q:n.storedCards=t.payload;break;case X:n.storedCards=e.storedCards.filter((function(e){return e.id!==t.payload}));break;case M:n.text=t.payload;break;case U:n.translation=t.payload;break;case $:n.examples=t.payload;break;case W:n.image=t.payload;break;case H:return yc(yc({},e),{imageUrl:t.payload});case V:return yc(yc({},e),{back:t.payload});case q:return yc(yc({},e),{front:t.payload});case Z:return yc(yc({},e),{currentCardId:t.payload});default:return e}return n};var wc=function(){return wc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},wc.apply(this,arguments)},Sc={openAiKey:"",mode:O.LanguageLearning,translateToLanguage:"ru",ankiConnectUrl:"http://127.0.0.1:8765",ankiConnectApiKey:null,useAnkiConnect:!1,visibleSideBar:!0,huggingFaceApiKey:"",shouldGenerateImage:!0,translationPrompt:"",examplesPrompt:"",aiInstructions:"",imageInstructions:""};var kc="SET_ANKI_AVAILABILITY",Ec=function(e){return{type:kc,payload:e}},Cc=function(){return Cc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Cc.apply(this,arguments)},_c={isAnkiAvailable:!1};var jc="TOGGLE_SIDEBAR",Ac=function(){return Ac=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ac.apply(this,arguments)},Oc={isSidebarVisible:!1};var Tc=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var a,i=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:sc.INIT}))throw new Error(oc(12));if(void 0===n(void 0,{type:sc.PROBE_UNKNOWN_ACTION()}))throw new Error(oc(13))}))}(n)}catch(e){a=e}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,o={},s=0;s<i.length;s++){var l=i[s],c=n[l],u=e[l],d=c(u,t);if(void 0===d){t&&t.type;throw new Error(oc(14))}o[l]=d,r=r||d!==u}return(r=r||i.length!==Object.keys(e).length)?o:e}}({deck:function(e,t){switch(void 0===e&&(e=mc),t.type){case Cl:return gc(gc({},e),{decks:t.payload});case _l:return gc(gc({},e),{deckId:t.payload});default:return e}},cards:xc,settings:function(e,t){switch(void 0===e&&(e=Sc),t.type){case Ee:return wc(wc({},e),{openAiKey:t.payload});case Ce:return wc(wc({},e),{mode:t.payload});case _e:return wc(wc({},e),{translateToLanguage:t.payload});case je:return wc(wc({},e),{ankiConnectUrl:t.payload});case Ae:return wc(wc({},e),{ankiConnectApiKey:t.payload});case Oe:return wc(wc({},e),{useAnkiConnect:t.payload});case Te:return wc(wc({},e),{visibleSideBar:t.visible});case Re:return wc(wc({},e),{huggingFaceApiKey:t.payload});case Pe:return wc(wc({},e),{shouldGenerateImage:t.payload});case Fe:return wc(wc({},e),{translationPrompt:t.payload});case Ne:return wc(wc({},e),{examplesPrompt:t.payload});case Ie:return wc(wc({},e),{aiInstructions:t.payload});case Be:return wc(wc({},e),{imageInstructions:t.payload});default:return e}},currentPage:function(e,t){return void 0===e&&(e="createCard"),"SET_CURRENT_PAGE"===t.type?t.currentPage:e},anki:function(e,t){return void 0===e&&(e=_c),t.type===kc?Cc(Cc({},e),{isAnkiAvailable:t.payload}):e},sidebar:function(e,t){return void 0===e&&(e=Oc),t.type===jc?Ac(Ac({},e),{isSidebarVisible:!e.isSidebarVisible}):e}}),Rc=function(e,t,n){const{namespace:r,chromeNs:o,browserNs:a,storageArea:i,storageKey:s,isolated:l,plainActions:c,outdatedTimeout:u}=t||{},{onGlobalChange:d,onLocalChange:f,onError:p}=n||{};if("function"!=typeof e)throw new Error("Missing argument for 'storeCreatorContainer'");const h=a||r===Yl.browser?new Gl({namespace:a||browser,area:i,key:s}):new Ql({namespace:o||chrome,area:i,key:s});return"function"==typeof d&&h.regListener(((t,n)=>{const r=new ql(e,h,!0,c),[o]=Vl(t),[a]=Vl(n);d(r.initFrom(o),a)})),l||h.regShared(),t=>{p&&h.subscribeForError(p);return new ql(e,h,l,c,u,f,t).init()}}((function(e){return cc(Tc,e,dc(hc,ml))})),Pc=function(){return Pc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Pc.apply(this,arguments)},Fc=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},Nc=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};const Ic=function(){var e=this,t=(0,o.useState)(null),n=t[0],r=t[1],a=(y((function(e){return e.anki.isAnkiAvailable})),(0,o.useState)(!0)),s=a[0],l=a[1],c=y((function(e){return e.currentPage})),u=_(),d=y((function(e){return e.settings.ankiConnectApiKey})),f=fl(),p=(f.showError,f.renderErrorNotification),h=y((function(e){return e.cards.storedCards}));if((0,o.useEffect)((function(){Fc(e,void 0,void 0,(function(){var e,t,n,o;return Nc(this,(function(a){switch(a.label){case 0:return a.trys.push([0,6,7,8]),[4,Rc()];case 1:e=a.sent(),r(e),u(ne()),console.log("Initial card load from App component"),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,B(d)];case 3:return(t=a.sent()).error?(console.error("Anki returned an error:",t.error),u(Ec(!1))):(u(function(e){return{type:Cl,payload:e}}(t.result)),u(Ec(!0)),console.log("Anki is available",c)),[3,5];case 4:return n=a.sent(),console.error("Anki is unavailable:",n),u(Ec(!1)),[3,5];case 5:return[3,8];case 6:return o=a.sent(),console.error("Error loading state from Chrome storage:",o),[3,8];case 7:return l(!1),[7];case 8:return[2]}}))}))}),[u,d,s,c]),(0,o.useEffect)((function(){console.log("App: Stored cards count:",h.length)}),[h]),!n)return null;var g=function(e){u(T(e))},m=function(){u({type:jc}),chrome.runtime.sendMessage({action:"toggleSidebar"},(function(e){chrome.runtime.lastError?console.error("Error sending message:",chrome.runtime.lastError.message):console.log("Extension closed:",e)}))};return(0,i.jsx)("div",Pc({className:"App",style:{backgroundColor:"#ffffff",height:"100vh",display:"flex",flexDirection:"column",position:"absolute",right:0,top:0,width:"350px",fontFamily:"Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif",boxShadow:"0 0 0 1px rgba(0, 0, 0, 0.05), 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}},{children:(0,i.jsxs)("div",Pc({style:{flex:1,width:"100%",height:"100%",position:"relative",display:"flex",flexDirection:"column"}},{children:["createCard"!==c?null:(0,i.jsxs)("div",Pc({className:"header-buttons",style:{position:"absolute",top:"10px",left:"12px",right:"12px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"6px",zIndex:100}},{children:[(0,i.jsxs)("button",Pc({onClick:function(){return g("storedCards")},className:"header-button",style:{backgroundColor:"storedCards"===c?"#e5e7eb":"#f3f4f6",border:"none",cursor:"pointer",fontSize:"15px",padding:"6px 0",color:"#4B5563",borderRadius:"6px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",flex:1,height:"34px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)"},onMouseOver:function(e){"storedCards"!==c&&(e.currentTarget.style.backgroundColor="#e5e7eb"),e.currentTarget.style.color="#111827"},onMouseOut:function(e){"storedCards"!==c&&(e.currentTarget.style.backgroundColor="#f3f4f6"),e.currentTarget.style.color="#4B5563"},title:"View Saved Cards"},{children:[(0,i.jsx)(rt,{style:{marginRight:"4px"},size:14}),(0,i.jsx)("span",Pc({style:{fontSize:"13px",fontWeight:500}},{children:"Cards"}))]})),(0,i.jsxs)("button",Pc({onClick:function(){return g("settings")},className:"header-button",style:{backgroundColor:"settings"===c?"#e5e7eb":"#f3f4f6",border:"none",cursor:"pointer",fontSize:"15px",padding:"6px 0",color:"#4B5563",borderRadius:"6px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",flex:1,height:"34px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)"},onMouseOver:function(e){"settings"!==c&&(e.currentTarget.style.backgroundColor="#e5e7eb"),e.currentTarget.style.color="#111827"},onMouseOut:function(e){"settings"!==c&&(e.currentTarget.style.backgroundColor="#f3f4f6"),e.currentTarget.style.color="#4B5563"},title:"Settings"},{children:[(0,i.jsx)(Qe,{style:{marginRight:"4px"},size:14}),(0,i.jsx)("span",Pc({style:{fontSize:"13px",fontWeight:500}},{children:"Settings"}))]})),(0,i.jsxs)("button",Pc({onClick:m,className:"header-button",style:{backgroundColor:"#f3f4f6",border:"none",cursor:"pointer",fontSize:"15px",padding:"6px 0",color:"#EF4444",borderRadius:"6px",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",flex:1,height:"34px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.05)"},onMouseOver:function(e){e.currentTarget.style.backgroundColor="#e5e7eb",e.currentTarget.style.color="#B91C1C"},onMouseOut:function(e){e.currentTarget.style.backgroundColor="#f3f4f6",e.currentTarget.style.color="#EF4444"},title:"Close"},{children:[(0,i.jsx)(ut,{style:{marginRight:"4px"},size:14}),(0,i.jsx)("span",Pc({style:{fontSize:"13px",fontWeight:500}},{children:"Close"}))]}))]})),(0,i.jsxs)("header",Pc({className:"App-header",style:{width:"100%",flex:1,display:"flex",flexDirection:"column",backgroundColor:"#ffffff",marginTop:"44px",height:"calc(100% - 44px)"}},{children:[function(){switch(c){case"settings":return(0,i.jsx)(El,{onBackClick:function(){return g("createCard")},popup:!1});case"storedCards":return(0,i.jsx)(Pl,{onBackClick:function(){return g("createCard")}});default:return(0,i.jsx)("div",Pc({style:{width:"100%",flex:1,display:"flex",flexDirection:"column",overflow:"auto",height:"100%",position:"relative"}},{children:(0,i.jsx)(xl,{})}))}}(),(0,i.jsx)("div",Pc({style:{position:"absolute",top:"8px",left:"0",right:"0",width:"100%",zIndex:60,padding:"0 16px"}},{children:p()}))]}))]}))}))};var Bc;console.log("Content script works!"),console.log("Must reload extension for modifications to take effect."),Bc="Using the 'printLine' function from the Print Module",console.log("===> FROM THE PRINT MODULE:",Bc);const Lc=document.createElement("div");Lc.id="sidebar",Lc.setAttribute("style","\n  all: initial;\n  position: fixed;\n  top: 0;\n  right: 0;\n  width: 350px;\n  height: 100%;\n  overflow: auto;\n  z-index: 9999;\n  background-color: #282c34;\n  box-shadow: -2px 0 5px rgba(0, 0, 0, 0.5);\n  transform: translateX(100%); /* по умолчанию скрыто */\n  transition: transform 0.3s ease-in-out;\n");const zc=Lc.attachShadow({mode:"open"}),Dc=document.createElement("link");Dc.setAttribute("rel","stylesheet");const Mc=chrome.runtime.getURL("tailwind.css");Dc.setAttribute("href",Mc),zc.appendChild(Dc),document.body.appendChild(Lc);const Uc=(0,a.H)(zc),$c=()=>{const[e,t]=(0,o.useState)(null);return(0,o.useEffect)((()=>{Rc().then((e=>t(e))).catch((e=>console.error("Error loading state from Chrome storage:",e)))}),[]),e?o.createElement(S,{store:e},o.createElement(Ic,null)):null},Wc=o.createElement($c,{});Uc.render(Wc),chrome.runtime.onMessage.addListener(((e,t,n)=>{if("toggleSidebar"===e.action)return chrome.storage.local.get(["isSidebarVisible"],(e=>{let t=!e.isSidebarVisible;chrome.storage.local.set({isSidebarVisible:t},(()=>{t?(Lc.style.transform="translateX(0)",document.body.style.marginRight="350px"):(Lc.style.transform="translateX(100%)",document.body.style.marginRight="0"),n({status:"Sidebar toggled",visible:t}),console.log("Sidebar toggled:",t)}))})),!0})),chrome.storage.local.get(["isSidebarVisible"],(e=>{e.isSidebarVisible?(Lc.style.transform="translateX(0)",document.body.style.marginRight="350px"):(Lc.style.transform="translateX(100%)",document.body.style.marginRight="0")}))})();