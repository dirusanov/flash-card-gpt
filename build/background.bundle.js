console.log("I am background script"),chrome.runtime.onMessage.addListener(((e,o,r)=>(console.log("Message received:",e),fetch(e,{method:"GET"}).then((e=>e.blob())).then((e=>{console.log("Blob fetched successfully.");const o=new FileReader;o.onloadend=()=>{console.log("Blob read successfully."),r({status:!0,data:o.result})},o.onerror=e=>{console.error("Error occurred while reading blob:",e),r({status:!1,error:e.toString()})},o.readAsDataURL(e)})).catch((e=>{console.error("Error occurred while fetching image:",e),r({status:!1,error:e.toString()})})),!0))),console.log("Background script has been loaded."),chrome.action.onClicked.addListener((e=>{console.log("Extension icon clicked. Sending message to content script..."),chrome.tabs.sendMessage(e.id,{action:"toggleSidebar"},(e=>{chrome.runtime.lastError?console.error("Error sending message:",chrome.runtime.lastError.message):console.log("Response from content script:",e)}))}));